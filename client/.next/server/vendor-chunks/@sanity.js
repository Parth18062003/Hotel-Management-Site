"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity";
exports.ids = ["vendor-chunks/@sanity"];
exports.modules = {

/***/ "(rsc)/./node_modules/@sanity/uuid/lib/esm/uuid.js":
/*!***************************************************!*\
  !*** ./node_modules/@sanity/uuid/lib/esm/uuid.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   uuid: () => (/* reexport safe */ uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n //# sourceMappingURL=uuid.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS91dWlkL2xpYi9lc20vdXVpZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQyxDQUNsQyxnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbF9tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvdXVpZC9saWIvZXNtL3V1aWQuanM/NTEwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dWlkLmpzLm1hcCJdLCJuYW1lcyI6WyJ2NCIsInV1aWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/uuid/lib/esm/uuid.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/eventsource/node.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/eventsource/node.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nmodule.exports = __webpack_require__(/*! eventsource */ \"(rsc)/./node_modules/eventsource/lib/eventsource.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzIiwibWFwcGluZ3MiOiI7QUFBQUEsOEdBQXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG90ZWxfbWFuYWdlbWVudC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2V2ZW50c291cmNlL25vZGUuanM/ZDg4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2V2ZW50c291cmNlJylcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/eventsource/node.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-zDVeirri.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/browserMiddleware-zDVeirri.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   b: () => (/* binding */ b),\n/* harmony export */   defineCreateClientExports: () => (/* binding */ defineCreateClientExports),\n/* harmony export */   envMiddleware: () => (/* binding */ envMiddleware),\n/* harmony export */   printNoDefaultExport: () => (/* binding */ printNoDefaultExport),\n/* harmony export */   vercelStegaCleanAll: () => (/* binding */ vercelStegaCleanAll)\n/* harmony export */ });\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n/* harmony import */ var get_it_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it/middleware */ \"(rsc)/./node_modules/get-it/dist/middleware.browser.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ \"(rsc)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n\n\n\n\nconst MAX_ITEMS_IN_ERROR_MESSAGE = 5;\nclass ClientError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 400;\n        Object.assign(this, props);\n    }\n}\nclass ServerError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 500;\n        Object.assign(this, props);\n    }\n}\nfunction extractErrorProps(res) {\n    const body = res.body;\n    const props = {\n        response: res,\n        statusCode: res.statusCode,\n        responseBody: stringifyBody(body, res),\n        message: \"\",\n        details: void 0\n    };\n    if (body.error && body.message) {\n        props.message = \"\".concat(body.error, \" - \").concat(body.message);\n        return props;\n    }\n    if (isMutationError(body)) {\n        const allItems = body.error.items || [];\n        const items = allItems.slice(0, MAX_ITEMS_IN_ERROR_MESSAGE).map((item)=>{\n            var _a;\n            return (_a = item.error) == null ? void 0 : _a.description;\n        }).filter(Boolean);\n        let itemsStr = items.length ? \":\\n- \".concat(items.join(\"\\n- \")) : \"\";\n        if (allItems.length > MAX_ITEMS_IN_ERROR_MESSAGE) {\n            itemsStr += \"\\n...and \".concat(allItems.length - MAX_ITEMS_IN_ERROR_MESSAGE, \" more\");\n        }\n        props.message = \"\".concat(body.error.description).concat(itemsStr);\n        props.details = body.error;\n        return props;\n    }\n    if (body.error && body.error.description) {\n        props.message = body.error.description;\n        props.details = body.error;\n        return props;\n    }\n    props.message = body.error || body.message || httpErrorMessage(res);\n    return props;\n}\nfunction isMutationError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description === \"string\";\n}\nfunction isPlainObject(obj) {\n    return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n    const statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : \"\";\n    return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\nfunction stringifyBody(body, res) {\n    const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n    const isJson = contentType.indexOf(\"application/json\") !== -1;\n    return isJson ? JSON.stringify(body, null, 2) : body;\n}\nconst httpError = {\n    onResponse: (res)=>{\n        if (res.statusCode >= 500) {\n            throw new ServerError(res);\n        } else if (res.statusCode >= 400) {\n            throw new ClientError(res);\n        }\n        return res;\n    }\n};\nconst printWarnings = {\n    onResponse: (res)=>{\n        const warn = res.headers[\"x-sanity-warning\"];\n        const warnings = Array.isArray(warn) ? warn : [\n            warn\n        ];\n        warnings.filter(Boolean).forEach((msg)=>console.warn(msg));\n        return res;\n    }\n};\nfunction defineHttpRequest(envMiddleware, { maxRetries = 5, retryDelay }) {\n    const request = (0,get_it__WEBPACK_IMPORTED_MODULE_0__.getIt)([\n        maxRetries > 0 ? (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry)({\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            retryDelay,\n            // This option is typed incorrectly in get-it.\n            maxRetries,\n            shouldRetry\n        }) : {},\n        ...envMiddleware,\n        printWarnings,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonRequest)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonResponse)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.progress)(),\n        httpError,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.observable)({\n            implementation: _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable\n        })\n    ]);\n    function httpRequest(options, requester = request) {\n        return requester({\n            maxRedirects: 0,\n            ...options\n        });\n    }\n    httpRequest.defaultRequester = request;\n    return httpRequest;\n}\nfunction shouldRetry(err, attempt, options) {\n    const isSafe = options.method === \"GET\" || options.method === \"HEAD\";\n    const uri = options.uri || options.url;\n    const isQuery = uri.startsWith(\"/data/query\");\n    const isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n    if ((isSafe || isQuery) && isRetriableResponse) return true;\n    return get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry.shouldRetry(err, attempt, options);\n}\nfunction getSelection(sel) {\n    if (typeof sel === \"string\" || Array.isArray(sel)) {\n        return {\n            id: sel\n        };\n    }\n    if (typeof sel === \"object\" && sel !== null && \"query\" in sel && typeof sel.query === \"string\") {\n        return \"params\" in sel && typeof sel.params === \"object\" && sel.params !== null ? {\n            query: sel.query,\n            params: sel.params\n        } : {\n            query: sel.query\n        };\n    }\n    const selectionOpts = [\n        \"* Document ID (<docId>)\",\n        \"* Array of document IDs\",\n        \"* Object containing `query`\"\n    ].join(\"\\n\");\n    throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n}\nconst VALID_ASSET_TYPES = [\n    \"image\",\n    \"file\"\n];\nconst VALID_INSERT_LOCATIONS = [\n    \"before\",\n    \"after\",\n    \"replace\"\n];\nconst dataset = (name)=>{\n    if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n        throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n    }\n};\nconst projectId = (id)=>{\n    if (!/^[-a-z0-9]+$/i.test(id)) {\n        throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n    }\n};\nconst validateAssetType = (type)=>{\n    if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n        throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(\", \")));\n    }\n};\nconst validateObject = (op, val)=>{\n    if (val === null || typeof val !== \"object\" || Array.isArray(val)) {\n        throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n    }\n};\nconst validateDocumentId = (op, id)=>{\n    if (typeof id !== \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\")) {\n        throw new Error(\"\".concat(op, '(): \"').concat(id, '\" is not a valid document ID'));\n    }\n};\nconst requireDocumentId = (op, doc)=>{\n    if (!doc._id) {\n        throw new Error(\"\".concat(op, '() requires that the document contains an ID (\"_id\" property)'));\n    }\n    validateDocumentId(op, doc._id);\n};\nconst validateInsert = (at, selector, items)=>{\n    const signature = \"insert(at, selector, items)\";\n    if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n        const valid = VALID_INSERT_LOCATIONS.map((loc)=>'\"'.concat(loc, '\"')).join(\", \");\n        throw new Error(\"\".concat(signature, ' takes an \"at\"-argument which is one of: ').concat(valid));\n    }\n    if (typeof selector !== \"string\") {\n        throw new Error(\"\".concat(signature, ' takes a \"selector\"-argument which must be a string'));\n    }\n    if (!Array.isArray(items)) {\n        throw new Error(\"\".concat(signature, ' takes an \"items\"-argument which must be an array'));\n    }\n};\nconst hasDataset = (config)=>{\n    if (!config.dataset) {\n        throw new Error(\"`dataset` must be provided to perform queries\");\n    }\n    return config.dataset || \"\";\n};\nconst requestTag = (tag)=>{\n    if (typeof tag !== \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n        throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n    }\n    return tag;\n};\nvar __accessCheck$6 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$6 = (obj, member, getter)=>{\n    __accessCheck$6(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$6 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$6 = (obj, member, value, setter)=>{\n    __accessCheck$6(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$5, _client2$5;\nclass BasePatch {\n    constructor(selection, operations = {}){\n        this.selection = selection;\n        this.operations = operations;\n    }\n    /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ set(attrs) {\n        return this._assign(\"set\", attrs);\n    }\n    /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ setIfMissing(attrs) {\n        return this._assign(\"setIfMissing\", attrs);\n    }\n    /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */ diffMatchPatch(attrs) {\n        validateObject(\"diffMatchPatch\", attrs);\n        return this._assign(\"diffMatchPatch\", attrs);\n    }\n    /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */ unset(attrs) {\n        if (!Array.isArray(attrs)) {\n            throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n        }\n        this.operations = Object.assign({}, this.operations, {\n            unset: attrs\n        });\n        return this;\n    }\n    /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */ inc(attrs) {\n        return this._assign(\"inc\", attrs);\n    }\n    /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */ dec(attrs) {\n        return this._assign(\"dec\", attrs);\n    }\n    /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */ insert(at, selector, items) {\n        validateInsert(at, selector, items);\n        return this._assign(\"insert\", {\n            [at]: selector,\n            items\n        });\n    }\n    /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */ append(selector, items) {\n        return this.insert(\"after\", \"\".concat(selector, \"[-1]\"), items);\n    }\n    /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */ prepend(selector, items) {\n        return this.insert(\"before\", \"\".concat(selector, \"[0]\"), items);\n    }\n    /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */ splice(selector, start, deleteCount, items) {\n        const delAll = typeof deleteCount === \"undefined\" || deleteCount === -1;\n        const startIndex = start < 0 ? start - 1 : start;\n        const delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n        const delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount;\n        const rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n        return this.insert(\"replace\", rangeSelector, items || []);\n    }\n    /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */ ifRevisionId(rev) {\n        this.operations.ifRevisionID = rev;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ serialize() {\n        return {\n            ...getSelection(this.selection),\n            ...this.operations\n        };\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the patch of all operations\n   */ reset() {\n        this.operations = {};\n        return this;\n    }\n    _assign(op, props, merge = true) {\n        validateObject(op, props);\n        this.operations = Object.assign({}, this.operations, {\n            [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n        });\n        return this;\n    }\n    _set(op, props) {\n        return this._assign(op, props, false);\n    }\n}\nconst _ObservablePatch = class _ObservablePatch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client$5, void 0);\n        __privateSet$6(this, _client$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _ObservablePatch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client$5 = new WeakMap();\nlet ObservablePatch = _ObservablePatch;\nconst _Patch = class _Patch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client2$5, void 0);\n        __privateSet$6(this, _client2$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _Patch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client2$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client2$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client2$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client2$5 = new WeakMap();\nlet Patch = _Patch;\nvar __accessCheck$5 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$5 = (obj, member, getter)=>{\n    __accessCheck$5(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$5 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$5 = (obj, member, value, setter)=>{\n    __accessCheck$5(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$4, _client2$4;\nconst defaultMutateOptions = {\n    returnDocuments: false\n};\nclass BaseTransaction {\n    constructor(operations = [], transactionId){\n        this.operations = operations;\n        this.trxId = transactionId;\n    }\n    /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */ create(doc) {\n        validateObject(\"create\", doc);\n        return this._add({\n            create: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */ createIfNotExists(doc) {\n        const op = \"createIfNotExists\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */ createOrReplace(doc) {\n        const op = \"createOrReplace\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */ delete(documentId) {\n        validateDocumentId(\"delete\", documentId);\n        return this._add({\n            delete: {\n                id: documentId\n            }\n        });\n    }\n    transactionId(id) {\n        if (!id) {\n            return this.trxId;\n        }\n        this.trxId = id;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ serialize() {\n        return [\n            ...this.operations\n        ];\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the transaction of all operations\n   */ reset() {\n        this.operations = [];\n        return this;\n    }\n    _add(mut) {\n        this.operations.push(mut);\n        return this;\n    }\n}\nconst _Transaction = class _Transaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client$4, void 0);\n        __privateSet$5(this, _client$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _Transaction([\n            ...this.operations\n        ], __privateGet$5(this, _client$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof Patch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new Patch(patchOrDocumentId, {}, __privateGet$5(this, _client$4)));\n            if (!(patch instanceof Patch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client$4 = new WeakMap();\nlet Transaction = _Transaction;\nconst _ObservableTransaction = class _ObservableTransaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client2$4, void 0);\n        __privateSet$5(this, _client2$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _ObservableTransaction([\n            ...this.operations\n        ], __privateGet$5(this, _client2$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client2$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client2$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof ObservablePatch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, __privateGet$5(this, _client2$4)));\n            if (!(patch instanceof ObservablePatch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client2$4 = new WeakMap();\nlet ObservableTransaction = _ObservableTransaction;\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n    return BASE_URL + slug;\n}\nfunction once(fn) {\n    let didCall = false;\n    let returnValue;\n    return (...args)=>{\n        if (didCall) {\n            return returnValue;\n        }\n        returnValue = fn(...args);\n        didCall = true;\n        return returnValue;\n    };\n}\nconst createWarningPrinter = (message)=>// eslint-disable-next-line no-console\n    once((...args)=>console.warn(message.join(\" \"), ...args));\nconst printCdnWarning = createWarningPrinter([\n    \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n    \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n    \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]);\nconst printCdnPreviewDraftsWarning = createWarningPrinter([\n    \"The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.\",\n    \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]);\nconst printBrowserTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n    \"See \".concat(generateHelpUrl(\"js-client-browser-token\"), \" for more information and how to hide this warning.\")\n]);\nconst printNoApiVersionSpecifiedWarning = createWarningPrinter([\n    \"Using the Sanity client without specifying an API version is deprecated.\",\n    \"See \".concat(generateHelpUrl(\"js-client-api-version\"))\n]);\nconst printNoDefaultExport = createWarningPrinter([\n    \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]);\nconst defaultCdnHost = \"apicdn.sanity.io\";\nconst defaultConfig = {\n    apiHost: \"https://api.sanity.io\",\n    apiVersion: \"1\",\n    useProjectHostname: true,\n    stega: {\n        enabled: false\n    }\n};\nconst LOCALHOSTS = [\n    \"localhost\",\n    \"127.0.0.1\",\n    \"0.0.0.0\"\n];\nconst isLocal = (host)=>LOCALHOSTS.indexOf(host) !== -1;\nconst validateApiVersion = function validateApiVersion2(apiVersion) {\n    if (apiVersion === \"1\" || apiVersion === \"X\") {\n        return;\n    }\n    const apiDate = new Date(apiVersion);\n    const apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n    if (!apiVersionValid) {\n        throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n    }\n};\nconst validateApiPerspective = function validateApiPerspective2(perspective) {\n    switch(perspective){\n        case \"previewDrafts\":\n        case \"published\":\n        case \"raw\":\n            return;\n        default:\n            throw new TypeError(\"Invalid API perspective string, expected `published`, `previewDrafts` or `raw`\");\n    }\n};\nconst initConfig = (config, prevConfig)=>{\n    const specifiedConfig = {\n        ...prevConfig,\n        ...config,\n        stega: {\n            ...typeof prevConfig.stega === \"boolean\" ? {\n                enabled: prevConfig.stega\n            } : prevConfig.stega || defaultConfig.stega,\n            ...typeof config.stega === \"boolean\" ? {\n                enabled: config.stega\n            } : config.stega || {}\n        }\n    };\n    if (!specifiedConfig.apiVersion) {\n        printNoApiVersionSpecifiedWarning();\n    }\n    const newConfig = {\n        ...defaultConfig,\n        ...specifiedConfig\n    };\n    const projectBased = newConfig.useProjectHostname;\n    if (typeof Promise === \"undefined\") {\n        const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n        throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n    }\n    if (projectBased && !newConfig.projectId) {\n        throw new Error(\"Configuration must contain `projectId`\");\n    }\n    if (typeof newConfig.perspective === \"string\") {\n        validateApiPerspective(newConfig.perspective);\n    }\n    if (\"encodeSourceMap\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?\");\n    }\n    if (\"encodeSourceMapAtPath\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?\");\n    }\n    if (typeof newConfig.stega.enabled !== \"boolean\") {\n        throw new Error(\"stega.enabled must be a boolean, received \".concat(newConfig.stega.enabled));\n    }\n    if (newConfig.stega.enabled && newConfig.stega.studioUrl === void 0) {\n        throw new Error(\"stega.studioUrl must be defined when stega.enabled is true\");\n    }\n    if (newConfig.stega.enabled && typeof newConfig.stega.studioUrl !== \"string\" && typeof newConfig.stega.studioUrl !== \"function\") {\n        throw new Error(\"stega.studioUrl must be a string or a function, received \".concat(newConfig.stega.studioUrl));\n    }\n    const isBrowser =  false && 0;\n    const isLocalhost = isBrowser && isLocal(window.location.hostname);\n    if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n        printBrowserTokenWarning();\n    } else if (typeof newConfig.useCdn === \"undefined\") {\n        printCdnWarning();\n    }\n    if (projectBased) {\n        projectId(newConfig.projectId);\n    }\n    if (newConfig.dataset) {\n        dataset(newConfig.dataset);\n    }\n    if (\"requestTagPrefix\" in newConfig) {\n        newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0;\n    }\n    newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, \"\");\n    newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n    newConfig.useCdn = newConfig.useCdn !== false && !newConfig.withCredentials;\n    validateApiVersion(newConfig.apiVersion);\n    const hostParts = newConfig.apiHost.split(\"://\", 2);\n    const protocol = hostParts[0];\n    const host = hostParts[1];\n    const cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n    if (newConfig.useProjectHostname) {\n        newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n    } else {\n        newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = newConfig.url;\n    }\n    return newConfig;\n};\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config, overrides = {}) {\n    const headers = {};\n    const token = overrides.token || config.token;\n    if (token) {\n        headers.Authorization = \"Bearer \".concat(token);\n    }\n    if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n        headers[projectHeader] = config.projectId;\n    }\n    const withCredentials = Boolean(typeof overrides.withCredentials === \"undefined\" ? config.token || config.withCredentials : overrides.withCredentials);\n    const timeout = typeof overrides.timeout === \"undefined\" ? config.timeout : overrides.timeout;\n    return Object.assign({}, overrides, {\n        headers: Object.assign({}, headers, overrides.headers || {}),\n        timeout: typeof timeout === \"undefined\" ? 5 * 60 * 1e3 : timeout,\n        proxy: overrides.proxy || config.proxy,\n        json: true,\n        withCredentials,\n        fetch: typeof overrides.fetch === \"object\" && typeof config.fetch === \"object\" ? {\n            ...config.fetch,\n            ...overrides.fetch\n        } : overrides.fetch || config.fetch\n    });\n}\nvar s = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 8290,\n    4: 8291,\n    5: 8288,\n    6: 65279,\n    7: 8289,\n    8: 119155,\n    9: 119156,\n    a: 119157,\n    b: 119158,\n    c: 119159,\n    d: 119160,\n    e: 119161,\n    f: 119162\n}, c = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 65279\n}, d = new Array(4).fill(String.fromCodePoint(c[0])).join(\"\");\nfunction E(t) {\n    let e = JSON.stringify(t);\n    return `${d}${Array.from(e).map((r)=>{\n        let n = r.charCodeAt(0);\n        if (n > 255) throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);\n        return Array.from(n.toString(4).padStart(4, \"0\")).map((o)=>String.fromCodePoint(c[o])).join(\"\");\n    }).join(\"\")}`;\n}\nfunction I(t) {\n    return Number.isNaN(Number(t)) ? Boolean(Date.parse(t)) : !1;\n}\nfunction x(t) {\n    try {\n        new URL(t, t.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return !1;\n    }\n    return !0;\n}\nfunction b(t, e, r = \"auto\") {\n    return r === !0 || r === \"auto\" && (I(t) || x(t)) ? t : `${t}${E(e)}`;\n}\nObject.fromEntries(Object.entries(c).map((t)=>t.reverse()));\nObject.fromEntries(Object.entries(s).map((t)=>t.reverse()));\nvar S = `${Object.values(s).map((t)=>`\\\\u{${t.toString(16)}}`).join(\"\")}`, f = new RegExp(`[${S}]{4,}`, \"gu\");\nfunction X(t) {\n    var e;\n    return {\n        cleaned: t.replace(f, \"\"),\n        encoded: ((e = t.match(f)) == null ? void 0 : e[0]) || \"\"\n    };\n}\nfunction vercelStegaCleanAll(result) {\n    try {\n        return JSON.parse(JSON.stringify(result, (key, value)=>{\n            if (typeof value !== \"string\") return value;\n            return X(value).cleaned;\n        }));\n    } catch  {\n        return result;\n    }\n}\nconst encodeQueryString = ({ query, params = {}, options = {} })=>{\n    const searchParams = new URLSearchParams();\n    const { tag, ...opts } = options;\n    if (tag) searchParams.append(\"tag\", tag);\n    searchParams.append(\"query\", query);\n    for (const [key, value] of Object.entries(params)){\n        searchParams.append(\"$\".concat(key), JSON.stringify(value));\n    }\n    for (const [key, value] of Object.entries(opts)){\n        if (value) searchParams.append(key, \"\".concat(value));\n    }\n    return \"?\".concat(searchParams);\n};\nconst excludeFalsey = (param, defValue)=>{\n    const value = typeof param === \"undefined\" ? defValue : param;\n    return param === false ? void 0 : value;\n};\nconst getMutationQuery = (options = {})=>{\n    return {\n        dryRun: options.dryRun,\n        returnIds: true,\n        returnDocuments: excludeFalsey(options.returnDocuments, true),\n        visibility: options.visibility || \"sync\",\n        autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n        skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n    };\n};\nconst isResponse = (event)=>event.type === \"response\";\nconst getBody = (event)=>event.body;\nconst indexBy = (docs, attr)=>docs.reduce((indexed, doc)=>{\n        indexed[attr(doc)] = doc;\n        return indexed;\n    }, /* @__PURE__ */ Object.create(null));\nconst getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, _stega, query, _params = {}, options = {}) {\n    const stega = \"stega\" in options ? {\n        ..._stega || {},\n        ...typeof options.stega === \"boolean\" ? {\n            enabled: options.stega\n        } : options.stega || {}\n    } : _stega;\n    const params = stega.enabled ? vercelStegaCleanAll(_params) : _params;\n    const mapResponse = options.filterResponse === false ? (res)=>res : (res)=>res.result;\n    const { cache, next, ...opts } = {\n        // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n        // This is necessary in React Server Components to avoid opting out of Request Memoization.\n        useAbortSignal: typeof options.signal !== \"undefined\",\n        // Set `resultSourceMap' when stega is enabled, as it's required for encoding.\n        resultSourceMap: stega.enabled ? \"withKeyArraySelector\" : options.resultSourceMap,\n        ...options\n    };\n    const reqOpts = typeof cache !== \"undefined\" || typeof next !== \"undefined\" ? {\n        ...opts,\n        fetch: {\n            cache,\n            next\n        }\n    } : opts;\n    const $request = _dataRequest(client, httpRequest, \"query\", {\n        query,\n        params\n    }, reqOpts);\n    return stega.enabled ? $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.combineLatestWith)((0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.from)(__webpack_require__.e(/*! import() */ \"vendor-chunks/@sanity\").then(__webpack_require__.bind(__webpack_require__, /*! ./stegaEncodeSourceMap-gZIRaYar.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-gZIRaYar.js\")).then(function(n) {\n        return n.stegaEncodeSourceMap$1;\n    }).then(({ stegaEncodeSourceMap })=>stegaEncodeSourceMap))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(([res, stegaEncodeSourceMap])=>{\n        const result = stegaEncodeSourceMap(res.result, res.resultSourceMap, stega);\n        return mapResponse({\n            ...res,\n            result\n        });\n    })) : $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", id),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>{\n        const indexed = indexBy(event.body.documents || [], (doc)=>doc._id);\n        return ids.map((id)=>indexed[id] || null);\n    }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n    requireDocumentId(\"createIfNotExists\", doc);\n    return _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n    requireDocumentId(\"createOrReplace\", doc);\n    return _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            {\n                delete: getSelection(selection)\n            }\n        ]\n    }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n    let mut;\n    if (mutations instanceof Patch || mutations instanceof ObservablePatch) {\n        mut = {\n            patch: mutations.serialize()\n        };\n    } else if (mutations instanceof Transaction || mutations instanceof ObservableTransaction) {\n        mut = mutations.serialize();\n    } else {\n        mut = mutations;\n    }\n    const muts = Array.isArray(mut) ? mut : [\n        mut\n    ];\n    const transactionId = options && options.transactionId || void 0;\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: muts,\n        transactionId\n    }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body, options = {}) {\n    const isMutation = endpoint === \"mutate\";\n    const isQuery = endpoint === \"query\";\n    const strQuery = isMutation ? \"\" : encodeQueryString(body);\n    const useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    const stringQuery = useGet ? strQuery : \"\";\n    const returnFirst = options.returnFirst;\n    const { timeout, token, tag, headers } = options;\n    const uri = _getDataUrl(client, endpoint, stringQuery);\n    const reqOptions = {\n        method: useGet ? \"GET\" : \"POST\",\n        uri,\n        json: true,\n        body: useGet ? void 0 : body,\n        query: isMutation && getMutationQuery(options),\n        timeout,\n        headers,\n        token,\n        tag,\n        perspective: options.perspective,\n        resultSourceMap: options.resultSourceMap,\n        canUseCdn: isQuery,\n        signal: options.signal,\n        fetch: options.fetch,\n        useAbortSignal: options.useAbortSignal,\n        useCdn: options.useCdn\n    };\n    return _requestObservable(client, httpRequest, reqOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(getBody), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((res)=>{\n        if (!isMutation) {\n            return res;\n        }\n        const results = res.results || [];\n        if (options.returnDocuments) {\n            return returnFirst ? results[0] && results[0].document : results.map((mut)=>mut.document);\n        }\n        const key = returnFirst ? \"documentId\" : \"documentIds\";\n        const ids = returnFirst ? results[0] && results[0].id : results.map((mut)=>mut.id);\n        return {\n            transactionId: res.transactionId,\n            results,\n            [key]: ids\n        };\n    }));\n}\nfunction _create(client, httpRequest, doc, op, options = {}) {\n    const mutation = {\n        [op]: doc\n    };\n    const opts = Object.assign({\n        returnFirst: true,\n        returnDocuments: true\n    }, options);\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            mutation\n        ]\n    }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n    var _a, _b;\n    const uri = options.url || options.uri;\n    const config = client.config();\n    const canUseCdn = typeof options.canUseCdn === \"undefined\" ? [\n        \"GET\",\n        \"HEAD\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n    let useCdn = ((_a = options.useCdn) != null ? _a : config.useCdn) && canUseCdn;\n    const tag = options.tag && config.requestTagPrefix ? [\n        config.requestTagPrefix,\n        options.tag\n    ].join(\".\") : options.tag || config.requestTagPrefix;\n    if (tag && options.tag !== null) {\n        options.query = {\n            tag: requestTag(tag),\n            ...options.query\n        };\n    }\n    if ([\n        \"GET\",\n        \"HEAD\",\n        \"POST\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/query/\") === 0) {\n        const resultSourceMap = (_b = options.resultSourceMap) != null ? _b : config.resultSourceMap;\n        if (resultSourceMap !== void 0 && resultSourceMap !== false) {\n            options.query = {\n                resultSourceMap,\n                ...options.query\n            };\n        }\n        const perspective = options.perspective || config.perspective;\n        if (typeof perspective === \"string\" && perspective !== \"raw\") {\n            validateApiPerspective(perspective);\n            options.query = {\n                perspective,\n                ...options.query\n            };\n            if (perspective === \"previewDrafts\" && useCdn) {\n                useCdn = false;\n                printCdnPreviewDraftsWarning();\n            }\n        }\n    }\n    const reqOptions = requestOptions(config, Object.assign({}, options, {\n        url: _getUrl(client, uri, useCdn)\n    }));\n    const request = new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((subscriber)=>httpRequest(reqOptions, config.requester).subscribe(subscriber));\n    return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n    const observable = _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body));\n    return observable;\n}\nfunction _getDataUrl(client, operation, path) {\n    const config = client.config();\n    const catalog = hasDataset(config);\n    const baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    const uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri, canUseCdn = false) {\n    const { url, cdnUrl } = client.config();\n    const base = canUseCdn ? cdnUrl : url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, \"\"));\n}\nfunction _withAbortSignal(signal) {\n    return (input)=>{\n        return new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n            const abort = ()=>observer.error(_createAbortError(signal));\n            if (signal && signal.aborted) {\n                abort();\n                return;\n            }\n            const subscription = input.subscribe(observer);\n            signal.addEventListener(\"abort\", abort);\n            return ()=>{\n                signal.removeEventListener(\"abort\", abort);\n                subscription.unsubscribe();\n            };\n        });\n    };\n}\nconst isDomExceptionSupported = Boolean(globalThis.DOMException);\nfunction _createAbortError(signal) {\n    var _a, _b;\n    if (isDomExceptionSupported) {\n        return new DOMException((_a = signal == null ? void 0 : signal.reason) != null ? _a : \"The operation was aborted.\", \"AbortError\");\n    }\n    const error = new Error((_b = signal == null ? void 0 : signal.reason) != null ? _b : \"The operation was aborted.\");\n    error.name = \"AbortError\";\n    return error;\n}\nvar __accessCheck$4 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$4 = (obj, member, getter)=>{\n    __accessCheck$4(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$4 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$4 = (obj, member, value, setter)=>{\n    __accessCheck$4(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$3, _httpRequest$4, _client2$3, _httpRequest2$4;\nclass ObservableAssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client$3, void 0);\n        __privateAdd$4(this, _httpRequest$4, void 0);\n        __privateSet$4(this, _client$3, client);\n        __privateSet$4(this, _httpRequest$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        return _upload(__privateGet$4(this, _client$3), __privateGet$4(this, _httpRequest$4), assetType, body, options);\n    }\n}\n_client$3 = new WeakMap();\n_httpRequest$4 = new WeakMap();\nclass AssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client2$3, void 0);\n        __privateAdd$4(this, _httpRequest2$4, void 0);\n        __privateSet$4(this, _client2$3, client);\n        __privateSet$4(this, _httpRequest2$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        const observable = _upload(__privateGet$4(this, _client2$3), __privateGet$4(this, _httpRequest2$4), assetType, body, options);\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(observable.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body.document)));\n    }\n}\n_client2$3 = new WeakMap();\n_httpRequest2$4 = new WeakMap();\nfunction _upload(client, httpRequest, assetType, body, opts = {}) {\n    validateAssetType(assetType);\n    let meta = opts.extract || void 0;\n    if (meta && !meta.length) {\n        meta = [\n            \"none\"\n        ];\n    }\n    const dataset = hasDataset(client.config());\n    const assetEndpoint = assetType === \"image\" ? \"images\" : \"files\";\n    const options = optionsFromFile(opts, body);\n    const { tag, label, title, description, creditLine, filename, source } = options;\n    const query = {\n        label,\n        title,\n        description,\n        filename,\n        meta,\n        creditLine\n    };\n    if (source) {\n        query.sourceId = source.id;\n        query.sourceName = source.name;\n        query.sourceUrl = source.url;\n    }\n    return _requestObservable(client, httpRequest, {\n        tag,\n        method: \"POST\",\n        timeout: options.timeout || 0,\n        uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n        headers: options.contentType ? {\n            \"Content-Type\": options.contentType\n        } : {},\n        query,\n        body\n    });\n}\nfunction optionsFromFile(opts, file) {\n    if (typeof File === \"undefined\" || !(file instanceof File)) {\n        return opts;\n    }\n    return Object.assign({\n        filename: opts.preserveFilename === false ? void 0 : file.name,\n        contentType: file.type\n    }, opts);\n}\nvar defaults = (obj, defaults)=>Object.keys(defaults).concat(Object.keys(obj)).reduce((target, prop)=>{\n        target[prop] = typeof obj[prop] === \"undefined\" ? defaults[prop] : obj[prop];\n        return target;\n    }, {});\nconst pick = (obj, props)=>props.reduce((selection, prop)=>{\n        if (typeof obj[prop] === \"undefined\") {\n            return selection;\n        }\n        selection[prop] = obj[prop];\n        return selection;\n    }, {});\nconst MAX_URL_LENGTH = 16e3 - 1200;\nconst possibleOptions = [\n    \"includePreviousRevision\",\n    \"includeResult\",\n    \"visibility\",\n    \"effectFormat\",\n    \"tag\"\n];\nconst defaultOptions = {\n    includeResult: true\n};\nfunction _listen(query, params, opts = {}) {\n    const { url, token, withCredentials, requestTagPrefix } = this.config();\n    const tag = opts.tag && requestTagPrefix ? [\n        requestTagPrefix,\n        opts.tag\n    ].join(\".\") : opts.tag;\n    const options = {\n        ...defaults(opts, defaultOptions),\n        tag\n    };\n    const listenOpts = pick(options, possibleOptions);\n    const qs = encodeQueryString({\n        query,\n        params,\n        options: {\n            tag,\n            ...listenOpts\n        }\n    });\n    const uri = \"\".concat(url).concat(_getDataUrl(this, \"listen\", qs));\n    if (uri.length > MAX_URL_LENGTH) {\n        return new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>observer.error(new Error(\"Query too large for listener\")));\n    }\n    const listenFor = options.events ? options.events : [\n        \"mutation\"\n    ];\n    const shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1;\n    const esOptions = {};\n    if (token || withCredentials) {\n        esOptions.withCredentials = true;\n    }\n    if (token) {\n        esOptions.headers = {\n            Authorization: \"Bearer \".concat(token)\n        };\n    }\n    return new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n        let es;\n        getEventSource().then((eventSource)=>{\n            es = eventSource;\n        }).catch((reason)=>{\n            observer.error(reason);\n            stop();\n        });\n        let reconnectTimer;\n        let stopped = false;\n        function onError() {\n            if (stopped) {\n                return;\n            }\n            emitReconnect();\n            if (stopped) {\n                return;\n            }\n            if (es.readyState === es.CLOSED) {\n                unsubscribe();\n                clearTimeout(reconnectTimer);\n                reconnectTimer = setTimeout(open, 100);\n            }\n        }\n        function onChannelError(err) {\n            observer.error(cooerceError(err));\n        }\n        function onMessage(evt) {\n            const event = parseEvent(evt);\n            return event instanceof Error ? observer.error(event) : observer.next(event);\n        }\n        function onDisconnect() {\n            stopped = true;\n            unsubscribe();\n            observer.complete();\n        }\n        function unsubscribe() {\n            if (!es) return;\n            es.removeEventListener(\"error\", onError);\n            es.removeEventListener(\"channelError\", onChannelError);\n            es.removeEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>es.removeEventListener(type, onMessage));\n            es.close();\n        }\n        function emitReconnect() {\n            if (shouldEmitReconnect) {\n                observer.next({\n                    type: \"reconnect\"\n                });\n            }\n        }\n        async function getEventSource() {\n            const { default: EventSource } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(rsc)/./node_modules/@sanity/eventsource/node.js\", 19));\n            const evs = new EventSource(uri, esOptions);\n            evs.addEventListener(\"error\", onError);\n            evs.addEventListener(\"channelError\", onChannelError);\n            evs.addEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>evs.addEventListener(type, onMessage));\n            return evs;\n        }\n        function open() {\n            getEventSource().then((eventSource)=>{\n                es = eventSource;\n            }).catch((reason)=>{\n                observer.error(reason);\n                stop();\n            });\n        }\n        function stop() {\n            stopped = true;\n            unsubscribe();\n        }\n        return stop;\n    });\n}\nfunction parseEvent(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return Object.assign({\n            type: event.type\n        }, data);\n    } catch (err) {\n        return err;\n    }\n}\nfunction cooerceError(err) {\n    if (err instanceof Error) {\n        return err;\n    }\n    const evt = parseEvent(err);\n    return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n    if (!err.error) {\n        return err.message || \"Unknown listener error\";\n    }\n    if (err.error.description) {\n        return err.error.description;\n    }\n    return typeof err.error === \"string\" ? err.error : JSON.stringify(err.error, null, 2);\n}\nvar __accessCheck$3 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$3 = (obj, member, getter)=>{\n    __accessCheck$3(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$3 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$3 = (obj, member, value, setter)=>{\n    __accessCheck$3(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$2, _httpRequest$3, _client2$2, _httpRequest2$3;\nclass ObservableDatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client$2, void 0);\n        __privateAdd$3(this, _httpRequest$3, void 0);\n        __privateSet$3(this, _client$2, client);\n        __privateSet$3(this, _httpRequest$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PUT\", name, options);\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PATCH\", name, options);\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"DELETE\", name);\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return _request(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), {\n            uri: \"/datasets\",\n            tag: null\n        });\n    }\n}\n_client$2 = new WeakMap();\n_httpRequest$3 = new WeakMap();\nclass DatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client2$2, void 0);\n        __privateAdd$3(this, _httpRequest2$3, void 0);\n        __privateSet$3(this, _client2$2, client);\n        __privateSet$3(this, _httpRequest2$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PUT\", name, options));\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PATCH\", name, options));\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"DELETE\", name));\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_request(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), {\n            uri: \"/datasets\",\n            tag: null\n        }));\n    }\n}\n_client2$2 = new WeakMap();\n_httpRequest2$3 = new WeakMap();\nfunction _modify(client, httpRequest, method, name, options) {\n    dataset(name);\n    return _request(client, httpRequest, {\n        method,\n        uri: \"/datasets/\".concat(name),\n        body: options,\n        tag: null\n    });\n}\nvar __accessCheck$2 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter)=>{\n    __accessCheck$2(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter)=>{\n    __accessCheck$2(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$1, _httpRequest$2, _client2$1, _httpRequest2$2;\nclass ObservableProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client$1, void 0);\n        __privateAdd$2(this, _httpRequest$2, void 0);\n        __privateSet$2(this, _client$1, client);\n        __privateSet$2(this, _httpRequest$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri\n        });\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri: \"/projects/\".concat(projectId)\n        });\n    }\n}\n_client$1 = new WeakMap();\n_httpRequest$2 = new WeakMap();\nclass ProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client2$1, void 0);\n        __privateAdd$2(this, _httpRequest2$2, void 0);\n        __privateSet$2(this, _client2$1, client);\n        __privateSet$2(this, _httpRequest2$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri\n        }));\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri: \"/projects/\".concat(projectId)\n        }));\n    }\n}\n_client2$1 = new WeakMap();\n_httpRequest2$2 = new WeakMap();\nvar __accessCheck$1 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter)=>{\n    __accessCheck$1(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter)=>{\n    __accessCheck$1(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client, _httpRequest$1, _client2, _httpRequest2$1;\nclass ObservableUsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client, void 0);\n        __privateAdd$1(this, _httpRequest$1, void 0);\n        __privateSet$1(this, _client, client);\n        __privateSet$1(this, _httpRequest$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return _request(__privateGet$1(this, _client), __privateGet$1(this, _httpRequest$1), {\n            uri: \"/users/\".concat(id)\n        });\n    }\n}\n_client = new WeakMap();\n_httpRequest$1 = new WeakMap();\nclass UsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client2, void 0);\n        __privateAdd$1(this, _httpRequest2$1, void 0);\n        __privateSet$1(this, _client2, client);\n        __privateSet$1(this, _httpRequest2$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_request(__privateGet$1(this, _client2), __privateGet$1(this, _httpRequest2$1), {\n            uri: \"/users/\".concat(id)\n        }));\n    }\n}\n_client2 = new WeakMap();\n_httpRequest2$1 = new WeakMap();\nvar __accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter)=>{\n    __accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter)=>{\n    __accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _clientConfig, _httpRequest, _clientConfig2, _httpRequest2;\nconst _ObservableSanityClient = class _ObservableSanityClient {\n    constructor(httpRequest, config = defaultConfig){\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig, void 0);\n        __privateAdd(this, _httpRequest, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest, httpRequest);\n        this.assets = new ObservableAssetsClient(this, __privateGet(this, _httpRequest));\n        this.datasets = new ObservableDatasetsClient(this, __privateGet(this, _httpRequest));\n        this.projects = new ObservableProjectsClient(this, __privateGet(this, _httpRequest));\n        this.users = new ObservableUsersClient(this, __privateGet(this, _httpRequest));\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig)\n            };\n        }\n        if (__privateGet(this, _clientConfig) && __privateGet(this, _clientConfig).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        __privateSet(this, _clientConfig, initConfig(newConfig, __privateGet(this, _clientConfig) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof (newConfig == null ? void 0 : newConfig.stega) === \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : (newConfig == null ? void 0 : newConfig.stega) || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return _fetch(this, __privateGet(this, _httpRequest), __privateGet(this, _clientConfig).stega, query, params, options);\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return _getDocument(this, __privateGet(this, _httpRequest), id, options);\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return _getDocuments(this, __privateGet(this, _httpRequest), ids, options);\n    }\n    create(document, options) {\n        return _create(this, __privateGet(this, _httpRequest), document, \"create\", options);\n    }\n    createIfNotExists(document, options) {\n        return _createIfNotExists(this, __privateGet(this, _httpRequest), document, options);\n    }\n    createOrReplace(document, options) {\n        return _createOrReplace(this, __privateGet(this, _httpRequest), document, options);\n    }\n    delete(selection, options) {\n        return _delete(this, __privateGet(this, _httpRequest), selection, options);\n    }\n    mutate(operations, options) {\n        return _mutate(this, __privateGet(this, _httpRequest), operations, options);\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(selection, operations) {\n        return new ObservablePatch(selection, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new ObservableTransaction(operations, this);\n    }\n    /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */ request(options) {\n        return _request(this, __privateGet(this, _httpRequest), options);\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig = new WeakMap();\n_httpRequest = new WeakMap();\nlet ObservableSanityClient = _ObservableSanityClient;\nconst _SanityClient = class _SanityClient {\n    constructor(httpRequest, config = defaultConfig){\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig2, void 0);\n        __privateAdd(this, _httpRequest2, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest2, httpRequest);\n        this.assets = new AssetsClient(this, __privateGet(this, _httpRequest2));\n        this.datasets = new DatasetsClient(this, __privateGet(this, _httpRequest2));\n        this.projects = new ProjectsClient(this, __privateGet(this, _httpRequest2));\n        this.users = new UsersClient(this, __privateGet(this, _httpRequest2));\n        this.observable = new ObservableSanityClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _SanityClient(__privateGet(this, _httpRequest2), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig2)\n            };\n        }\n        if (__privateGet(this, _clientConfig2) && __privateGet(this, _clientConfig2).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        if (this.observable) {\n            this.observable.config(newConfig);\n        }\n        __privateSet(this, _clientConfig2, initConfig(newConfig, __privateGet(this, _clientConfig2) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new _SanityClient(__privateGet(this, _httpRequest2), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof (newConfig == null ? void 0 : newConfig.stega) === \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : (newConfig == null ? void 0 : newConfig.stega) || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_fetch(this, __privateGet(this, _httpRequest2), __privateGet(this, _clientConfig2).stega, query, params, options));\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_getDocument(this, __privateGet(this, _httpRequest2), id, options));\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_getDocuments(this, __privateGet(this, _httpRequest2), ids, options));\n    }\n    create(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_create(this, __privateGet(this, _httpRequest2), document, \"create\", options));\n    }\n    createIfNotExists(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_createIfNotExists(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    createOrReplace(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_createOrReplace(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    delete(selection, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_delete(this, __privateGet(this, _httpRequest2), selection, options));\n    }\n    mutate(operations, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_mutate(this, __privateGet(this, _httpRequest2), operations, options));\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(documentId, operations) {\n        return new Patch(documentId, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new Transaction(operations, this);\n    }\n    /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */ request(options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_request(this, __privateGet(this, _httpRequest2), options));\n    }\n    /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */ dataRequest(endpoint, body, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.lastValueFrom)(_dataRequest(this, __privateGet(this, _httpRequest2), endpoint, body, options));\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig2 = new WeakMap();\n_httpRequest2 = new WeakMap();\nlet SanityClient = _SanityClient;\nfunction defineCreateClientExports(envMiddleware, ClassConstructor) {\n    const httpRequest = defineHttpRequest(envMiddleware, {});\n    const requester = httpRequest.defaultRequester;\n    const createClient = (config)=>new ClassConstructor(defineHttpRequest(envMiddleware, {\n            maxRetries: config.maxRetries,\n            retryDelay: config.retryDelay\n        }), config);\n    return {\n        requester,\n        createClient\n    };\n}\nvar envMiddleware = [];\n //# sourceMappingURL=browserMiddleware-zDVeirri.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL2Jyb3dzZXJNaWRkbGV3YXJlLXpEVmVpcnJpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUM0RDtBQUNwQztBQUNTO0FBRWhFLE1BQU1ZLDZCQUE2QjtBQUNuQyxNQUFNQyxvQkFBb0JDO0lBQ3hCQyxZQUFZQyxHQUFHLENBQUU7UUFDZixNQUFNQyxRQUFRQyxrQkFBa0JGO1FBQ2hDLEtBQUssQ0FBQ0MsTUFBTUUsT0FBTztRQUNuQixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQkMsT0FBT0MsTUFBTSxDQUFDLElBQUksRUFBRUw7SUFDdEI7QUFDRjtBQUNBLE1BQU1NLG9CQUFvQlQ7SUFDeEJDLFlBQVlDLEdBQUcsQ0FBRTtRQUNmLE1BQU1DLFFBQVFDLGtCQUFrQkY7UUFDaEMsS0FBSyxDQUFDQyxNQUFNRSxPQUFPO1FBQ25CLElBQUksQ0FBQ0MsVUFBVSxHQUFHO1FBQ2xCQyxPQUFPQyxNQUFNLENBQUMsSUFBSSxFQUFFTDtJQUN0QjtBQUNGO0FBQ0EsU0FBU0Msa0JBQWtCRixHQUFHO0lBQzVCLE1BQU1RLE9BQU9SLElBQUlRLElBQUk7SUFDckIsTUFBTVAsUUFBUTtRQUNaUSxVQUFVVDtRQUNWSSxZQUFZSixJQUFJSSxVQUFVO1FBQzFCTSxjQUFjQyxjQUFjSCxNQUFNUjtRQUNsQ0csU0FBUztRQUNUUyxTQUFTLEtBQUs7SUFDaEI7SUFDQSxJQUFJSixLQUFLSyxLQUFLLElBQUlMLEtBQUtMLE9BQU8sRUFBRTtRQUM5QkYsTUFBTUUsT0FBTyxHQUFHLEdBQUdXLE1BQU0sQ0FBQ04sS0FBS0ssS0FBSyxFQUFFLE9BQU9DLE1BQU0sQ0FBQ04sS0FBS0wsT0FBTztRQUNoRSxPQUFPRjtJQUNUO0lBQ0EsSUFBSWMsZ0JBQWdCUCxPQUFPO1FBQ3pCLE1BQU1RLFdBQVdSLEtBQUtLLEtBQUssQ0FBQ0ksS0FBSyxJQUFJLEVBQUU7UUFD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MEJ6YyxhQUFhLEVBQUUwYyxnQkFBZ0I7SUFDaEUsTUFBTXBjLGNBQWNQLGtCQUFrQkMsZUFBZSxDQUFDO0lBQ3RELE1BQU1RLFlBQVlGLFlBQVlJLGdCQUFnQjtJQUM5QyxNQUFNaWMsZUFBZSxDQUFDN1osU0FBVyxJQUFJNFosaUJBQ25DM2Msa0JBQWtCQyxlQUFlO1lBQy9CQyxZQUFZNkMsT0FBTzdDLFVBQVU7WUFDN0JDLFlBQVk0QyxPQUFPNUMsVUFBVTtRQUMvQixJQUNBNEM7SUFFRixPQUFPO1FBQUV0QztRQUFXbWM7SUFBYTtBQUNuQztBQUVBLElBQUkzYyxnQkFBZ0IsRUFBRTtBQUVvTyxDQUMxUCxzREFBc0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbF9tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvX2NodW5rcy9icm93c2VyTWlkZGxld2FyZS16RFZlaXJyaS5qcz84MTM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEl0IH0gZnJvbSAnZ2V0LWl0JztcbmltcG9ydCB7IHJldHJ5LCBqc29uUmVxdWVzdCwganNvblJlc3BvbnNlLCBwcm9ncmVzcywgb2JzZXJ2YWJsZSB9IGZyb20gJ2dldC1pdC9taWRkbGV3YXJlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIGxhc3RWYWx1ZUZyb20gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGNvbWJpbmVMYXRlc3RXaXRoLCBtYXAsIGZpbHRlciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuY29uc3QgTUFYX0lURU1TX0lOX0VSUk9SX01FU1NBR0UgPSA1O1xuY2xhc3MgQ2xpZW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlcykge1xuICAgIGNvbnN0IHByb3BzID0gZXh0cmFjdEVycm9yUHJvcHMocmVzKTtcbiAgICBzdXBlcihwcm9wcy5tZXNzYWdlKTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gIH1cbn1cbmNsYXNzIFNlcnZlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXMpIHtcbiAgICBjb25zdCBwcm9wcyA9IGV4dHJhY3RFcnJvclByb3BzKHJlcyk7XG4gICAgc3VwZXIocHJvcHMubWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gNTAwO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG5mdW5jdGlvbiBleHRyYWN0RXJyb3JQcm9wcyhyZXMpIHtcbiAgY29uc3QgYm9keSA9IHJlcy5ib2R5O1xuICBjb25zdCBwcm9wcyA9IHtcbiAgICByZXNwb25zZTogcmVzLFxuICAgIHN0YXR1c0NvZGU6IHJlcy5zdGF0dXNDb2RlLFxuICAgIHJlc3BvbnNlQm9keTogc3RyaW5naWZ5Qm9keShib2R5LCByZXMpLFxuICAgIG1lc3NhZ2U6IFwiXCIsXG4gICAgZGV0YWlsczogdm9pZCAwXG4gIH07XG4gIGlmIChib2R5LmVycm9yICYmIGJvZHkubWVzc2FnZSkge1xuICAgIHByb3BzLm1lc3NhZ2UgPSBcIlwiLmNvbmNhdChib2R5LmVycm9yLCBcIiAtIFwiKS5jb25jYXQoYm9keS5tZXNzYWdlKTtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH1cbiAgaWYgKGlzTXV0YXRpb25FcnJvcihib2R5KSkge1xuICAgIGNvbnN0IGFsbEl0ZW1zID0gYm9keS5lcnJvci5pdGVtcyB8fCBbXTtcbiAgICBjb25zdCBpdGVtcyA9IGFsbEl0ZW1zLnNsaWNlKDAsIE1BWF9JVEVNU19JTl9FUlJPUl9NRVNTQUdFKS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoX2EgPSBpdGVtLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZGVzY3JpcHRpb247XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGxldCBpdGVtc1N0ciA9IGl0ZW1zLmxlbmd0aCA/IFwiOlxcbi0gXCIuY29uY2F0KGl0ZW1zLmpvaW4oXCJcXG4tIFwiKSkgOiBcIlwiO1xuICAgIGlmIChhbGxJdGVtcy5sZW5ndGggPiBNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSkge1xuICAgICAgaXRlbXNTdHIgKz0gXCJcXG4uLi5hbmQgXCIuY29uY2F0KGFsbEl0ZW1zLmxlbmd0aCAtIE1BWF9JVEVNU19JTl9FUlJPUl9NRVNTQUdFLCBcIiBtb3JlXCIpO1xuICAgIH1cbiAgICBwcm9wcy5tZXNzYWdlID0gXCJcIi5jb25jYXQoYm9keS5lcnJvci5kZXNjcmlwdGlvbikuY29uY2F0KGl0ZW1zU3RyKTtcbiAgICBwcm9wcy5kZXRhaWxzID0gYm9keS5lcnJvcjtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH1cbiAgaWYgKGJvZHkuZXJyb3IgJiYgYm9keS5lcnJvci5kZXNjcmlwdGlvbikge1xuICAgIHByb3BzLm1lc3NhZ2UgPSBib2R5LmVycm9yLmRlc2NyaXB0aW9uO1xuICAgIHByb3BzLmRldGFpbHMgPSBib2R5LmVycm9yO1xuICAgIHJldHVybiBwcm9wcztcbiAgfVxuICBwcm9wcy5tZXNzYWdlID0gYm9keS5lcnJvciB8fCBib2R5Lm1lc3NhZ2UgfHwgaHR0cEVycm9yTWVzc2FnZShyZXMpO1xuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBpc011dGF0aW9uRXJyb3IoYm9keSkge1xuICByZXR1cm4gaXNQbGFpbk9iamVjdChib2R5KSAmJiBpc1BsYWluT2JqZWN0KGJvZHkuZXJyb3IpICYmIGJvZHkuZXJyb3IudHlwZSA9PT0gXCJtdXRhdGlvbkVycm9yXCIgJiYgdHlwZW9mIGJvZHkuZXJyb3IuZGVzY3JpcHRpb24gPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkob2JqKTtcbn1cbmZ1bmN0aW9uIGh0dHBFcnJvck1lc3NhZ2UocmVzKSB7XG4gIGNvbnN0IHN0YXR1c01lc3NhZ2UgPSByZXMuc3RhdHVzTWVzc2FnZSA/IFwiIFwiLmNvbmNhdChyZXMuc3RhdHVzTWVzc2FnZSkgOiBcIlwiO1xuICByZXR1cm4gXCJcIi5jb25jYXQocmVzLm1ldGhvZCwgXCItcmVxdWVzdCB0byBcIikuY29uY2F0KHJlcy51cmwsIFwiIHJlc3VsdGVkIGluIEhUVFAgXCIpLmNvbmNhdChyZXMuc3RhdHVzQ29kZSkuY29uY2F0KHN0YXR1c01lc3NhZ2UpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5Qm9keShib2R5LCByZXMpIHtcbiAgY29uc3QgY29udGVudFR5cGUgPSAocmVzLmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0gfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgaXNKc29uID0gY29udGVudFR5cGUuaW5kZXhPZihcImFwcGxpY2F0aW9uL2pzb25cIikgIT09IC0xO1xuICByZXR1cm4gaXNKc29uID8gSlNPTi5zdHJpbmdpZnkoYm9keSwgbnVsbCwgMikgOiBib2R5O1xufVxuXG5jb25zdCBodHRwRXJyb3IgPSB7XG4gIG9uUmVzcG9uc2U6IChyZXMpID0+IHtcbiAgICBpZiAocmVzLnN0YXR1c0NvZGUgPj0gNTAwKSB7XG4gICAgICB0aHJvdyBuZXcgU2VydmVyRXJyb3IocmVzKTtcbiAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXNDb2RlID49IDQwMCkge1xuICAgICAgdGhyb3cgbmV3IENsaWVudEVycm9yKHJlcyk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbn07XG5jb25zdCBwcmludFdhcm5pbmdzID0ge1xuICBvblJlc3BvbnNlOiAocmVzKSA9PiB7XG4gICAgY29uc3Qgd2FybiA9IHJlcy5oZWFkZXJzW1wieC1zYW5pdHktd2FybmluZ1wiXTtcbiAgICBjb25zdCB3YXJuaW5ncyA9IEFycmF5LmlzQXJyYXkod2FybikgPyB3YXJuIDogW3dhcm5dO1xuICAgIHdhcm5pbmdzLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKChtc2cpID0+IGNvbnNvbGUud2Fybihtc2cpKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuZnVuY3Rpb24gZGVmaW5lSHR0cFJlcXVlc3QoZW52TWlkZGxld2FyZSwge1xuICBtYXhSZXRyaWVzID0gNSxcbiAgcmV0cnlEZWxheVxufSkge1xuICBjb25zdCByZXF1ZXN0ID0gZ2V0SXQoW1xuICAgIG1heFJldHJpZXMgPiAwID8gcmV0cnkoe1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIHJldHJ5RGVsYXksXG4gICAgICAvLyBUaGlzIG9wdGlvbiBpcyB0eXBlZCBpbmNvcnJlY3RseSBpbiBnZXQtaXQuXG4gICAgICBtYXhSZXRyaWVzLFxuICAgICAgc2hvdWxkUmV0cnlcbiAgICB9KSA6IHt9LFxuICAgIC4uLmVudk1pZGRsZXdhcmUsXG4gICAgcHJpbnRXYXJuaW5ncyxcbiAgICBqc29uUmVxdWVzdCgpLFxuICAgIGpzb25SZXNwb25zZSgpLFxuICAgIHByb2dyZXNzKCksXG4gICAgaHR0cEVycm9yLFxuICAgIG9ic2VydmFibGUoeyBpbXBsZW1lbnRhdGlvbjogT2JzZXJ2YWJsZSB9KVxuICBdKTtcbiAgZnVuY3Rpb24gaHR0cFJlcXVlc3Qob3B0aW9ucywgcmVxdWVzdGVyID0gcmVxdWVzdCkge1xuICAgIHJldHVybiByZXF1ZXN0ZXIoeyBtYXhSZWRpcmVjdHM6IDAsIC4uLm9wdGlvbnMgfSk7XG4gIH1cbiAgaHR0cFJlcXVlc3QuZGVmYXVsdFJlcXVlc3RlciA9IHJlcXVlc3Q7XG4gIHJldHVybiBodHRwUmVxdWVzdDtcbn1cbmZ1bmN0aW9uIHNob3VsZFJldHJ5KGVyciwgYXR0ZW1wdCwgb3B0aW9ucykge1xuICBjb25zdCBpc1NhZmUgPSBvcHRpb25zLm1ldGhvZCA9PT0gXCJHRVRcIiB8fCBvcHRpb25zLm1ldGhvZCA9PT0gXCJIRUFEXCI7XG4gIGNvbnN0IHVyaSA9IG9wdGlvbnMudXJpIHx8IG9wdGlvbnMudXJsO1xuICBjb25zdCBpc1F1ZXJ5ID0gdXJpLnN0YXJ0c1dpdGgoXCIvZGF0YS9xdWVyeVwiKTtcbiAgY29uc3QgaXNSZXRyaWFibGVSZXNwb25zZSA9IGVyci5yZXNwb25zZSAmJiAoZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDQyOSB8fCBlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNTAyIHx8IGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA1MDMpO1xuICBpZiAoKGlzU2FmZSB8fCBpc1F1ZXJ5KSAmJiBpc1JldHJpYWJsZVJlc3BvbnNlKVxuICAgIHJldHVybiB0cnVlO1xuICByZXR1cm4gcmV0cnkuc2hvdWxkUmV0cnkoZXJyLCBhdHRlbXB0LCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKHNlbCkge1xuICBpZiAodHlwZW9mIHNlbCA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KHNlbCkpIHtcbiAgICByZXR1cm4geyBpZDogc2VsIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBzZWwgPT09IFwib2JqZWN0XCIgJiYgc2VsICE9PSBudWxsICYmIFwicXVlcnlcIiBpbiBzZWwgJiYgdHlwZW9mIHNlbC5xdWVyeSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBcInBhcmFtc1wiIGluIHNlbCAmJiB0eXBlb2Ygc2VsLnBhcmFtcyA9PT0gXCJvYmplY3RcIiAmJiBzZWwucGFyYW1zICE9PSBudWxsID8geyBxdWVyeTogc2VsLnF1ZXJ5LCBwYXJhbXM6IHNlbC5wYXJhbXMgfSA6IHsgcXVlcnk6IHNlbC5xdWVyeSB9O1xuICB9XG4gIGNvbnN0IHNlbGVjdGlvbk9wdHMgPSBbXG4gICAgXCIqIERvY3VtZW50IElEICg8ZG9jSWQ+KVwiLFxuICAgIFwiKiBBcnJheSBvZiBkb2N1bWVudCBJRHNcIixcbiAgICBcIiogT2JqZWN0IGNvbnRhaW5pbmcgYHF1ZXJ5YFwiXG4gIF0uam9pbihcIlxcblwiKTtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBzZWxlY3Rpb24gLSBtdXN0IGJlIG9uZSBvZjpcXG5cXG5cIi5jb25jYXQoc2VsZWN0aW9uT3B0cykpO1xufVxuXG5jb25zdCBWQUxJRF9BU1NFVF9UWVBFUyA9IFtcImltYWdlXCIsIFwiZmlsZVwiXTtcbmNvbnN0IFZBTElEX0lOU0VSVF9MT0NBVElPTlMgPSBbXCJiZWZvcmVcIiwgXCJhZnRlclwiLCBcInJlcGxhY2VcIl07XG5jb25zdCBkYXRhc2V0ID0gKG5hbWUpID0+IHtcbiAgaWYgKCEvXih+W2EtejAtOV17MX1bLVxcd117MCw2M318W2EtejAtOV17MX1bLVxcd117MCw2M30pJC8udGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiRGF0YXNldHMgY2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgY2hhcmFjdGVycywgbnVtYmVycywgdW5kZXJzY29yZXMgYW5kIGRhc2hlcywgYW5kIHN0YXJ0IHdpdGggdGlsZGUsIGFuZCBiZSBtYXhpbXVtIDY0IGNoYXJhY3RlcnNcIlxuICAgICk7XG4gIH1cbn07XG5jb25zdCBwcm9qZWN0SWQgPSAoaWQpID0+IHtcbiAgaWYgKCEvXlstYS16MC05XSskL2kudGVzdChpZCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgcHJvamVjdElkYCBjYW4gb25seSBjb250YWluIG9ubHkgYS16LCAwLTkgYW5kIGRhc2hlc1wiKTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlQXNzZXRUeXBlID0gKHR5cGUpID0+IHtcbiAgaWYgKFZBTElEX0FTU0VUX1RZUEVTLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhc3NldCB0eXBlOiBcIi5jb25jYXQodHlwZSwgXCIuIE11c3QgYmUgb25lIG9mIFwiKS5jb25jYXQoVkFMSURfQVNTRVRfVFlQRVMuam9pbihcIiwgXCIpKSk7XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZU9iamVjdCA9IChvcCwgdmFsKSA9PiB7XG4gIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQob3AsIFwiKCkgdGFrZXMgYW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcIikpO1xuICB9XG59O1xuY29uc3QgdmFsaWRhdGVEb2N1bWVudElkID0gKG9wLCBpZCkgPT4ge1xuICBpZiAodHlwZW9mIGlkICE9PSBcInN0cmluZ1wiIHx8ICEvXlthLXowLTlfXVthLXowLTlfLi1dezAsMTI3fSQvaS50ZXN0KGlkKSB8fCBpZC5pbmNsdWRlcyhcIi4uXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG9wLCAnKCk6IFwiJykuY29uY2F0KGlkLCAnXCIgaXMgbm90IGEgdmFsaWQgZG9jdW1lbnQgSUQnKSk7XG4gIH1cbn07XG5jb25zdCByZXF1aXJlRG9jdW1lbnRJZCA9IChvcCwgZG9jKSA9PiB7XG4gIGlmICghZG9jLl9pZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChvcCwgJygpIHJlcXVpcmVzIHRoYXQgdGhlIGRvY3VtZW50IGNvbnRhaW5zIGFuIElEIChcIl9pZFwiIHByb3BlcnR5KScpKTtcbiAgfVxuICB2YWxpZGF0ZURvY3VtZW50SWQob3AsIGRvYy5faWQpO1xufTtcbmNvbnN0IHZhbGlkYXRlSW5zZXJ0ID0gKGF0LCBzZWxlY3RvciwgaXRlbXMpID0+IHtcbiAgY29uc3Qgc2lnbmF0dXJlID0gXCJpbnNlcnQoYXQsIHNlbGVjdG9yLCBpdGVtcylcIjtcbiAgaWYgKFZBTElEX0lOU0VSVF9MT0NBVElPTlMuaW5kZXhPZihhdCkgPT09IC0xKSB7XG4gICAgY29uc3QgdmFsaWQgPSBWQUxJRF9JTlNFUlRfTE9DQVRJT05TLm1hcCgobG9jKSA9PiAnXCInLmNvbmNhdChsb2MsICdcIicpKS5qb2luKFwiLCBcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHNpZ25hdHVyZSwgJyB0YWtlcyBhbiBcImF0XCItYXJndW1lbnQgd2hpY2ggaXMgb25lIG9mOiAnKS5jb25jYXQodmFsaWQpKTtcbiAgfVxuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHNpZ25hdHVyZSwgJyB0YWtlcyBhIFwic2VsZWN0b3JcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGEgc3RyaW5nJykpO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQoc2lnbmF0dXJlLCAnIHRha2VzIGFuIFwiaXRlbXNcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGFuIGFycmF5JykpO1xuICB9XG59O1xuY29uc3QgaGFzRGF0YXNldCA9IChjb25maWcpID0+IHtcbiAgaWYgKCFjb25maWcuZGF0YXNldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImBkYXRhc2V0YCBtdXN0IGJlIHByb3ZpZGVkIHRvIHBlcmZvcm0gcXVlcmllc1wiKTtcbiAgfVxuICByZXR1cm4gY29uZmlnLmRhdGFzZXQgfHwgXCJcIjtcbn07XG5jb25zdCByZXF1ZXN0VGFnID0gKHRhZykgPT4ge1xuICBpZiAodHlwZW9mIHRhZyAhPT0gXCJzdHJpbmdcIiB8fCAhL15bYS16MC05Ll8tXXsxLDc1fSQvaS50ZXN0KHRhZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRhZyBjYW4gb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLCB1bmRlcnNjb3JlcywgZGFzaGVzIGFuZCBkb3RzLCBhbmQgYmUgYmV0d2VlbiBvbmUgYW5kIDc1IGNoYXJhY3RlcnMgbG9uZy5cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHRhZztcbn07XG5cbnZhciBfX2FjY2Vzc0NoZWNrJDYgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkNiA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNihvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQ2ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQkNiA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDYob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnQkNSwgX2NsaWVudDIkNTtcbmNsYXNzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgdGhpcy5vcGVyYXRpb25zID0gb3BlcmF0aW9ucztcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gYXR0cmlidXRlcyB0byB0aGUgZG9jdW1lbnQuIERvZXMgTk9UIG1lcmdlIG9iamVjdHMuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlcyB0byBzZXQuIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcInZhbHVlXCJcXH1cbiAgICovXG4gIHNldChhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJzZXRcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIHRvIHRoZSBkb2N1bWVudCBpZiB0aGV5IGFyZSBub3QgY3VycmVudGx5IHNldC4gRG9lcyBOT1QgbWVyZ2Ugb2JqZWN0cy5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHNldC4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwidmFsdWVcIlxcfVxuICAgKi9cbiAgc2V0SWZNaXNzaW5nKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcInNldElmTWlzc2luZ1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgXCJkaWZmLW1hdGNoLXBhdGNoXCIgb3BlcmF0aW9uIG9uIHRoZSBzdHJpbmcgYXR0cmlidXRlcyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHBlcmZvcm0gb3BlcmF0aW9uIG9uLiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJkbXBcIlxcfVxuICAgKi9cbiAgZGlmZk1hdGNoUGF0Y2goYXR0cnMpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChcImRpZmZNYXRjaFBhdGNoXCIsIGF0dHJzKTtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiZGlmZk1hdGNoUGF0Y2hcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNldHMgdGhlIGF0dHJpYnV0ZSBwYXRocyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGUgcGF0aHMgdG8gdW5zZXQuXG4gICAqL1xuICB1bnNldChhdHRycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhdHRycykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc2V0KGF0dHJzKSB0YWtlcyBhbiBhcnJheSBvZiBhdHRyaWJ1dGVzIHRvIHVuc2V0LCBub24tYXJyYXkgZ2l2ZW5cIik7XG4gICAgfVxuICAgIHRoaXMub3BlcmF0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3BlcmF0aW9ucywgeyB1bnNldDogYXR0cnMgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEluY3JlbWVudCBhIG51bWVyaWMgdmFsdWUuIEVhY2ggZW50cnkgaW4gdGhlIGFyZ3VtZW50IGlzIGVpdGhlciBhbiBhdHRyaWJ1dGUgb3IgYSBKU09OIHBhdGguIFRoZSB2YWx1ZSBtYXkgYmUgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIG9yIGZsb2F0aW5nLXBvaW50IHZhbHVlLiBUaGUgb3BlcmF0aW9uIHdpbGwgZmFpbCBpZiB0YXJnZXQgdmFsdWUgaXMgbm90IGEgbnVtZXJpYyB2YWx1ZSwgb3IgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gT2JqZWN0IG9mIGF0dHJpYnV0ZSBwYXRocyB0byBpbmNyZW1lbnQsIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIG51bWJlciB0byBpbmNyZW1lbnQgYnkuXG4gICAqL1xuICBpbmMoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiaW5jXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogRGVjcmVtZW50IGEgbnVtZXJpYyB2YWx1ZS4gRWFjaCBlbnRyeSBpbiB0aGUgYXJndW1lbnQgaXMgZWl0aGVyIGFuIGF0dHJpYnV0ZSBvciBhIEpTT04gcGF0aC4gVGhlIHZhbHVlIG1heSBiZSBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGludGVnZXIgb3IgZmxvYXRpbmctcG9pbnQgdmFsdWUuIFRoZSBvcGVyYXRpb24gd2lsbCBmYWlsIGlmIHRhcmdldCB2YWx1ZSBpcyBub3QgYSBudW1lcmljIHZhbHVlLCBvciBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBPYmplY3Qgb2YgYXR0cmlidXRlIHBhdGhzIHRvIGRlY3JlbWVudCwgdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgbnVtYmVyIHRvIGRlY3JlbWVudCBieS5cbiAgICovXG4gIGRlYyhhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJkZWNcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBQcm92aWRlcyBtZXRob2RzIGZvciBtb2RpZnlpbmcgYXJyYXlzLCBieSBpbnNlcnRpbmcsIGFwcGVuZGluZyBhbmQgcmVwbGFjaW5nIGVsZW1lbnRzIHZpYSBhIEpTT05QYXRoIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIEBwYXJhbSBhdCAtIExvY2F0aW9uIHRvIGluc2VydCBhdCwgcmVsYXRpdmUgdG8gdGhlIGdpdmVuIHNlbGVjdG9yLCBvciAncmVwbGFjZScgdGhlIG1hdGNoZWQgcGF0aFxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBKU09OUGF0aCBleHByZXNzaW9uLCBlZyBgY29tbWVudHNbLTFdYCBvciBgYmxvY2tzW19rZXk9PVwiYWJjMTIzXCJdYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBpbnNlcnQvcmVwbGFjZVxuICAgKi9cbiAgaW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpIHtcbiAgICB2YWxpZGF0ZUluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKTtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiaW5zZXJ0XCIsIHsgW2F0XTogc2VsZWN0b3IsIGl0ZW1zIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmQgdGhlIGdpdmVuIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgZ2l2ZW4gSlNPTlBhdGhcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlL3BhdGggdG8gYXBwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gYXBwZW5kIHRvIHRoZSBhcnJheVxuICAgKi9cbiAgYXBwZW5kKHNlbGVjdG9yLCBpdGVtcykge1xuICAgIHJldHVybiB0aGlzLmluc2VydChcImFmdGVyXCIsIFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIlstMV1cIiksIGl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogUHJlcGVuZCB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiBKU09OUGF0aFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUvcGF0aCB0byBwcmVwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gcHJlcGVuZCB0byB0aGUgYXJyYXlcbiAgICovXG4gIHByZXBlbmQoc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwiYmVmb3JlXCIsIFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIlswXVwiKSwgaXRlbXMpO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2UgdGhlIGNvbnRlbnRzIG9mIGFuIGFycmF5IGJ5IHJlbW92aW5nIGV4aXN0aW5nIGVsZW1lbnRzIGFuZC9vciBhZGRpbmcgbmV3IGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUgb3IgSlNPTlBhdGggZXhwcmVzc2lvbiBmb3IgYXJyYXlcbiAgICogQHBhcmFtIHN0YXJ0IC0gSW5kZXggYXQgd2hpY2ggdG8gc3RhcnQgY2hhbmdpbmcgdGhlIGFycmF5ICh3aXRoIG9yaWdpbiAwKS4gSWYgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LCBhY3R1YWwgc3RhcnRpbmcgaW5kZXggd2lsbCBiZSBzZXQgdG8gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkuIElmIG5lZ2F0aXZlLCB3aWxsIGJlZ2luIHRoYXQgbWFueSBlbGVtZW50cyBmcm9tIHRoZSBlbmQgb2YgdGhlIGFycmF5ICh3aXRoIG9yaWdpbiAtMSkgYW5kIHdpbGwgYmUgc2V0IHRvIDAgaWYgYWJzb2x1dGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LnhcbiAgICogQHBhcmFtIGRlbGV0ZUNvdW50IC0gQW4gaW50ZWdlciBpbmRpY2F0aW5nIHRoZSBudW1iZXIgb2Ygb2xkIGFycmF5IGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICogQHBhcmFtIGl0ZW1zIC0gVGhlIGVsZW1lbnRzIHRvIGFkZCB0byB0aGUgYXJyYXksIGJlZ2lubmluZyBhdCB0aGUgc3RhcnQgaW5kZXguIElmIHlvdSBkb24ndCBzcGVjaWZ5IGFueSBlbGVtZW50cywgc3BsaWNlKCkgd2lsbCBvbmx5IHJlbW92ZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJheS5cbiAgICovXG4gIHNwbGljZShzZWxlY3Rvciwgc3RhcnQsIGRlbGV0ZUNvdW50LCBpdGVtcykge1xuICAgIGNvbnN0IGRlbEFsbCA9IHR5cGVvZiBkZWxldGVDb3VudCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBkZWxldGVDb3VudCA9PT0gLTE7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IHN0YXJ0IDwgMCA/IHN0YXJ0IC0gMSA6IHN0YXJ0O1xuICAgIGNvbnN0IGRlbENvdW50ID0gZGVsQWxsID8gLTEgOiBNYXRoLm1heCgwLCBzdGFydCArIGRlbGV0ZUNvdW50KTtcbiAgICBjb25zdCBkZWxSYW5nZSA9IHN0YXJ0SW5kZXggPCAwICYmIGRlbENvdW50ID49IDAgPyBcIlwiIDogZGVsQ291bnQ7XG4gICAgY29uc3QgcmFuZ2VTZWxlY3RvciA9IFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIltcIikuY29uY2F0KHN0YXJ0SW5kZXgsIFwiOlwiKS5jb25jYXQoZGVsUmFuZ2UsIFwiXVwiKTtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoXCJyZXBsYWNlXCIsIHJhbmdlU2VsZWN0b3IsIGl0ZW1zIHx8IFtdKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHJldmlzaW9uIGNsYXVzZSwgcHJldmVudGluZyB0aGUgZG9jdW1lbnQgZnJvbSBiZWluZyBwYXRjaGVkIGlmIHRoZSBgX3JldmAgcHJvcGVydHkgZG9lcyBub3QgbWF0Y2ggdGhlIGdpdmVuIHZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSByZXYgLSBSZXZpc2lvbiB0byBsb2NrIHRoZSBwYXRjaCB0b1xuICAgKi9cbiAgaWZSZXZpc2lvbklkKHJldikge1xuICAgIHRoaXMub3BlcmF0aW9ucy5pZlJldmlzaW9uSUQgPSByZXY7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHsgLi4uZ2V0U2VsZWN0aW9uKHRoaXMuc2VsZWN0aW9uKSwgLi4udGhpcy5vcGVyYXRpb25zIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgcGF0Y2ggb2YgYWxsIG9wZXJhdGlvbnNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9hc3NpZ24ob3AsIHByb3BzLCBtZXJnZSA9IHRydWUpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChvcCwgcHJvcHMpO1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3BlcmF0aW9ucywge1xuICAgICAgW29wXTogT2JqZWN0LmFzc2lnbih7fSwgbWVyZ2UgJiYgdGhpcy5vcGVyYXRpb25zW29wXSB8fCB7fSwgcHJvcHMpXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX3NldChvcCwgcHJvcHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKG9wLCBwcm9wcywgZmFsc2UpO1xuICB9XG59XG5jb25zdCBfT2JzZXJ2YWJsZVBhdGNoID0gY2xhc3MgX09ic2VydmFibGVQYXRjaCBleHRlbmRzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgY2xpZW50KSB7XG4gICAgc3VwZXIoc2VsZWN0aW9uLCBvcGVyYXRpb25zKTtcbiAgICBfX3ByaXZhdGVBZGQkNih0aGlzLCBfY2xpZW50JDUsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDYodGhpcywgX2NsaWVudCQ1LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHBhdGNoXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlUGF0Y2godGhpcy5zZWxlY3Rpb24sIHsgLi4udGhpcy5vcGVyYXRpb25zIH0sIF9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQkNSkpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50JDUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHBhdGNoLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgcGF0Y2ggdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHsgcmV0dXJuRmlyc3QsIHJldHVybkRvY3VtZW50czogdHJ1ZSB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudCQ1KS5tdXRhdGUoeyBwYXRjaDogdGhpcy5zZXJpYWxpemUoKSB9LCBvcHRzKTtcbiAgfVxufTtcbl9jbGllbnQkNSA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgT2JzZXJ2YWJsZVBhdGNoID0gX09ic2VydmFibGVQYXRjaDtcbmNvbnN0IF9QYXRjaCA9IGNsYXNzIF9QYXRjaCBleHRlbmRzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgY2xpZW50KSB7XG4gICAgc3VwZXIoc2VsZWN0aW9uLCBvcGVyYXRpb25zKTtcbiAgICBfX3ByaXZhdGVBZGQkNih0aGlzLCBfY2xpZW50MiQ1LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ2KHRoaXMsIF9jbGllbnQyJDUsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgcGF0Y2hcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1BhdGNoKHRoaXMuc2VsZWN0aW9uLCB7IC4uLnRoaXMub3BlcmF0aW9ucyB9LCBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50MiQ1KSk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQyJDUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHBhdGNoLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgcGF0Y2ggdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHsgcmV0dXJuRmlyc3QsIHJldHVybkRvY3VtZW50czogdHJ1ZSB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudDIkNSkubXV0YXRlKHsgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKCkgfSwgb3B0cyk7XG4gIH1cbn07XG5fY2xpZW50MiQ1ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBQYXRjaCA9IF9QYXRjaDtcblxudmFyIF9fYWNjZXNzQ2hlY2skNSA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQ1ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ1KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDUgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQ1ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNShvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQ0LCBfY2xpZW50MiQ0O1xuY29uc3QgZGVmYXVsdE11dGF0ZU9wdGlvbnMgPSB7IHJldHVybkRvY3VtZW50czogZmFsc2UgfTtcbmNsYXNzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMgPSBbXSwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IG9wZXJhdGlvbnM7XG4gICAgdGhpcy50cnhJZCA9IHRyYW5zYWN0aW9uSWQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LiBJZiBgX2lkYCBpcyBwcm92aWRlZCBhbmQgYWxyZWFkeSBleGlzdHMsIHRoZSBtdXRhdGlvbiB3aWxsIGZhaWwuIElmIG5vIGBfaWRgIGlzIGdpdmVuLCBvbmUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGdlbmVyYXRlZCBieSB0aGUgZGF0YWJhc2UuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZS4gUmVxdWlyZXMgYSBgX3R5cGVgIHByb3BlcnR5LlxuICAgKi9cbiAgY3JlYXRlKGRvYykge1xuICAgIHZhbGlkYXRlT2JqZWN0KFwiY3JlYXRlXCIsIGRvYyk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7IGNyZWF0ZTogZG9jIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbml0eSBkb2N1bWVudC4gSWYgYSBkb2N1bWVudCB3aXRoIHRoZSBzYW1lIGBfaWRgIGFscmVhZHkgZXhpc3RzLCB0aGUgY3JlYXRlIG9wZXJhdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jKSB7XG4gICAgY29uc3Qgb3AgPSBcImNyZWF0ZUlmTm90RXhpc3RzXCI7XG4gICAgdmFsaWRhdGVPYmplY3Qob3AsIGRvYyk7XG4gICAgcmVxdWlyZURvY3VtZW50SWQob3AsIGRvYyk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7IFtvcF06IGRvYyB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQsIG9yIHJlcGxhY2VzIGFuIGV4aXN0aW5nIG9uZSBpZiB0aGUgc2FtZSBgX2lkYCBpcyBhbHJlYWR5IHVzZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBvciByZXBsYWNlLiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlT3JSZXBsYWNlKGRvYykge1xuICAgIGNvbnN0IG9wID0gXCJjcmVhdGVPclJlcGxhY2VcIjtcbiAgICB2YWxpZGF0ZU9iamVjdChvcCwgZG9jKTtcbiAgICByZXF1aXJlRG9jdW1lbnRJZChvcCwgZG9jKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgW29wXTogZG9jIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBkb2N1bWVudCBJRFxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSUQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUoZG9jdW1lbnRJZCkge1xuICAgIHZhbGlkYXRlRG9jdW1lbnRJZChcImRlbGV0ZVwiLCBkb2N1bWVudElkKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgZGVsZXRlOiB7IGlkOiBkb2N1bWVudElkIH0gfSk7XG4gIH1cbiAgdHJhbnNhY3Rpb25JZChpZCkge1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyeElkO1xuICAgIH1cbiAgICB0aGlzLnRyeElkID0gaWQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLm9wZXJhdGlvbnNdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnNlcmlhbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHRyYW5zYWN0aW9uIG9mIGFsbCBvcGVyYXRpb25zXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBbXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBfYWRkKG11dCkge1xuICAgIHRoaXMub3BlcmF0aW9ucy5wdXNoKG11dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbmNvbnN0IF9UcmFuc2FjdGlvbiA9IGNsYXNzIF9UcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpO1xuICAgIF9fcHJpdmF0ZUFkZCQ1KHRoaXMsIF9jbGllbnQkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNSh0aGlzLCBfY2xpZW50JDQsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1RyYW5zYWN0aW9uKFsuLi50aGlzLm9wZXJhdGlvbnNdLCBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50JDQpLCB0aGlzLnRyeElkKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGBjbGllbnRgIHBhc3NlZCB0byB0cmFuc2FjdGlvbiwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHRyYW5zYWN0aW9uIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KS5tdXRhdGUoXG4gICAgICB0aGlzLnNlcmlhbGl6ZSgpLFxuICAgICAgT2JqZWN0LmFzc2lnbih7IHRyYW5zYWN0aW9uSWQ6IHRoaXMudHJ4SWQgfSwgZGVmYXVsdE11dGF0ZU9wdGlvbnMsIG9wdGlvbnMgfHwge30pXG4gICAgKTtcbiAgfVxuICBwYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwgcGF0Y2hPcHMpIHtcbiAgICBjb25zdCBpc0J1aWxkZXIgPSB0eXBlb2YgcGF0Y2hPcHMgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBjb25zdCBpc1BhdGNoID0gdHlwZW9mIHBhdGNoT3JEb2N1bWVudElkICE9PSBcInN0cmluZ1wiICYmIHBhdGNoT3JEb2N1bWVudElkIGluc3RhbmNlb2YgUGF0Y2g7XG4gICAgaWYgKGlzUGF0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgfVxuICAgIGlmIChpc0J1aWxkZXIpIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hPcHMobmV3IFBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCB7fSwgX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KSkpO1xuICAgICAgaWYgKCEocGF0Y2ggaW5zdGFuY2VvZiBQYXRjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHsgaWQ6IHBhdGNoT3JEb2N1bWVudElkLCAuLi5wYXRjaE9wcyB9IH0pO1xuICB9XG59O1xuX2NsaWVudCQ0ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBUcmFuc2FjdGlvbiA9IF9UcmFuc2FjdGlvbjtcbmNvbnN0IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24gPSBjbGFzcyBfT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3BlcmF0aW9ucywgY2xpZW50LCB0cmFuc2FjdGlvbklkKSB7XG4gICAgc3VwZXIob3BlcmF0aW9ucywgdHJhbnNhY3Rpb25JZCk7XG4gICAgX19wcml2YXRlQWRkJDUodGhpcywgX2NsaWVudDIkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNSh0aGlzLCBfY2xpZW50MiQ0LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24oWy4uLnRoaXMub3BlcmF0aW9uc10sIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpLCB0aGlzLnRyeElkKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudDIkNCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gdHJhbnNhY3Rpb24sIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSB0cmFuc2FjdGlvbiB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpLm11dGF0ZShcbiAgICAgIHRoaXMuc2VyaWFsaXplKCksXG4gICAgICBPYmplY3QuYXNzaWduKHsgdHJhbnNhY3Rpb25JZDogdGhpcy50cnhJZCB9LCBkZWZhdWx0TXV0YXRlT3B0aW9ucywgb3B0aW9ucyB8fCB7fSlcbiAgICApO1xuICB9XG4gIHBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCBwYXRjaE9wcykge1xuICAgIGNvbnN0IGlzQnVpbGRlciA9IHR5cGVvZiBwYXRjaE9wcyA9PT0gXCJmdW5jdGlvblwiO1xuICAgIGNvbnN0IGlzUGF0Y2ggPSB0eXBlb2YgcGF0Y2hPckRvY3VtZW50SWQgIT09IFwic3RyaW5nXCIgJiYgcGF0Y2hPckRvY3VtZW50SWQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2g7XG4gICAgaWYgKGlzUGF0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgfVxuICAgIGlmIChpc0J1aWxkZXIpIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hPcHMobmV3IE9ic2VydmFibGVQYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwge30sIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpKSk7XG4gICAgICBpZiAoIShwYXRjaCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHsgaWQ6IHBhdGNoT3JEb2N1bWVudElkLCAuLi5wYXRjaE9wcyB9IH0pO1xuICB9XG59O1xuX2NsaWVudDIkNCA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID0gX09ic2VydmFibGVUcmFuc2FjdGlvbjtcblxuY29uc3QgQkFTRV9VUkwgPSBcImh0dHBzOi8vd3d3LnNhbml0eS5pby9oZWxwL1wiO1xuZnVuY3Rpb24gZ2VuZXJhdGVIZWxwVXJsKHNsdWcpIHtcbiAgcmV0dXJuIEJBU0VfVVJMICsgc2x1Zztcbn1cblxuZnVuY3Rpb24gb25jZShmbikge1xuICBsZXQgZGlkQ2FsbCA9IGZhbHNlO1xuICBsZXQgcmV0dXJuVmFsdWU7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGlmIChkaWRDYWxsKSB7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuICAgIHJldHVyblZhbHVlID0gZm4oLi4uYXJncyk7XG4gICAgZGlkQ2FsbCA9IHRydWU7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9O1xufVxuXG5jb25zdCBjcmVhdGVXYXJuaW5nUHJpbnRlciA9IChtZXNzYWdlKSA9PiAoXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIG9uY2UoKC4uLmFyZ3MpID0+IGNvbnNvbGUud2FybihtZXNzYWdlLmpvaW4oXCIgXCIpLCAuLi5hcmdzKSlcbik7XG5jb25zdCBwcmludENkbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiU2luY2UgeW91IGhhdmVuJ3Qgc2V0IGEgdmFsdWUgZm9yIGB1c2VDZG5gLCB3ZSB3aWxsIGRlbGl2ZXIgY29udGVudCB1c2luZyBvdXJcIixcbiAgXCJnbG9iYWwsIGVkZ2UtY2FjaGVkIEFQSS1DRE4uIElmIHlvdSB3aXNoIHRvIGhhdmUgY29udGVudCBkZWxpdmVyZWQgZmFzdGVyLCBzZXRcIixcbiAgXCJgdXNlQ2RuOiBmYWxzZWAgdG8gdXNlIHRoZSBMaXZlIEFQSS4gTm90ZTogWW91IG1heSBpbmN1ciBoaWdoZXIgY29zdHMgdXNpbmcgdGhlIGxpdmUgQVBJLlwiXG5dKTtcbmNvbnN0IHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVGhlIFNhbml0eSBjbGllbnQgaXMgY29uZmlndXJlZCB3aXRoIHRoZSBgcGVyc3BlY3RpdmVgIHNldCB0byBgcHJldmlld0RyYWZ0c2AsIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgQVBJLUNETi5cIixcbiAgXCJUaGUgTGl2ZSBBUEkgd2lsbCBiZSB1c2VkIGluc3RlYWQuIFNldCBgdXNlQ2RuOiBmYWxzZWAgaW4geW91ciBjb25maWd1cmF0aW9uIHRvIGhpZGUgdGhpcyB3YXJuaW5nLlwiXG5dKTtcbmNvbnN0IHByaW50QnJvd3NlclRva2VuV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJZb3UgaGF2ZSBjb25maWd1cmVkIFNhbml0eSBjbGllbnQgdG8gdXNlIGEgdG9rZW4gaW4gdGhlIGJyb3dzZXIuIFRoaXMgbWF5IGNhdXNlIHVuaW50ZW50aW9uYWwgc2VjdXJpdHkgaXNzdWVzLlwiLFxuICBcIlNlZSBcIi5jb25jYXQoZ2VuZXJhdGVIZWxwVXJsKFxuICAgIFwianMtY2xpZW50LWJyb3dzZXItdG9rZW5cIlxuICApLCBcIiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgaG93IHRvIGhpZGUgdGhpcyB3YXJuaW5nLlwiKVxuXSk7XG5jb25zdCBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVXNpbmcgdGhlIFNhbml0eSBjbGllbnQgd2l0aG91dCBzcGVjaWZ5aW5nIGFuIEFQSSB2ZXJzaW9uIGlzIGRlcHJlY2F0ZWQuXCIsXG4gIFwiU2VlIFwiLmNvbmNhdChnZW5lcmF0ZUhlbHBVcmwoXCJqcy1jbGllbnQtYXBpLXZlcnNpb25cIikpXG5dKTtcbmNvbnN0IHByaW50Tm9EZWZhdWx0RXhwb3J0ID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1xuICBcIlRoZSBkZWZhdWx0IGV4cG9ydCBvZiBAc2FuaXR5L2NsaWVudCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgdGhlIG5hbWVkIGV4cG9ydCBgY3JlYXRlQ2xpZW50YCBpbnN0ZWFkLlwiXG5dKTtcblxuY29uc3QgZGVmYXVsdENkbkhvc3QgPSBcImFwaWNkbi5zYW5pdHkuaW9cIjtcbmNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gIGFwaUhvc3Q6IFwiaHR0cHM6Ly9hcGkuc2FuaXR5LmlvXCIsXG4gIGFwaVZlcnNpb246IFwiMVwiLFxuICB1c2VQcm9qZWN0SG9zdG5hbWU6IHRydWUsXG4gIHN0ZWdhOiB7IGVuYWJsZWQ6IGZhbHNlIH1cbn07XG5jb25zdCBMT0NBTEhPU1RTID0gW1wibG9jYWxob3N0XCIsIFwiMTI3LjAuMC4xXCIsIFwiMC4wLjAuMFwiXTtcbmNvbnN0IGlzTG9jYWwgPSAoaG9zdCkgPT4gTE9DQUxIT1NUUy5pbmRleE9mKGhvc3QpICE9PSAtMTtcbmNvbnN0IHZhbGlkYXRlQXBpVmVyc2lvbiA9IGZ1bmN0aW9uIHZhbGlkYXRlQXBpVmVyc2lvbjIoYXBpVmVyc2lvbikge1xuICBpZiAoYXBpVmVyc2lvbiA9PT0gXCIxXCIgfHwgYXBpVmVyc2lvbiA9PT0gXCJYXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgYXBpRGF0ZSA9IG5ldyBEYXRlKGFwaVZlcnNpb24pO1xuICBjb25zdCBhcGlWZXJzaW9uVmFsaWQgPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC8udGVzdChhcGlWZXJzaW9uKSAmJiBhcGlEYXRlIGluc3RhbmNlb2YgRGF0ZSAmJiBhcGlEYXRlLmdldFRpbWUoKSA+IDA7XG4gIGlmICghYXBpVmVyc2lvblZhbGlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBBUEkgdmVyc2lvbiBzdHJpbmcsIGV4cGVjdGVkIGAxYCBvciBkYXRlIGluIGZvcm1hdCBgWVlZWS1NTS1ERGBcIik7XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlID0gZnVuY3Rpb24gdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZTIocGVyc3BlY3RpdmUpIHtcbiAgc3dpdGNoIChwZXJzcGVjdGl2ZSkge1xuICAgIGNhc2UgXCJwcmV2aWV3RHJhZnRzXCI6XG4gICAgY2FzZSBcInB1Ymxpc2hlZFwiOlxuICAgIGNhc2UgXCJyYXdcIjpcbiAgICAgIHJldHVybjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgXCJJbnZhbGlkIEFQSSBwZXJzcGVjdGl2ZSBzdHJpbmcsIGV4cGVjdGVkIGBwdWJsaXNoZWRgLCBgcHJldmlld0RyYWZ0c2Agb3IgYHJhd2BcIlxuICAgICAgKTtcbiAgfVxufTtcbmNvbnN0IGluaXRDb25maWcgPSAoY29uZmlnLCBwcmV2Q29uZmlnKSA9PiB7XG4gIGNvbnN0IHNwZWNpZmllZENvbmZpZyA9IHtcbiAgICAuLi5wcmV2Q29uZmlnLFxuICAgIC4uLmNvbmZpZyxcbiAgICBzdGVnYToge1xuICAgICAgLi4udHlwZW9mIHByZXZDb25maWcuc3RlZ2EgPT09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBwcmV2Q29uZmlnLnN0ZWdhIH0gOiBwcmV2Q29uZmlnLnN0ZWdhIHx8IGRlZmF1bHRDb25maWcuc3RlZ2EsXG4gICAgICAuLi50eXBlb2YgY29uZmlnLnN0ZWdhID09PSBcImJvb2xlYW5cIiA/IHsgZW5hYmxlZDogY29uZmlnLnN0ZWdhIH0gOiBjb25maWcuc3RlZ2EgfHwge31cbiAgICB9XG4gIH07XG4gIGlmICghc3BlY2lmaWVkQ29uZmlnLmFwaVZlcnNpb24pIHtcbiAgICBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcoKTtcbiAgfVxuICBjb25zdCBuZXdDb25maWcgPSB7XG4gICAgLi4uZGVmYXVsdENvbmZpZyxcbiAgICAuLi5zcGVjaWZpZWRDb25maWdcbiAgfTtcbiAgY29uc3QgcHJvamVjdEJhc2VkID0gbmV3Q29uZmlnLnVzZVByb2plY3RIb3N0bmFtZTtcbiAgaWYgKHR5cGVvZiBQcm9taXNlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgaGVscFVybCA9IGdlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1wcm9taXNlLXBvbHlmaWxsXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG5hdGl2ZSBQcm9taXNlLWltcGxlbWVudGF0aW9uIGZvdW5kLCBwb2x5ZmlsbCBuZWVkZWQgLSBzZWUgXCIuY29uY2F0KGhlbHBVcmwpKTtcbiAgfVxuICBpZiAocHJvamVjdEJhc2VkICYmICFuZXdDb25maWcucHJvamVjdElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlndXJhdGlvbiBtdXN0IGNvbnRhaW4gYHByb2plY3RJZGBcIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBuZXdDb25maWcucGVyc3BlY3RpdmUgPT09IFwic3RyaW5nXCIpIHtcbiAgICB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKG5ld0NvbmZpZy5wZXJzcGVjdGl2ZSk7XG4gIH1cbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwXCIgaW4gbmV3Q29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB1c2luZyBvcHRpb25zIG1lYW50IGZvciAnQHNhbml0eS9wcmV2aWV3LWtpdC9jbGllbnQnLiAnZW5jb2RlU291cmNlTWFwJyBpcyBub3Qgc3VwcG9ydGVkIGluICdAc2FuaXR5L2NsaWVudCcuIERpZCB5b3UgbWVhbiAnc3RlZ2EuZW5hYmxlZCc/XCJcbiAgICApO1xuICB9XG4gIGlmIChcImVuY29kZVNvdXJjZU1hcEF0UGF0aFwiIGluIG5ld0NvbmZpZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcEF0UGF0aCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQnLiBEaWQgeW91IG1lYW4gJ3N0ZWdhLmZpbHRlcic/XCJcbiAgICApO1xuICB9XG4gIGlmICh0eXBlb2YgbmV3Q29uZmlnLnN0ZWdhLmVuYWJsZWQgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwic3RlZ2EuZW5hYmxlZCBtdXN0IGJlIGEgYm9vbGVhbiwgcmVjZWl2ZWQgXCIuY29uY2F0KG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkKSk7XG4gIH1cbiAgaWYgKG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICYmIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInN0ZWdhLnN0dWRpb1VybCBtdXN0IGJlIGRlZmluZWQgd2hlbiBzdGVnYS5lbmFibGVkIGlzIHRydWVcIik7XG4gIH1cbiAgaWYgKG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICYmIHR5cGVvZiBuZXdDb25maWcuc3RlZ2Euc3R1ZGlvVXJsICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBuZXdDb25maWcuc3RlZ2Euc3R1ZGlvVXJsICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcInN0ZWdhLnN0dWRpb1VybCBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24sIHJlY2VpdmVkIFwiLmNvbmNhdChuZXdDb25maWcuc3RlZ2Euc3R1ZGlvVXJsKVxuICAgICk7XG4gIH1cbiAgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICBjb25zdCBpc0xvY2FsaG9zdCA9IGlzQnJvd3NlciAmJiBpc0xvY2FsKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gIGlmIChpc0Jyb3dzZXIgJiYgaXNMb2NhbGhvc3QgJiYgbmV3Q29uZmlnLnRva2VuICYmIG5ld0NvbmZpZy5pZ25vcmVCcm93c2VyVG9rZW5XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgcHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nKCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5ld0NvbmZpZy51c2VDZG4gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBwcmludENkbldhcm5pbmcoKTtcbiAgfVxuICBpZiAocHJvamVjdEJhc2VkKSB7XG4gICAgcHJvamVjdElkKG5ld0NvbmZpZy5wcm9qZWN0SWQpO1xuICB9XG4gIGlmIChuZXdDb25maWcuZGF0YXNldCkge1xuICAgIGRhdGFzZXQobmV3Q29uZmlnLmRhdGFzZXQpO1xuICB9XG4gIGlmIChcInJlcXVlc3RUYWdQcmVmaXhcIiBpbiBuZXdDb25maWcpIHtcbiAgICBuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCA9IG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID8gcmVxdWVzdFRhZyhuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCkucmVwbGFjZSgvXFwuKyQvLCBcIlwiKSA6IHZvaWQgMDtcbiAgfVxuICBuZXdDb25maWcuYXBpVmVyc2lvbiA9IFwiXCIuY29uY2F0KG5ld0NvbmZpZy5hcGlWZXJzaW9uKS5yZXBsYWNlKC9edi8sIFwiXCIpO1xuICBuZXdDb25maWcuaXNEZWZhdWx0QXBpID0gbmV3Q29uZmlnLmFwaUhvc3QgPT09IGRlZmF1bHRDb25maWcuYXBpSG9zdDtcbiAgbmV3Q29uZmlnLnVzZUNkbiA9IG5ld0NvbmZpZy51c2VDZG4gIT09IGZhbHNlICYmICFuZXdDb25maWcud2l0aENyZWRlbnRpYWxzO1xuICB2YWxpZGF0ZUFwaVZlcnNpb24obmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICBjb25zdCBob3N0UGFydHMgPSBuZXdDb25maWcuYXBpSG9zdC5zcGxpdChcIjovL1wiLCAyKTtcbiAgY29uc3QgcHJvdG9jb2wgPSBob3N0UGFydHNbMF07XG4gIGNvbnN0IGhvc3QgPSBob3N0UGFydHNbMV07XG4gIGNvbnN0IGNkbkhvc3QgPSBuZXdDb25maWcuaXNEZWZhdWx0QXBpID8gZGVmYXVsdENkbkhvc3QgOiBob3N0O1xuICBpZiAobmV3Q29uZmlnLnVzZVByb2plY3RIb3N0bmFtZSkge1xuICAgIG5ld0NvbmZpZy51cmwgPSBcIlwiLmNvbmNhdChwcm90b2NvbCwgXCI6Ly9cIikuY29uY2F0KG5ld0NvbmZpZy5wcm9qZWN0SWQsIFwiLlwiKS5jb25jYXQoaG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICAgIG5ld0NvbmZpZy5jZG5VcmwgPSBcIlwiLmNvbmNhdChwcm90b2NvbCwgXCI6Ly9cIikuY29uY2F0KG5ld0NvbmZpZy5wcm9qZWN0SWQsIFwiLlwiKS5jb25jYXQoY2RuSG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIG5ld0NvbmZpZy51cmwgPSBcIlwiLmNvbmNhdChuZXdDb25maWcuYXBpSG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICAgIG5ld0NvbmZpZy5jZG5VcmwgPSBuZXdDb25maWcudXJsO1xuICB9XG4gIHJldHVybiBuZXdDb25maWc7XG59O1xuXG5jb25zdCBwcm9qZWN0SGVhZGVyID0gXCJYLVNhbml0eS1Qcm9qZWN0LUlEXCI7XG5mdW5jdGlvbiByZXF1ZXN0T3B0aW9ucyhjb25maWcsIG92ZXJyaWRlcyA9IHt9KSB7XG4gIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgY29uc3QgdG9rZW4gPSBvdmVycmlkZXMudG9rZW4gfHwgY29uZmlnLnRva2VuO1xuICBpZiAodG9rZW4pIHtcbiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBcIkJlYXJlciBcIi5jb25jYXQodG9rZW4pO1xuICB9XG4gIGlmICghb3ZlcnJpZGVzLnVzZUdsb2JhbEFwaSAmJiAhY29uZmlnLnVzZVByb2plY3RIb3N0bmFtZSAmJiBjb25maWcucHJvamVjdElkKSB7XG4gICAgaGVhZGVyc1twcm9qZWN0SGVhZGVyXSA9IGNvbmZpZy5wcm9qZWN0SWQ7XG4gIH1cbiAgY29uc3Qgd2l0aENyZWRlbnRpYWxzID0gQm9vbGVhbihcbiAgICB0eXBlb2Ygb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFscyA9PT0gXCJ1bmRlZmluZWRcIiA/IGNvbmZpZy50b2tlbiB8fCBjb25maWcud2l0aENyZWRlbnRpYWxzIDogb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFsc1xuICApO1xuICBjb25zdCB0aW1lb3V0ID0gdHlwZW9mIG92ZXJyaWRlcy50aW1lb3V0ID09PSBcInVuZGVmaW5lZFwiID8gY29uZmlnLnRpbWVvdXQgOiBvdmVycmlkZXMudGltZW91dDtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG92ZXJyaWRlcywge1xuICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oe30sIGhlYWRlcnMsIG92ZXJyaWRlcy5oZWFkZXJzIHx8IHt9KSxcbiAgICB0aW1lb3V0OiB0eXBlb2YgdGltZW91dCA9PT0gXCJ1bmRlZmluZWRcIiA/IDUgKiA2MCAqIDFlMyA6IHRpbWVvdXQsXG4gICAgcHJveHk6IG92ZXJyaWRlcy5wcm94eSB8fCBjb25maWcucHJveHksXG4gICAganNvbjogdHJ1ZSxcbiAgICB3aXRoQ3JlZGVudGlhbHMsXG4gICAgZmV0Y2g6IHR5cGVvZiBvdmVycmlkZXMuZmV0Y2ggPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGNvbmZpZy5mZXRjaCA9PT0gXCJvYmplY3RcIiA/IHsgLi4uY29uZmlnLmZldGNoLCAuLi5vdmVycmlkZXMuZmV0Y2ggfSA6IG92ZXJyaWRlcy5mZXRjaCB8fCBjb25maWcuZmV0Y2hcbiAgfSk7XG59XG5cbnZhciBzPXswOjgyMDMsMTo4MjA0LDI6ODIwNSwzOjgyOTAsNDo4MjkxLDU6ODI4OCw2OjY1Mjc5LDc6ODI4OSw4OjExOTE1NSw5OjExOTE1NixhOjExOTE1NyxiOjExOTE1OCxjOjExOTE1OSxkOjExOTE2MCxlOjExOTE2MSxmOjExOTE2Mn0sYz17MDo4MjAzLDE6ODIwNCwyOjgyMDUsMzo2NTI3OX0sZD1uZXcgQXJyYXkoNCkuZmlsbChTdHJpbmcuZnJvbUNvZGVQb2ludChjWzBdKSkuam9pbihcIlwiKTtmdW5jdGlvbiBFKHQpe2xldCBlPUpTT04uc3RyaW5naWZ5KHQpO3JldHVybiBgJHtkfSR7QXJyYXkuZnJvbShlKS5tYXAocj0+e2xldCBuPXIuY2hhckNvZGVBdCgwKTtpZihuPjI1NSl0aHJvdyBuZXcgRXJyb3IoYE9ubHkgQVNDSUkgZWRpdCBpbmZvIGNhbiBiZSBlbmNvZGVkLiBFcnJvciBhdHRlbXB0aW5nIHRvIGVuY29kZSAke2V9IG9uIGNoYXJhY3RlciAke3J9ICgke259KWApO3JldHVybiBBcnJheS5mcm9tKG4udG9TdHJpbmcoNCkucGFkU3RhcnQoNCxcIjBcIikpLm1hcChvPT5TdHJpbmcuZnJvbUNvZGVQb2ludChjW29dKSkuam9pbihcIlwiKX0pLmpvaW4oXCJcIil9YH1mdW5jdGlvbiBJKHQpe3JldHVybiBOdW1iZXIuaXNOYU4oTnVtYmVyKHQpKT9Cb29sZWFuKERhdGUucGFyc2UodCkpOiExfWZ1bmN0aW9uIHgodCl7dHJ5e25ldyBVUkwodCx0LnN0YXJ0c1dpdGgoXCIvXCIpP1wiaHR0cHM6Ly9hY21lLmNvbVwiOnZvaWQgMCk7fWNhdGNoe3JldHVybiAhMX1yZXR1cm4gITB9ZnVuY3Rpb24gYih0LGUscj1cImF1dG9cIil7cmV0dXJuIHI9PT0hMHx8cj09PVwiYXV0b1wiJiYoSSh0KXx8eCh0KSk/dDpgJHt0fSR7RShlKX1gfU9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhjKS5tYXAodD0+dC5yZXZlcnNlKCkpKTtPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocykubWFwKHQ9PnQucmV2ZXJzZSgpKSk7dmFyIFM9YCR7T2JqZWN0LnZhbHVlcyhzKS5tYXAodD0+YFxcXFx1eyR7dC50b1N0cmluZygxNil9fWApLmpvaW4oXCJcIil9YCxmPW5ldyBSZWdFeHAoYFske1N9XXs0LH1gLFwiZ3VcIik7ZnVuY3Rpb24gWCh0KXt2YXIgZTtyZXR1cm4ge2NsZWFuZWQ6dC5yZXBsYWNlKGYsXCJcIiksZW5jb2RlZDooKGU9dC5tYXRjaChmKSk9PW51bGw/dm9pZCAwOmVbMF0pfHxcIlwifX1cblxuZnVuY3Rpb24gdmVyY2VsU3RlZ2FDbGVhbkFsbChyZXN1bHQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIHJldHVybiBYKHZhbHVlKS5jbGVhbmVkO1xuICAgICAgfSlcbiAgICApO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmNvbnN0IGVuY29kZVF1ZXJ5U3RyaW5nID0gKHtcbiAgcXVlcnksXG4gIHBhcmFtcyA9IHt9LFxuICBvcHRpb25zID0ge31cbn0pID0+IHtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICBjb25zdCB7IHRhZywgLi4ub3B0cyB9ID0gb3B0aW9ucztcbiAgaWYgKHRhZylcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwidGFnXCIsIHRhZyk7XG4gIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJxdWVyeVwiLCBxdWVyeSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtcykpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwiJFwiLmNvbmNhdChrZXkpLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9wdHMpKSB7XG4gICAgaWYgKHZhbHVlKVxuICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIFwiXCIuY29uY2F0KHZhbHVlKSk7XG4gIH1cbiAgcmV0dXJuIFwiP1wiLmNvbmNhdChzZWFyY2hQYXJhbXMpO1xufTtcblxuY29uc3QgZXhjbHVkZUZhbHNleSA9IChwYXJhbSwgZGVmVmFsdWUpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB0eXBlb2YgcGFyYW0gPT09IFwidW5kZWZpbmVkXCIgPyBkZWZWYWx1ZSA6IHBhcmFtO1xuICByZXR1cm4gcGFyYW0gPT09IGZhbHNlID8gdm9pZCAwIDogdmFsdWU7XG59O1xuY29uc3QgZ2V0TXV0YXRpb25RdWVyeSA9IChvcHRpb25zID0ge30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICBkcnlSdW46IG9wdGlvbnMuZHJ5UnVuLFxuICAgIHJldHVybklkczogdHJ1ZSxcbiAgICByZXR1cm5Eb2N1bWVudHM6IGV4Y2x1ZGVGYWxzZXkob3B0aW9ucy5yZXR1cm5Eb2N1bWVudHMsIHRydWUpLFxuICAgIHZpc2liaWxpdHk6IG9wdGlvbnMudmlzaWJpbGl0eSB8fCBcInN5bmNcIixcbiAgICBhdXRvR2VuZXJhdGVBcnJheUtleXM6IG9wdGlvbnMuYXV0b0dlbmVyYXRlQXJyYXlLZXlzLFxuICAgIHNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uOiBvcHRpb25zLnNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uXG4gIH07XG59O1xuY29uc3QgaXNSZXNwb25zZSA9IChldmVudCkgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiO1xuY29uc3QgZ2V0Qm9keSA9IChldmVudCkgPT4gZXZlbnQuYm9keTtcbmNvbnN0IGluZGV4QnkgPSAoZG9jcywgYXR0cikgPT4gZG9jcy5yZWR1Y2UoKGluZGV4ZWQsIGRvYykgPT4ge1xuICBpbmRleGVkW2F0dHIoZG9jKV0gPSBkb2M7XG4gIHJldHVybiBpbmRleGVkO1xufSwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuY29uc3QgZ2V0UXVlcnlTaXplTGltaXQgPSAxMTI2NDtcbmZ1bmN0aW9uIF9mZXRjaChjbGllbnQsIGh0dHBSZXF1ZXN0LCBfc3RlZ2EsIHF1ZXJ5LCBfcGFyYW1zID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzdGVnYSA9IFwic3RlZ2FcIiBpbiBvcHRpb25zID8ge1xuICAgIC4uLl9zdGVnYSB8fCB7fSxcbiAgICAuLi50eXBlb2Ygb3B0aW9ucy5zdGVnYSA9PT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IG9wdGlvbnMuc3RlZ2EgfSA6IG9wdGlvbnMuc3RlZ2EgfHwge31cbiAgfSA6IF9zdGVnYTtcbiAgY29uc3QgcGFyYW1zID0gc3RlZ2EuZW5hYmxlZCA/IHZlcmNlbFN0ZWdhQ2xlYW5BbGwoX3BhcmFtcykgOiBfcGFyYW1zO1xuICBjb25zdCBtYXBSZXNwb25zZSA9IG9wdGlvbnMuZmlsdGVyUmVzcG9uc2UgPT09IGZhbHNlID8gKHJlcykgPT4gcmVzIDogKHJlcykgPT4gcmVzLnJlc3VsdDtcbiAgY29uc3QgeyBjYWNoZSwgbmV4dCwgLi4ub3B0cyB9ID0ge1xuICAgIC8vIE9wdCBvdXQgb2Ygc2V0dGluZyBhIGBzaWduYWxgIG9uIGFuIGludGVybmFsIGBmZXRjaGAgaWYgb25lIGlzbid0IHByb3ZpZGVkLlxuICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGluIFJlYWN0IFNlcnZlciBDb21wb25lbnRzIHRvIGF2b2lkIG9wdGluZyBvdXQgb2YgUmVxdWVzdCBNZW1vaXphdGlvbi5cbiAgICB1c2VBYm9ydFNpZ25hbDogdHlwZW9mIG9wdGlvbnMuc2lnbmFsICE9PSBcInVuZGVmaW5lZFwiLFxuICAgIC8vIFNldCBgcmVzdWx0U291cmNlTWFwJyB3aGVuIHN0ZWdhIGlzIGVuYWJsZWQsIGFzIGl0J3MgcmVxdWlyZWQgZm9yIGVuY29kaW5nLlxuICAgIHJlc3VsdFNvdXJjZU1hcDogc3RlZ2EuZW5hYmxlZCA/IFwid2l0aEtleUFycmF5U2VsZWN0b3JcIiA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgcmVxT3B0cyA9IHR5cGVvZiBjYWNoZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgbmV4dCAhPT0gXCJ1bmRlZmluZWRcIiA/IHsgLi4ub3B0cywgZmV0Y2g6IHsgY2FjaGUsIG5leHQgfSB9IDogb3B0cztcbiAgY29uc3QgJHJlcXVlc3QgPSBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJxdWVyeVwiLCB7IHF1ZXJ5LCBwYXJhbXMgfSwgcmVxT3B0cyk7XG4gIHJldHVybiBzdGVnYS5lbmFibGVkID8gJHJlcXVlc3QucGlwZShcbiAgICBjb21iaW5lTGF0ZXN0V2l0aChcbiAgICAgIGZyb20oXG4gICAgICAgIGltcG9ydCgnLi9zdGVnYUVuY29kZVNvdXJjZU1hcC1nWklSYVlhci5qcycpLnRoZW4oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4uc3RlZ2FFbmNvZGVTb3VyY2VNYXAkMTsgfSkudGhlbihcbiAgICAgICAgICAoeyBzdGVnYUVuY29kZVNvdXJjZU1hcCB9KSA9PiBzdGVnYUVuY29kZVNvdXJjZU1hcFxuICAgICAgICApXG4gICAgICApXG4gICAgKSxcbiAgICBtYXAoXG4gICAgICAoW3Jlcywgc3RlZ2FFbmNvZGVTb3VyY2VNYXBdKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHN0ZWdhRW5jb2RlU291cmNlTWFwKHJlcy5yZXN1bHQsIHJlcy5yZXN1bHRTb3VyY2VNYXAsIHN0ZWdhKTtcbiAgICAgICAgcmV0dXJuIG1hcFJlc3BvbnNlKHsgLi4ucmVzLCByZXN1bHQgfSk7XG4gICAgICB9XG4gICAgKVxuICApIDogJHJlcXVlc3QucGlwZShtYXAobWFwUmVzcG9uc2UpKTtcbn1cbmZ1bmN0aW9uIF9nZXREb2N1bWVudChjbGllbnQsIGh0dHBSZXF1ZXN0LCBpZCwgb3B0cyA9IHt9KSB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7IHVyaTogX2dldERhdGFVcmwoY2xpZW50LCBcImRvY1wiLCBpZCksIGpzb246IHRydWUsIHRhZzogb3B0cy50YWcgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcihpc1Jlc3BvbnNlKSxcbiAgICBtYXAoKGV2ZW50KSA9PiBldmVudC5ib2R5LmRvY3VtZW50cyAmJiBldmVudC5ib2R5LmRvY3VtZW50c1swXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9nZXREb2N1bWVudHMoY2xpZW50LCBodHRwUmVxdWVzdCwgaWRzLCBvcHRzID0ge30pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHsgdXJpOiBfZ2V0RGF0YVVybChjbGllbnQsIFwiZG9jXCIsIGlkcy5qb2luKFwiLFwiKSksIGpzb246IHRydWUsIHRhZzogb3B0cy50YWcgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcihpc1Jlc3BvbnNlKSxcbiAgICBtYXAoKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpbmRleGVkID0gaW5kZXhCeShldmVudC5ib2R5LmRvY3VtZW50cyB8fCBbXSwgKGRvYykgPT4gZG9jLl9pZCk7XG4gICAgICByZXR1cm4gaWRzLm1hcCgoaWQpID0+IGluZGV4ZWRbaWRdIHx8IG51bGwpO1xuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBfY3JlYXRlSWZOb3RFeGlzdHMoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcHRpb25zKSB7XG4gIHJlcXVpcmVEb2N1bWVudElkKFwiY3JlYXRlSWZOb3RFeGlzdHNcIiwgZG9jKTtcbiAgcmV0dXJuIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBcImNyZWF0ZUlmTm90RXhpc3RzXCIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2NyZWF0ZU9yUmVwbGFjZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wdGlvbnMpIHtcbiAgcmVxdWlyZURvY3VtZW50SWQoXCJjcmVhdGVPclJlcGxhY2VcIiwgZG9jKTtcbiAgcmV0dXJuIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBcImNyZWF0ZU9yUmVwbGFjZVwiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIF9kZWxldGUoY2xpZW50LCBodHRwUmVxdWVzdCwgc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoXG4gICAgY2xpZW50LFxuICAgIGh0dHBSZXF1ZXN0LFxuICAgIFwibXV0YXRlXCIsXG4gICAgeyBtdXRhdGlvbnM6IFt7IGRlbGV0ZTogZ2V0U2VsZWN0aW9uKHNlbGVjdGlvbikgfV0gfSxcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBfbXV0YXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG11dGF0aW9ucywgb3B0aW9ucykge1xuICBsZXQgbXV0O1xuICBpZiAobXV0YXRpb25zIGluc3RhbmNlb2YgUGF0Y2ggfHwgbXV0YXRpb25zIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVBhdGNoKSB7XG4gICAgbXV0ID0geyBwYXRjaDogbXV0YXRpb25zLnNlcmlhbGl6ZSgpIH07XG4gIH0gZWxzZSBpZiAobXV0YXRpb25zIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24gfHwgbXV0YXRpb25zIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKSB7XG4gICAgbXV0ID0gbXV0YXRpb25zLnNlcmlhbGl6ZSgpO1xuICB9IGVsc2Uge1xuICAgIG11dCA9IG11dGF0aW9ucztcbiAgfVxuICBjb25zdCBtdXRzID0gQXJyYXkuaXNBcnJheShtdXQpID8gbXV0IDogW211dF07XG4gIGNvbnN0IHRyYW5zYWN0aW9uSWQgPSBvcHRpb25zICYmIG9wdGlvbnMudHJhbnNhY3Rpb25JZCB8fCB2b2lkIDA7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwgeyBtdXRhdGlvbnM6IG11dHMsIHRyYW5zYWN0aW9uSWQgfSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBpc011dGF0aW9uID0gZW5kcG9pbnQgPT09IFwibXV0YXRlXCI7XG4gIGNvbnN0IGlzUXVlcnkgPSBlbmRwb2ludCA9PT0gXCJxdWVyeVwiO1xuICBjb25zdCBzdHJRdWVyeSA9IGlzTXV0YXRpb24gPyBcIlwiIDogZW5jb2RlUXVlcnlTdHJpbmcoYm9keSk7XG4gIGNvbnN0IHVzZUdldCA9ICFpc011dGF0aW9uICYmIHN0clF1ZXJ5Lmxlbmd0aCA8IGdldFF1ZXJ5U2l6ZUxpbWl0O1xuICBjb25zdCBzdHJpbmdRdWVyeSA9IHVzZUdldCA/IHN0clF1ZXJ5IDogXCJcIjtcbiAgY29uc3QgcmV0dXJuRmlyc3QgPSBvcHRpb25zLnJldHVybkZpcnN0O1xuICBjb25zdCB7IHRpbWVvdXQsIHRva2VuLCB0YWcsIGhlYWRlcnMgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHVyaSA9IF9nZXREYXRhVXJsKGNsaWVudCwgZW5kcG9pbnQsIHN0cmluZ1F1ZXJ5KTtcbiAgY29uc3QgcmVxT3B0aW9ucyA9IHtcbiAgICBtZXRob2Q6IHVzZUdldCA/IFwiR0VUXCIgOiBcIlBPU1RcIixcbiAgICB1cmksXG4gICAganNvbjogdHJ1ZSxcbiAgICBib2R5OiB1c2VHZXQgPyB2b2lkIDAgOiBib2R5LFxuICAgIHF1ZXJ5OiBpc011dGF0aW9uICYmIGdldE11dGF0aW9uUXVlcnkob3B0aW9ucyksXG4gICAgdGltZW91dCxcbiAgICBoZWFkZXJzLFxuICAgIHRva2VuLFxuICAgIHRhZyxcbiAgICBwZXJzcGVjdGl2ZTogb3B0aW9ucy5wZXJzcGVjdGl2ZSxcbiAgICByZXN1bHRTb3VyY2VNYXA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIGNhblVzZUNkbjogaXNRdWVyeSxcbiAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgIHVzZUFib3J0U2lnbmFsOiBvcHRpb25zLnVzZUFib3J0U2lnbmFsLFxuICAgIHVzZUNkbjogb3B0aW9ucy51c2VDZG5cbiAgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCByZXFPcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcihpc1Jlc3BvbnNlKSxcbiAgICBtYXAoZ2V0Qm9keSksXG4gICAgbWFwKChyZXMpID0+IHtcbiAgICAgIGlmICghaXNNdXRhdGlvbikge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0cyA9IHJlcy5yZXN1bHRzIHx8IFtdO1xuICAgICAgaWYgKG9wdGlvbnMucmV0dXJuRG9jdW1lbnRzKSB7XG4gICAgICAgIHJldHVybiByZXR1cm5GaXJzdCA/IHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5kb2N1bWVudCA6IHJlc3VsdHMubWFwKChtdXQpID0+IG11dC5kb2N1bWVudCk7XG4gICAgICB9XG4gICAgICBjb25zdCBrZXkgPSByZXR1cm5GaXJzdCA/IFwiZG9jdW1lbnRJZFwiIDogXCJkb2N1bWVudElkc1wiO1xuICAgICAgY29uc3QgaWRzID0gcmV0dXJuRmlyc3QgPyByZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uaWQgOiByZXN1bHRzLm1hcCgobXV0KSA9PiBtdXQuaWQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNhY3Rpb25JZDogcmVzLnRyYW5zYWN0aW9uSWQsXG4gICAgICAgIHJlc3VsdHMsXG4gICAgICAgIFtrZXldOiBpZHNcbiAgICAgIH07XG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IG11dGF0aW9uID0geyBbb3BdOiBkb2MgfTtcbiAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyByZXR1cm5GaXJzdDogdHJ1ZSwgcmV0dXJuRG9jdW1lbnRzOiB0cnVlIH0sIG9wdGlvbnMpO1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwibXV0YXRlXCIsIHsgbXV0YXRpb25zOiBbbXV0YXRpb25dIH0sIG9wdHMpO1xufVxuZnVuY3Rpb24gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgdXJpID0gb3B0aW9ucy51cmwgfHwgb3B0aW9ucy51cmk7XG4gIGNvbnN0IGNvbmZpZyA9IGNsaWVudC5jb25maWcoKTtcbiAgY29uc3QgY2FuVXNlQ2RuID0gdHlwZW9mIG9wdGlvbnMuY2FuVXNlQ2RuID09PSBcInVuZGVmaW5lZFwiID8gW1wiR0VUXCIsIFwiSEVBRFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpID49IDAgJiYgdXJpLmluZGV4T2YoXCIvZGF0YS9cIikgPT09IDAgOiBvcHRpb25zLmNhblVzZUNkbjtcbiAgbGV0IHVzZUNkbiA9ICgoX2EgPSBvcHRpb25zLnVzZUNkbikgIT0gbnVsbCA/IF9hIDogY29uZmlnLnVzZUNkbikgJiYgY2FuVXNlQ2RuO1xuICBjb25zdCB0YWcgPSBvcHRpb25zLnRhZyAmJiBjb25maWcucmVxdWVzdFRhZ1ByZWZpeCA/IFtjb25maWcucmVxdWVzdFRhZ1ByZWZpeCwgb3B0aW9ucy50YWddLmpvaW4oXCIuXCIpIDogb3B0aW9ucy50YWcgfHwgY29uZmlnLnJlcXVlc3RUYWdQcmVmaXg7XG4gIGlmICh0YWcgJiYgb3B0aW9ucy50YWcgIT09IG51bGwpIHtcbiAgICBvcHRpb25zLnF1ZXJ5ID0geyB0YWc6IHJlcXVlc3RUYWcodGFnKSwgLi4ub3B0aW9ucy5xdWVyeSB9O1xuICB9XG4gIGlmIChbXCJHRVRcIiwgXCJIRUFEXCIsIFwiUE9TVFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpID49IDAgJiYgdXJpLmluZGV4T2YoXCIvZGF0YS9xdWVyeS9cIikgPT09IDApIHtcbiAgICBjb25zdCByZXN1bHRTb3VyY2VNYXAgPSAoX2IgPSBvcHRpb25zLnJlc3VsdFNvdXJjZU1hcCkgIT0gbnVsbCA/IF9iIDogY29uZmlnLnJlc3VsdFNvdXJjZU1hcDtcbiAgICBpZiAocmVzdWx0U291cmNlTWFwICE9PSB2b2lkIDAgJiYgcmVzdWx0U291cmNlTWFwICE9PSBmYWxzZSkge1xuICAgICAgb3B0aW9ucy5xdWVyeSA9IHsgcmVzdWx0U291cmNlTWFwLCAuLi5vcHRpb25zLnF1ZXJ5IH07XG4gICAgfVxuICAgIGNvbnN0IHBlcnNwZWN0aXZlID0gb3B0aW9ucy5wZXJzcGVjdGl2ZSB8fCBjb25maWcucGVyc3BlY3RpdmU7XG4gICAgaWYgKHR5cGVvZiBwZXJzcGVjdGl2ZSA9PT0gXCJzdHJpbmdcIiAmJiBwZXJzcGVjdGl2ZSAhPT0gXCJyYXdcIikge1xuICAgICAgdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZShwZXJzcGVjdGl2ZSk7XG4gICAgICBvcHRpb25zLnF1ZXJ5ID0geyBwZXJzcGVjdGl2ZSwgLi4ub3B0aW9ucy5xdWVyeSB9O1xuICAgICAgaWYgKHBlcnNwZWN0aXZlID09PSBcInByZXZpZXdEcmFmdHNcIiAmJiB1c2VDZG4pIHtcbiAgICAgICAgdXNlQ2RuID0gZmFsc2U7XG4gICAgICAgIHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcmVxT3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zKFxuICAgIGNvbmZpZyxcbiAgICBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICB1cmw6IF9nZXRVcmwoY2xpZW50LCB1cmksIHVzZUNkbilcbiAgICB9KVxuICApO1xuICBjb25zdCByZXF1ZXN0ID0gbmV3IE9ic2VydmFibGUoXG4gICAgKHN1YnNjcmliZXIpID0+IGh0dHBSZXF1ZXN0KHJlcU9wdGlvbnMsIGNvbmZpZy5yZXF1ZXN0ZXIpLnN1YnNjcmliZShzdWJzY3JpYmVyKVxuICApO1xuICByZXR1cm4gb3B0aW9ucy5zaWduYWwgPyByZXF1ZXN0LnBpcGUoX3dpdGhBYm9ydFNpZ25hbChvcHRpb25zLnNpZ25hbCkpIDogcmVxdWVzdDtcbn1cbmZ1bmN0aW9uIF9yZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIiksXG4gICAgbWFwKChldmVudCkgPT4gZXZlbnQuYm9keSlcbiAgKTtcbiAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBfZ2V0RGF0YVVybChjbGllbnQsIG9wZXJhdGlvbiwgcGF0aCkge1xuICBjb25zdCBjb25maWcgPSBjbGllbnQuY29uZmlnKCk7XG4gIGNvbnN0IGNhdGFsb2cgPSBoYXNEYXRhc2V0KGNvbmZpZyk7XG4gIGNvbnN0IGJhc2VVcmkgPSBcIi9cIi5jb25jYXQob3BlcmF0aW9uLCBcIi9cIikuY29uY2F0KGNhdGFsb2cpO1xuICBjb25zdCB1cmkgPSBwYXRoID8gXCJcIi5jb25jYXQoYmFzZVVyaSwgXCIvXCIpLmNvbmNhdChwYXRoKSA6IGJhc2VVcmk7XG4gIHJldHVybiBcIi9kYXRhXCIuY29uY2F0KHVyaSkucmVwbGFjZSgvXFwvKCR8XFw/KS8sIFwiJDFcIik7XG59XG5mdW5jdGlvbiBfZ2V0VXJsKGNsaWVudCwgdXJpLCBjYW5Vc2VDZG4gPSBmYWxzZSkge1xuICBjb25zdCB7IHVybCwgY2RuVXJsIH0gPSBjbGllbnQuY29uZmlnKCk7XG4gIGNvbnN0IGJhc2UgPSBjYW5Vc2VDZG4gPyBjZG5VcmwgOiB1cmw7XG4gIHJldHVybiBcIlwiLmNvbmNhdChiYXNlLCBcIi9cIikuY29uY2F0KHVyaS5yZXBsYWNlKC9eXFwvLywgXCJcIikpO1xufVxuZnVuY3Rpb24gX3dpdGhBYm9ydFNpZ25hbChzaWduYWwpIHtcbiAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgICAgIGNvbnN0IGFib3J0ID0gKCkgPT4gb2JzZXJ2ZXIuZXJyb3IoX2NyZWF0ZUFib3J0RXJyb3Ioc2lnbmFsKSk7XG4gICAgICBpZiAoc2lnbmFsICYmIHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIGFib3J0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGlucHV0LnN1YnNjcmliZShvYnNlcnZlcik7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGFib3J0KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgYWJvcnQpO1xuICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG59XG5jb25zdCBpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCA9IEJvb2xlYW4oZ2xvYmFsVGhpcy5ET01FeGNlcHRpb24pO1xuZnVuY3Rpb24gX2NyZWF0ZUFib3J0RXJyb3Ioc2lnbmFsKSB7XG4gIHZhciBfYSwgX2I7XG4gIGlmIChpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCkge1xuICAgIHJldHVybiBuZXcgRE9NRXhjZXB0aW9uKChfYSA9IHNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogc2lnbmFsLnJlYXNvbikgIT0gbnVsbCA/IF9hIDogXCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLlwiLCBcIkFib3J0RXJyb3JcIik7XG4gIH1cbiAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoKF9iID0gc2lnbmFsID09IG51bGwgPyB2b2lkIDAgOiBzaWduYWwucmVhc29uKSAhPSBudWxsID8gX2IgOiBcIlRoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWQuXCIpO1xuICBlcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gIHJldHVybiBlcnJvcjtcbn1cblxudmFyIF9fYWNjZXNzQ2hlY2skNCA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQ0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ0KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQ0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNChvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQzLCBfaHR0cFJlcXVlc3QkNCwgX2NsaWVudDIkMywgX2h0dHBSZXF1ZXN0MiQ0O1xuY2xhc3MgT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkNCh0aGlzLCBfY2xpZW50JDMsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDQodGhpcywgX2h0dHBSZXF1ZXN0JDQsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDQodGhpcywgX2NsaWVudCQzLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQ0KHRoaXMsIF9odHRwUmVxdWVzdCQ0LCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgdXBsb2FkKGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiBfdXBsb2FkKF9fcHJpdmF0ZUdldCQ0KHRoaXMsIF9jbGllbnQkMyksIF9fcHJpdmF0ZUdldCQ0KHRoaXMsIF9odHRwUmVxdWVzdCQ0KSwgYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKTtcbiAgfVxufVxuX2NsaWVudCQzID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCQ0ID0gbmV3IFdlYWtNYXAoKTtcbmNsYXNzIEFzc2V0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkNCh0aGlzLCBfY2xpZW50MiQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQ0KHRoaXMsIF9odHRwUmVxdWVzdDIkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNCh0aGlzLCBfY2xpZW50MiQzLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQ0KHRoaXMsIF9odHRwUmVxdWVzdDIkNCwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIHVwbG9hZChhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlID0gX3VwbG9hZChfX3ByaXZhdGVHZXQkNCh0aGlzLCBfY2xpZW50MiQzKSwgX19wcml2YXRlR2V0JDQodGhpcywgX2h0dHBSZXF1ZXN0MiQ0KSwgYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIG9ic2VydmFibGUucGlwZShcbiAgICAgICAgZmlsdGVyKChldmVudCkgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiKSxcbiAgICAgICAgbWFwKFxuICAgICAgICAgIChldmVudCkgPT4gZXZlbnQuYm9keS5kb2N1bWVudFxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuX2NsaWVudDIkMyA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyJDQgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gX3VwbG9hZChjbGllbnQsIGh0dHBSZXF1ZXN0LCBhc3NldFR5cGUsIGJvZHksIG9wdHMgPSB7fSkge1xuICB2YWxpZGF0ZUFzc2V0VHlwZShhc3NldFR5cGUpO1xuICBsZXQgbWV0YSA9IG9wdHMuZXh0cmFjdCB8fCB2b2lkIDA7XG4gIGlmIChtZXRhICYmICFtZXRhLmxlbmd0aCkge1xuICAgIG1ldGEgPSBbXCJub25lXCJdO1xuICB9XG4gIGNvbnN0IGRhdGFzZXQgPSBoYXNEYXRhc2V0KGNsaWVudC5jb25maWcoKSk7XG4gIGNvbnN0IGFzc2V0RW5kcG9pbnQgPSBhc3NldFR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiaW1hZ2VzXCIgOiBcImZpbGVzXCI7XG4gIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUZpbGUob3B0cywgYm9keSk7XG4gIGNvbnN0IHsgdGFnLCBsYWJlbCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjcmVkaXRMaW5lLCBmaWxlbmFtZSwgc291cmNlIH0gPSBvcHRpb25zO1xuICBjb25zdCBxdWVyeSA9IHtcbiAgICBsYWJlbCxcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBmaWxlbmFtZSxcbiAgICBtZXRhLFxuICAgIGNyZWRpdExpbmVcbiAgfTtcbiAgaWYgKHNvdXJjZSkge1xuICAgIHF1ZXJ5LnNvdXJjZUlkID0gc291cmNlLmlkO1xuICAgIHF1ZXJ5LnNvdXJjZU5hbWUgPSBzb3VyY2UubmFtZTtcbiAgICBxdWVyeS5zb3VyY2VVcmwgPSBzb3VyY2UudXJsO1xuICB9XG4gIHJldHVybiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwge1xuICAgIHRhZyxcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCB8fCAwLFxuICAgIHVyaTogXCIvYXNzZXRzL1wiLmNvbmNhdChhc3NldEVuZHBvaW50LCBcIi9cIikuY29uY2F0KGRhdGFzZXQpLFxuICAgIGhlYWRlcnM6IG9wdGlvbnMuY29udGVudFR5cGUgPyB7IFwiQ29udGVudC1UeXBlXCI6IG9wdGlvbnMuY29udGVudFR5cGUgfSA6IHt9LFxuICAgIHF1ZXJ5LFxuICAgIGJvZHlcbiAgfSk7XG59XG5mdW5jdGlvbiBvcHRpb25zRnJvbUZpbGUob3B0cywgZmlsZSkge1xuICBpZiAodHlwZW9mIEZpbGUgPT09IFwidW5kZWZpbmVkXCIgfHwgIShmaWxlIGluc3RhbmNlb2YgRmlsZSkpIHtcbiAgICByZXR1cm4gb3B0cztcbiAgfVxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICBmaWxlbmFtZTogb3B0cy5wcmVzZXJ2ZUZpbGVuYW1lID09PSBmYWxzZSA/IHZvaWQgMCA6IGZpbGUubmFtZSxcbiAgICAgIGNvbnRlbnRUeXBlOiBmaWxlLnR5cGVcbiAgICB9LFxuICAgIG9wdHNcbiAgKTtcbn1cblxudmFyIGRlZmF1bHRzID0gKG9iaiwgZGVmYXVsdHMpID0+IE9iamVjdC5rZXlzKGRlZmF1bHRzKS5jb25jYXQoT2JqZWN0LmtleXMob2JqKSkucmVkdWNlKCh0YXJnZXQsIHByb3ApID0+IHtcbiAgdGFyZ2V0W3Byb3BdID0gdHlwZW9mIG9ialtwcm9wXSA9PT0gXCJ1bmRlZmluZWRcIiA/IGRlZmF1bHRzW3Byb3BdIDogb2JqW3Byb3BdO1xuICByZXR1cm4gdGFyZ2V0O1xufSwge30pO1xuXG5jb25zdCBwaWNrID0gKG9iaiwgcHJvcHMpID0+IHByb3BzLnJlZHVjZSgoc2VsZWN0aW9uLCBwcm9wKSA9PiB7XG4gIGlmICh0eXBlb2Ygb2JqW3Byb3BdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgfVxuICBzZWxlY3Rpb25bcHJvcF0gPSBvYmpbcHJvcF07XG4gIHJldHVybiBzZWxlY3Rpb247XG59LCB7fSk7XG5cbmNvbnN0IE1BWF9VUkxfTEVOR1RIID0gMTZlMyAtIDEyMDA7XG5jb25zdCBwb3NzaWJsZU9wdGlvbnMgPSBbXG4gIFwiaW5jbHVkZVByZXZpb3VzUmV2aXNpb25cIixcbiAgXCJpbmNsdWRlUmVzdWx0XCIsXG4gIFwidmlzaWJpbGl0eVwiLFxuICBcImVmZmVjdEZvcm1hdFwiLFxuICBcInRhZ1wiXG5dO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGluY2x1ZGVSZXN1bHQ6IHRydWVcbn07XG5mdW5jdGlvbiBfbGlzdGVuKHF1ZXJ5LCBwYXJhbXMsIG9wdHMgPSB7fSkge1xuICBjb25zdCB7IHVybCwgdG9rZW4sIHdpdGhDcmVkZW50aWFscywgcmVxdWVzdFRhZ1ByZWZpeCB9ID0gdGhpcy5jb25maWcoKTtcbiAgY29uc3QgdGFnID0gb3B0cy50YWcgJiYgcmVxdWVzdFRhZ1ByZWZpeCA/IFtyZXF1ZXN0VGFnUHJlZml4LCBvcHRzLnRhZ10uam9pbihcIi5cIikgOiBvcHRzLnRhZztcbiAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uZGVmYXVsdHMob3B0cywgZGVmYXVsdE9wdGlvbnMpLCB0YWcgfTtcbiAgY29uc3QgbGlzdGVuT3B0cyA9IHBpY2sob3B0aW9ucywgcG9zc2libGVPcHRpb25zKTtcbiAgY29uc3QgcXMgPSBlbmNvZGVRdWVyeVN0cmluZyh7IHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnM6IHsgdGFnLCAuLi5saXN0ZW5PcHRzIH0gfSk7XG4gIGNvbnN0IHVyaSA9IFwiXCIuY29uY2F0KHVybCkuY29uY2F0KF9nZXREYXRhVXJsKHRoaXMsIFwibGlzdGVuXCIsIHFzKSk7XG4gIGlmICh1cmkubGVuZ3RoID4gTUFYX1VSTF9MRU5HVEgpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiBvYnNlcnZlci5lcnJvcihuZXcgRXJyb3IoXCJRdWVyeSB0b28gbGFyZ2UgZm9yIGxpc3RlbmVyXCIpKSk7XG4gIH1cbiAgY29uc3QgbGlzdGVuRm9yID0gb3B0aW9ucy5ldmVudHMgPyBvcHRpb25zLmV2ZW50cyA6IFtcIm11dGF0aW9uXCJdO1xuICBjb25zdCBzaG91bGRFbWl0UmVjb25uZWN0ID0gbGlzdGVuRm9yLmluZGV4T2YoXCJyZWNvbm5lY3RcIikgIT09IC0xO1xuICBjb25zdCBlc09wdGlvbnMgPSB7fTtcbiAgaWYgKHRva2VuIHx8IHdpdGhDcmVkZW50aWFscykge1xuICAgIGVzT3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICB9XG4gIGlmICh0b2tlbikge1xuICAgIGVzT3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgQXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIuY29uY2F0KHRva2VuKVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgIGxldCBlcztcbiAgICBnZXRFdmVudFNvdXJjZSgpLnRoZW4oKGV2ZW50U291cmNlKSA9PiB7XG4gICAgICBlcyA9IGV2ZW50U291cmNlO1xuICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbik7XG4gICAgICBzdG9wKCk7XG4gICAgfSk7XG4gICAgbGV0IHJlY29ubmVjdFRpbWVyO1xuICAgIGxldCBzdG9wcGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVtaXRSZWNvbm5lY3QoKTtcbiAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlcy5yZWFkeVN0YXRlID09PSBlcy5DTE9TRUQpIHtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlY29ubmVjdFRpbWVyKTtcbiAgICAgICAgcmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KG9wZW4sIDEwMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ2hhbm5lbEVycm9yKGVycikge1xuICAgICAgb2JzZXJ2ZXIuZXJyb3IoY29vZXJjZUVycm9yKGVycikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZ0KSB7XG4gICAgICBjb25zdCBldmVudCA9IHBhcnNlRXZlbnQoZXZ0KTtcbiAgICAgIHJldHVybiBldmVudCBpbnN0YW5jZW9mIEVycm9yID8gb2JzZXJ2ZXIuZXJyb3IoZXZlbnQpIDogb2JzZXJ2ZXIubmV4dChldmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRGlzY29ubmVjdCgpIHtcbiAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFlcylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5uZWxFcnJvclwiLCBvbkNoYW5uZWxFcnJvcik7XG4gICAgICBlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBvbkRpc2Nvbm5lY3QpO1xuICAgICAgbGlzdGVuRm9yLmZvckVhY2goKHR5cGUpID0+IGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgb25NZXNzYWdlKSk7XG4gICAgICBlcy5jbG9zZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbWl0UmVjb25uZWN0KCkge1xuICAgICAgaWYgKHNob3VsZEVtaXRSZWNvbm5lY3QpIHtcbiAgICAgICAgb2JzZXJ2ZXIubmV4dCh7IHR5cGU6IFwicmVjb25uZWN0XCIgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGdldEV2ZW50U291cmNlKCkge1xuICAgICAgY29uc3QgeyBkZWZhdWx0OiBFdmVudFNvdXJjZSB9ID0gYXdhaXQgaW1wb3J0KCdAc2FuaXR5L2V2ZW50c291cmNlJyk7XG4gICAgICBjb25zdCBldnMgPSBuZXcgRXZlbnRTb3VyY2UodXJpLCBlc09wdGlvbnMpO1xuICAgICAgZXZzLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICAgIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbm5lbEVycm9yXCIsIG9uQ2hhbm5lbEVycm9yKTtcbiAgICAgIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBvbkRpc2Nvbm5lY3QpO1xuICAgICAgbGlzdGVuRm9yLmZvckVhY2goKHR5cGUpID0+IGV2cy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSkpO1xuICAgICAgcmV0dXJuIGV2cztcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgIGdldEV2ZW50U291cmNlKCkudGhlbigoZXZlbnRTb3VyY2UpID0+IHtcbiAgICAgICAgZXMgPSBldmVudFNvdXJjZTtcbiAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuZXJyb3IocmVhc29uKTtcbiAgICAgICAgc3RvcCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIHJldHVybiBzdG9wO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlRXZlbnQoZXZlbnQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gZXZlbnQuZGF0YSAmJiBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIHx8IHt9O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgdHlwZTogZXZlbnQudHlwZSB9LCBkYXRhKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGVycjtcbiAgfVxufVxuZnVuY3Rpb24gY29vZXJjZUVycm9yKGVycikge1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gZXJyO1xuICB9XG4gIGNvbnN0IGV2dCA9IHBhcnNlRXZlbnQoZXJyKTtcbiAgcmV0dXJuIGV2dCBpbnN0YW5jZW9mIEVycm9yID8gZXZ0IDogbmV3IEVycm9yKGV4dHJhY3RFcnJvck1lc3NhZ2UoZXZ0KSk7XG59XG5mdW5jdGlvbiBleHRyYWN0RXJyb3JNZXNzYWdlKGVycikge1xuICBpZiAoIWVyci5lcnJvcikge1xuICAgIHJldHVybiBlcnIubWVzc2FnZSB8fCBcIlVua25vd24gbGlzdGVuZXIgZXJyb3JcIjtcbiAgfVxuICBpZiAoZXJyLmVycm9yLmRlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIGVyci5lcnJvci5kZXNjcmlwdGlvbjtcbiAgfVxuICByZXR1cm4gdHlwZW9mIGVyci5lcnJvciA9PT0gXCJzdHJpbmdcIiA/IGVyci5lcnJvciA6IEpTT04uc3RyaW5naWZ5KGVyci5lcnJvciwgbnVsbCwgMik7XG59XG5cbnZhciBfX2FjY2Vzc0NoZWNrJDMgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkMyA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMyhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQzID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQkMyA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDMob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnQkMiwgX2h0dHBSZXF1ZXN0JDMsIF9jbGllbnQyJDIsIF9odHRwUmVxdWVzdDIkMztcbmNsYXNzIE9ic2VydmFibGVEYXRhc2V0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMyh0aGlzLCBfY2xpZW50JDIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDModGhpcywgX2h0dHBSZXF1ZXN0JDMsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDModGhpcywgX2NsaWVudCQyLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBjcmVhdGUobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwgXCJQVVRcIiwgbmFtZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXQgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGVkaXRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBOZXcgb3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGVkaXQobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwgXCJQQVRDSFwiLCBuYW1lLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShuYW1lKSB7XG4gICAgcmV0dXJuIF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudCQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMpLCBcIkRFTEVURVwiLCBuYW1lKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBsaXN0IG9mIGRhdGFzZXRzIGZvciB0aGUgY29uZmlndXJlZCBwcm9qZWN0XG4gICAqL1xuICBsaXN0KCkge1xuICAgIHJldHVybiBfcmVxdWVzdChfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50JDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMyksIHtcbiAgICAgIHVyaTogXCIvZGF0YXNldHNcIixcbiAgICAgIHRhZzogbnVsbFxuICAgIH0pO1xuICB9XG59XG5fY2xpZW50JDIgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0JDMgPSBuZXcgV2Vha01hcCgpO1xuY2xhc3MgRGF0YXNldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDModGhpcywgX2NsaWVudDIkMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDModGhpcywgX2NsaWVudDIkMiwgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGNyZWF0ZShuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQyJDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMpLCBcIlBVVFwiLCBuYW1lLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXQgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGVkaXRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBOZXcgb3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGVkaXQobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50MiQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0MiQzKSwgXCJQQVRDSFwiLCBuYW1lLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUobmFtZSkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiREVMRVRFXCIsIG5hbWUpKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBsaXN0IG9mIGRhdGFzZXRzIGZvciB0aGUgY29uZmlndXJlZCBwcm9qZWN0XG4gICAqL1xuICBsaXN0KCkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX3JlcXVlc3QoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIHsgdXJpOiBcIi9kYXRhc2V0c1wiLCB0YWc6IG51bGwgfSlcbiAgICApO1xuICB9XG59XG5fY2xpZW50MiQyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdDIkMyA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBfbW9kaWZ5KGNsaWVudCwgaHR0cFJlcXVlc3QsIG1ldGhvZCwgbmFtZSwgb3B0aW9ucykge1xuICBkYXRhc2V0KG5hbWUpO1xuICByZXR1cm4gX3JlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwge1xuICAgIG1ldGhvZCxcbiAgICB1cmk6IFwiL2RhdGFzZXRzL1wiLmNvbmNhdChuYW1lKSxcbiAgICBib2R5OiBvcHRpb25zLFxuICAgIHRhZzogbnVsbFxuICB9KTtcbn1cblxudmFyIF9fYWNjZXNzQ2hlY2skMiA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQyID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQyKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDIgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQyID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMihvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQxLCBfaHR0cFJlcXVlc3QkMiwgX2NsaWVudDIkMSwgX2h0dHBSZXF1ZXN0MiQyO1xuY2xhc3MgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9jbGllbnQkMSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMih0aGlzLCBfaHR0cFJlcXVlc3QkMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMih0aGlzLCBfY2xpZW50JDEsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0JDIsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICBsaXN0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmkgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbmNsdWRlTWVtYmVycykgPT09IGZhbHNlID8gXCIvcHJvamVjdHM/aW5jbHVkZU1lbWJlcnM9ZmFsc2VcIiA6IFwiL3Byb2plY3RzXCI7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQkMSksIF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9odHRwUmVxdWVzdCQyKSwgeyB1cmkgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDIodGhpcywgX2NsaWVudCQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0JDIpLCB7IHVyaTogXCIvcHJvamVjdHMvXCIuY29uY2F0KHByb2plY3RJZCkgfSk7XG4gIH1cbn1cbl9jbGllbnQkMSA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QkMiA9IG5ldyBXZWFrTWFwKCk7XG5jbGFzcyBQcm9qZWN0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMih0aGlzLCBfY2xpZW50MiQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMih0aGlzLCBfY2xpZW50MiQxLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIGxpc3Qob3B0aW9ucykge1xuICAgIGNvbnN0IHVyaSA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluY2x1ZGVNZW1iZXJzKSA9PT0gZmFsc2UgPyBcIi9wcm9qZWN0cz9pbmNsdWRlTWVtYmVycz1mYWxzZVwiIDogXCIvcHJvamVjdHNcIjtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50MiQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyKSwgeyB1cmkgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHByb2plY3QgYnkgcHJvamVjdCBJRFxuICAgKlxuICAgKiBAcGFyYW0gcHJvamVjdElkIC0gSUQgb2YgdGhlIHByb2plY3QgdG8gZmV0Y2hcbiAgICovXG4gIGdldEJ5SWQocHJvamVjdElkKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50MiQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyKSwgeyB1cmk6IFwiL3Byb2plY3RzL1wiLmNvbmNhdChwcm9qZWN0SWQpIH0pXG4gICAgKTtcbiAgfVxufVxuX2NsaWVudDIkMSA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyJDIgPSBuZXcgV2Vha01hcCgpO1xuXG52YXIgX19hY2Nlc3NDaGVjayQxID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDEgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDEob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkMSA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDEgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQxKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50LCBfaHR0cFJlcXVlc3QkMSwgX2NsaWVudDIsIF9odHRwUmVxdWVzdDIkMTtcbmNsYXNzIE9ic2VydmFibGVVc2Vyc0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMSh0aGlzLCBfY2xpZW50LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9jbGllbnQsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0JDEsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSB1c2VyIGJ5IHVzZXIgSURcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVXNlciBJRCBvZiB0aGUgdXNlciB0byBmZXRjaC4gSWYgYG1lYCBpcyBwcm92aWRlZCwgYSBtaW5pbWFsIHJlc3BvbnNlIGluY2x1ZGluZyB0aGUgdXNlcnMgcm9sZSBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoXG4gICAgICBfX3ByaXZhdGVHZXQkMSh0aGlzLCBfY2xpZW50KSxcbiAgICAgIF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxKSxcbiAgICAgIHsgdXJpOiBcIi91c2Vycy9cIi5jb25jYXQoaWQpIH1cbiAgICApO1xuICB9XG59XG5fY2xpZW50ID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCQxID0gbmV3IFdlYWtNYXAoKTtcbmNsYXNzIFVzZXJzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9jbGllbnQyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9odHRwUmVxdWVzdDIkMSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfY2xpZW50MiwgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfaHR0cFJlcXVlc3QyJDEsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSB1c2VyIGJ5IHVzZXIgSURcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVXNlciBJRCBvZiB0aGUgdXNlciB0byBmZXRjaC4gSWYgYG1lYCBpcyBwcm92aWRlZCwgYSBtaW5pbWFsIHJlc3BvbnNlIGluY2x1ZGluZyB0aGUgdXNlcnMgcm9sZSBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9jbGllbnQyKSwgX19wcml2YXRlR2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0MiQxKSwge1xuICAgICAgICB1cmk6IFwiL3VzZXJzL1wiLmNvbmNhdChpZClcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufVxuX2NsaWVudDIgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0MiQxID0gbmV3IFdlYWtNYXAoKTtcblxudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudENvbmZpZywgX2h0dHBSZXF1ZXN0LCBfY2xpZW50Q29uZmlnMiwgX2h0dHBSZXF1ZXN0MjtcbmNvbnN0IF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gY2xhc3MgX09ic2VydmFibGVTYW5pdHlDbGllbnQge1xuICBjb25zdHJ1Y3RvcihodHRwUmVxdWVzdCwgY29uZmlnID0gZGVmYXVsdENvbmZpZykge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgICAqL1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY2xpZW50Q29uZmlnLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QsIHZvaWQgMCk7XG4gICAgLyoqXG4gICAgICogSW5zdGFuY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIHRoaXMubGlzdGVuID0gX2xpc3RlbjtcbiAgICB0aGlzLmNvbmZpZyhjb25maWcpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfaHR0cFJlcXVlc3QsIGh0dHBSZXF1ZXN0KTtcbiAgICB0aGlzLmFzc2V0cyA9IG5ldyBPYnNlcnZhYmxlQXNzZXRzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKTtcbiAgICB0aGlzLmRhdGFzZXRzID0gbmV3IE9ic2VydmFibGVEYXRhc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSk7XG4gICAgdGhpcy5wcm9qZWN0cyA9IG5ldyBPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCkpO1xuICAgIHRoaXMudXNlcnMgPSBuZXcgT2JzZXJ2YWJsZVVzZXJzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCAtIHJldHVybnMgYSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVTYW5pdHlDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB7IC4uLl9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKSB9O1xuICAgIH1cbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpICYmIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKS5hbGxvd1JlY29uZmlndXJlID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkV4aXN0aW5nIGNsaWVudCBpbnN0YW5jZSBjYW5ub3QgYmUgcmVjb25maWd1cmVkIC0gdXNlIGB3aXRoQ29uZmlnKG5ld0NvbmZpZylgIHRvIHJldHVybiBhIG5ldyBjbGllbnRcIlxuICAgICAgKTtcbiAgICB9XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9jbGllbnRDb25maWcsIGluaXRDb25maWcobmV3Q29uZmlnLCBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZykgfHwge30pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIGNvbnN0IHRoaXNDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVTYW5pdHlDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHtcbiAgICAgIC4uLnRoaXNDb25maWcsXG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICBzdGVnYToge1xuICAgICAgICAuLi50aGlzQ29uZmlnLnN0ZWdhIHx8IHt9LFxuICAgICAgICAuLi50eXBlb2YgKG5ld0NvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogbmV3Q29uZmlnLnN0ZWdhKSA9PT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IG5ld0NvbmZpZy5zdGVnYSB9IDogKG5ld0NvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogbmV3Q29uZmlnLnN0ZWdhKSB8fCB7fVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2ZldGNoKFxuICAgICAgdGhpcyxcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLFxuICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpLnN0ZWdhLFxuICAgICAgcXVlcnksXG4gICAgICBwYXJhbXMsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBzaW5nbGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIERvY3VtZW50IElEIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfZ2V0RG9jdW1lbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGlkLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgZG9jdW1lbnRzIGluIG9uZSByZXF1ZXN0LlxuICAgKiBTaG91bGQgYmUgdXNlZCBzcGFyaW5nbHkgLSBwZXJmb3JtaW5nIGEgcXVlcnkgaXMgdXN1YWxseSBhIGJldHRlciBvcHRpb24uXG4gICAqIFRoZSBvcmRlci9wb3NpdGlvbiBvZiBkb2N1bWVudHMgaXMgcHJlc2VydmVkIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBhcnJheSBvZiBJRHMuXG4gICAqIElmIGFueSBvZiB0aGUgZG9jdW1lbnRzIGFyZSBtaXNzaW5nLCB0aGV5IHdpbGwgYmUgcmVwbGFjZWQgYnkgYSBgbnVsbGAgZW50cnkgaW4gdGhlIHJldHVybmVkIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSBpZHMgLSBEb2N1bWVudCBJRHMgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50cyhpZHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2dldERvY3VtZW50cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgaWRzLCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGUoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgZG9jdW1lbnQsIFwiY3JlYXRlXCIsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZUlmTm90RXhpc3RzKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgZG9jdW1lbnQsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZU9yUmVwbGFjZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlT3JSZXBsYWNlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBkb2N1bWVudCwgb3B0aW9ucyk7XG4gIH1cbiAgZGVsZXRlKHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBfZGVsZXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBzZWxlY3Rpb24sIG9wdGlvbnMpO1xuICB9XG4gIG11dGF0ZShvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tdXRhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIG9wZXJhdGlvbnMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRhYmxlIHBhdGNoIG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gRG9jdW1lbnQgSUQsIGFuIGFycmF5IG9mIGRvY3VtZW50IElEcywgb3IgYW4gb2JqZWN0IHdpdGggYHF1ZXJ5YCBhbmQgb3B0aW9uYWwgYHBhcmFtc2AsIGRlZmluaW5nIHdoaWNoIGRvY3VtZW50KHMpIHRvIHBhdGNoXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgb2JqZWN0IG9mIHBhdGNoIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgcGF0Y2ggaW5zdGFuY2Ugd2l0aFxuICAgKiBAcmV0dXJucyBQYXRjaCBpbnN0YW5jZSAtIGNhbGwgYC5jb21taXQoKWAgdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9ucyBkZWZpbmVkXG4gICAqL1xuICBwYXRjaChzZWxlY3Rpb24sIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQYXRjaChzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4gSFRUUCByZXF1ZXN0IGFnYWluc3QgdGhlIFNhbml0eSBBUElcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIHJlcXVlc3Qob3B0aW9ucykge1xuICAgIHJldHVybiBfcmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgVVJJIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBVUkkvcGF0aCB0byBidWlsZCBVUkwgZm9yXG4gICAqIEBwYXJhbSBjYW5Vc2VDZG4gLSBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyB1c2luZyB0aGUgQVBJIENETiBmb3IgdGhpcyByb3V0ZVxuICAgKi9cbiAgZ2V0VXJsKHVyaSwgY2FuVXNlQ2RuKSB7XG4gICAgcmV0dXJuIF9nZXRVcmwodGhpcywgdXJpLCBjYW5Vc2VDZG4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIGRhdGEgb3BlcmF0aW9uIGFuZCBwYXRoIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBEYXRhIG9wZXJhdGlvbiAoZWcgYHF1ZXJ5YCwgYG11dGF0ZWAsIGBsaXN0ZW5gIG9yIHNpbWlsYXIpXG4gICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBhcHBlbmQgYWZ0ZXIgdGhlIG9wZXJhdGlvblxuICAgKi9cbiAgZ2V0RGF0YVVybChvcGVyYXRpb24sIHBhdGgpIHtcbiAgICByZXR1cm4gX2dldERhdGFVcmwodGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgfVxufTtcbl9jbGllbnRDb25maWcgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gX09ic2VydmFibGVTYW5pdHlDbGllbnQ7XG5jb25zdCBfU2FuaXR5Q2xpZW50ID0gY2xhc3MgX1Nhbml0eUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0LCBjb25maWcgPSBkZWZhdWx0Q29uZmlnKSB7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jbGllbnRDb25maWcyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QyLCB2b2lkIDApO1xuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlbiA9IF9saXN0ZW47XG4gICAgdGhpcy5jb25maWcoY29uZmlnKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2h0dHBSZXF1ZXN0MiwgaHR0cFJlcXVlc3QpO1xuICAgIHRoaXMuYXNzZXRzID0gbmV3IEFzc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpO1xuICAgIHRoaXMuZGF0YXNldHMgPSBuZXcgRGF0YXNldHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpKTtcbiAgICB0aGlzLnByb2plY3RzID0gbmV3IFByb2plY3RzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSk7XG4gICAgdGhpcy51c2VycyA9IG5ldyBVc2Vyc0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpO1xuICAgIHRoaXMub2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50KGh0dHBSZXF1ZXN0LCBjb25maWcpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfU2FuaXR5Q2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgdGhpcy5jb25maWcoKSk7XG4gIH1cbiAgY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHsgLi4uX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKSB9O1xuICAgIH1cbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKSAmJiBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpLmFsbG93UmVjb25maWd1cmUgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhpc3RpbmcgY2xpZW50IGluc3RhbmNlIGNhbm5vdCBiZSByZWNvbmZpZ3VyZWQgLSB1c2UgYHdpdGhDb25maWcobmV3Q29uZmlnKWAgdG8gcmV0dXJuIGEgbmV3IGNsaWVudFwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5vYnNlcnZhYmxlKSB7XG4gICAgICB0aGlzLm9ic2VydmFibGUuY29uZmlnKG5ld0NvbmZpZyk7XG4gICAgfVxuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfY2xpZW50Q29uZmlnMiwgaW5pdENvbmZpZyhuZXdDb25maWcsIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnMikgfHwge30pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIGNvbnN0IHRoaXNDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIHJldHVybiBuZXcgX1Nhbml0eUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIHtcbiAgICAgIC4uLnRoaXNDb25maWcsXG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICBzdGVnYToge1xuICAgICAgICAuLi50aGlzQ29uZmlnLnN0ZWdhIHx8IHt9LFxuICAgICAgICAuLi50eXBlb2YgKG5ld0NvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogbmV3Q29uZmlnLnN0ZWdhKSA9PT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IG5ld0NvbmZpZy5zdGVnYSB9IDogKG5ld0NvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogbmV3Q29uZmlnLnN0ZWdhKSB8fCB7fVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9mZXRjaChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLFxuICAgICAgICBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpLnN0ZWdhLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBvcHRpb25zXG4gICAgICApXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBzaW5nbGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIERvY3VtZW50IElEIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9nZXREb2N1bWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGlkLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIG11bHRpcGxlIGRvY3VtZW50cyBpbiBvbmUgcmVxdWVzdC5cbiAgICogU2hvdWxkIGJlIHVzZWQgc3BhcmluZ2x5IC0gcGVyZm9ybWluZyBhIHF1ZXJ5IGlzIHVzdWFsbHkgYSBiZXR0ZXIgb3B0aW9uLlxuICAgKiBUaGUgb3JkZXIvcG9zaXRpb24gb2YgZG9jdW1lbnRzIGlzIHByZXNlcnZlZCBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYXJyYXkgb2YgSURzLlxuICAgKiBJZiBhbnkgb2YgdGhlIGRvY3VtZW50cyBhcmUgbWlzc2luZywgdGhleSB3aWxsIGJlIHJlcGxhY2VkIGJ5IGEgYG51bGxgIGVudHJ5IGluIHRoZSByZXR1cm5lZCBhcnJheVxuICAgKlxuICAgKiBAcGFyYW0gaWRzIC0gRG9jdW1lbnQgSURzIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudHMoaWRzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2dldERvY3VtZW50cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGlkcywgb3B0aW9ucykpO1xuICB9XG4gIGNyZWF0ZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX2NyZWF0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGRvY3VtZW50LCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgY3JlYXRlT3JSZXBsYWNlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfY3JlYXRlT3JSZXBsYWNlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgZG9jdW1lbnQsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICBkZWxldGUoc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2RlbGV0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIHNlbGVjdGlvbiwgb3B0aW9ucykpO1xuICB9XG4gIG11dGF0ZShvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX211dGF0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIG9wZXJhdGlvbnMsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGJ1aWxkYWJsZSBwYXRjaCBvZiBvcGVyYXRpb25zIHRvIHBlcmZvcm1cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdGlvbiAtIERvY3VtZW50IElELCBhbiBhcnJheSBvZiBkb2N1bWVudCBJRHMsIG9yIGFuIG9iamVjdCB3aXRoIGBxdWVyeWAgYW5kIG9wdGlvbmFsIGBwYXJhbXNgLCBkZWZpbmluZyB3aGljaCBkb2N1bWVudChzKSB0byBwYXRjaFxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIG9iamVjdCBvZiBwYXRjaCBvcGVyYXRpb25zIHRvIGluaXRpYWxpemUgdGhlIHBhdGNoIGluc3RhbmNlIHdpdGhcbiAgICogQHJldHVybnMgUGF0Y2ggaW5zdGFuY2UgLSBjYWxsIGAuY29tbWl0KClgIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbnMgZGVmaW5lZFxuICAgKi9cbiAgcGF0Y2goZG9jdW1lbnRJZCwgb3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgUGF0Y2goZG9jdW1lbnRJZCwgb3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB0cmFuc2FjdGlvbiBvZiBtdXRhdGlvbnNcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbnMgLSBPcHRpb25hbCBhcnJheSBvZiBtdXRhdGlvbiBvcGVyYXRpb25zIHRvIGluaXRpYWxpemUgdGhlIHRyYW5zYWN0aW9uIGluc3RhbmNlIHdpdGhcbiAgICovXG4gIHRyYW5zYWN0aW9uKG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGEgcmVxdWVzdCBhZ2FpbnN0IHRoZSBTYW5pdHkgQVBJXG4gICAqIE5PVEU6IE9ubHkgdXNlIHRoaXMgZm9yIFNhbml0eSBBUEkgZW5kcG9pbnRzLCBub3QgZm9yIHlvdXIgb3duIEFQSXMhXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSByZXNwb25zZSBib2R5XG4gICAqL1xuICByZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYSBgL2RhdGFgIHN1Yi1lbmRwb2ludFxuICAgKiBOT1RFOiBDb25zaWRlcmVkIGludGVybmFsLCB0aHVzIG1hcmtlZCBhcyBkZXByZWNhdGVkLiBVc2UgYHJlcXVlc3RgIGluc3RlYWQuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIC0gVXNlIGByZXF1ZXN0KClgIG9yIHlvdXIgb3duIEhUVFAgbGlicmFyeSBpbnN0ZWFkXG4gICAqIEBwYXJhbSBlbmRwb2ludCAtIEVuZHBvaW50IHRvIGhpdCAobXV0YXRlLCBxdWVyeSBldGMpXG4gICAqIEBwYXJhbSBib2R5IC0gUmVxdWVzdCBib2R5XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGF0YVJlcXVlc3QoZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZGF0YVJlcXVlc3QodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBlbmRwb2ludCwgYm9keSwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIFVSSSBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0gdXJpIC0gVVJJL3BhdGggdG8gYnVpbGQgVVJMIGZvclxuICAgKiBAcGFyYW0gY2FuVXNlQ2RuIC0gV2hldGhlciBvciBub3QgdG8gYWxsb3cgdXNpbmcgdGhlIEFQSSBDRE4gZm9yIHRoaXMgcm91dGVcbiAgICovXG4gIGdldFVybCh1cmksIGNhblVzZUNkbikge1xuICAgIHJldHVybiBfZ2V0VXJsKHRoaXMsIHVyaSwgY2FuVXNlQ2RuKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBkYXRhIG9wZXJhdGlvbiBhbmQgcGF0aCBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9uIC0gRGF0YSBvcGVyYXRpb24gKGVnIGBxdWVyeWAsIGBtdXRhdGVgLCBgbGlzdGVuYCBvciBzaW1pbGFyKVxuICAgKiBAcGFyYW0gcGF0aCAtIFBhdGggdG8gYXBwZW5kIGFmdGVyIHRoZSBvcGVyYXRpb25cbiAgICovXG4gIGdldERhdGFVcmwob3BlcmF0aW9uLCBwYXRoKSB7XG4gICAgcmV0dXJuIF9nZXREYXRhVXJsKHRoaXMsIG9wZXJhdGlvbiwgcGF0aCk7XG4gIH1cbn07XG5fY2xpZW50Q29uZmlnMiA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyID0gbmV3IFdlYWtNYXAoKTtcbmxldCBTYW5pdHlDbGllbnQgPSBfU2FuaXR5Q2xpZW50O1xuXG5mdW5jdGlvbiBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzKGVudk1pZGRsZXdhcmUsIENsYXNzQ29uc3RydWN0b3IpIHtcbiAgY29uc3QgaHR0cFJlcXVlc3QgPSBkZWZpbmVIdHRwUmVxdWVzdChlbnZNaWRkbGV3YXJlLCB7fSk7XG4gIGNvbnN0IHJlcXVlc3RlciA9IGh0dHBSZXF1ZXN0LmRlZmF1bHRSZXF1ZXN0ZXI7XG4gIGNvbnN0IGNyZWF0ZUNsaWVudCA9IChjb25maWcpID0+IG5ldyBDbGFzc0NvbnN0cnVjdG9yKFxuICAgIGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUsIHtcbiAgICAgIG1heFJldHJpZXM6IGNvbmZpZy5tYXhSZXRyaWVzLFxuICAgICAgcmV0cnlEZWxheTogY29uZmlnLnJldHJ5RGVsYXlcbiAgICB9KSxcbiAgICBjb25maWdcbiAgKTtcbiAgcmV0dXJuIHsgcmVxdWVzdGVyLCBjcmVhdGVDbGllbnQgfTtcbn1cblxudmFyIGVudk1pZGRsZXdhcmUgPSBbXTtcblxuZXhwb3J0IHsgQmFzZVBhdGNoLCBCYXNlVHJhbnNhY3Rpb24sIENsaWVudEVycm9yLCBPYnNlcnZhYmxlUGF0Y2gsIE9ic2VydmFibGVTYW5pdHlDbGllbnQsIE9ic2VydmFibGVUcmFuc2FjdGlvbiwgUGF0Y2gsIFNhbml0eUNsaWVudCwgU2VydmVyRXJyb3IsIFRyYW5zYWN0aW9uLCBiLCBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzLCBlbnZNaWRkbGV3YXJlLCBwcmludE5vRGVmYXVsdEV4cG9ydCwgdmVyY2VsU3RlZ2FDbGVhbkFsbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlck1pZGRsZXdhcmUtekRWZWlycmkuanMubWFwXG4iXSwibmFtZXMiOlsiZ2V0SXQiLCJyZXRyeSIsImpzb25SZXF1ZXN0IiwianNvblJlc3BvbnNlIiwicHJvZ3Jlc3MiLCJvYnNlcnZhYmxlIiwiT2JzZXJ2YWJsZSIsImZyb20iLCJsYXN0VmFsdWVGcm9tIiwiY29tYmluZUxhdGVzdFdpdGgiLCJtYXAiLCJmaWx0ZXIiLCJNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSIsIkNsaWVudEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsInJlcyIsInByb3BzIiwiZXh0cmFjdEVycm9yUHJvcHMiLCJtZXNzYWdlIiwic3RhdHVzQ29kZSIsIk9iamVjdCIsImFzc2lnbiIsIlNlcnZlckVycm9yIiwiYm9keSIsInJlc3BvbnNlIiwicmVzcG9uc2VCb2R5Iiwic3RyaW5naWZ5Qm9keSIsImRldGFpbHMiLCJlcnJvciIsImNvbmNhdCIsImlzTXV0YXRpb25FcnJvciIsImFsbEl0ZW1zIiwiaXRlbXMiLCJzbGljZSIsIml0ZW0iLCJfYSIsImRlc2NyaXB0aW9uIiwiQm9vbGVhbiIsIml0ZW1zU3RyIiwibGVuZ3RoIiwiam9pbiIsImh0dHBFcnJvck1lc3NhZ2UiLCJpc1BsYWluT2JqZWN0IiwidHlwZSIsIm9iaiIsIkFycmF5IiwiaXNBcnJheSIsInN0YXR1c01lc3NhZ2UiLCJtZXRob2QiLCJ1cmwiLCJjb250ZW50VHlwZSIsImhlYWRlcnMiLCJ0b0xvd2VyQ2FzZSIsImlzSnNvbiIsImluZGV4T2YiLCJKU09OIiwic3RyaW5naWZ5IiwiaHR0cEVycm9yIiwib25SZXNwb25zZSIsInByaW50V2FybmluZ3MiLCJ3YXJuIiwid2FybmluZ3MiLCJmb3JFYWNoIiwibXNnIiwiY29uc29sZSIsImRlZmluZUh0dHBSZXF1ZXN0IiwiZW52TWlkZGxld2FyZSIsIm1heFJldHJpZXMiLCJyZXRyeURlbGF5IiwicmVxdWVzdCIsInNob3VsZFJldHJ5IiwiaW1wbGVtZW50YXRpb24iLCJodHRwUmVxdWVzdCIsIm9wdGlvbnMiLCJyZXF1ZXN0ZXIiLCJtYXhSZWRpcmVjdHMiLCJkZWZhdWx0UmVxdWVzdGVyIiwiZXJyIiwiYXR0ZW1wdCIsImlzU2FmZSIsInVyaSIsImlzUXVlcnkiLCJzdGFydHNXaXRoIiwiaXNSZXRyaWFibGVSZXNwb25zZSIsImdldFNlbGVjdGlvbiIsInNlbCIsImlkIiwicXVlcnkiLCJwYXJhbXMiLCJzZWxlY3Rpb25PcHRzIiwiVkFMSURfQVNTRVRfVFlQRVMiLCJWQUxJRF9JTlNFUlRfTE9DQVRJT05TIiwiZGF0YXNldCIsIm5hbWUiLCJ0ZXN0IiwicHJvamVjdElkIiwidmFsaWRhdGVBc3NldFR5cGUiLCJ2YWxpZGF0ZU9iamVjdCIsIm9wIiwidmFsIiwidmFsaWRhdGVEb2N1bWVudElkIiwiaW5jbHVkZXMiLCJyZXF1aXJlRG9jdW1lbnRJZCIsImRvYyIsIl9pZCIsInZhbGlkYXRlSW5zZXJ0IiwiYXQiLCJzZWxlY3RvciIsInNpZ25hdHVyZSIsInZhbGlkIiwibG9jIiwiaGFzRGF0YXNldCIsImNvbmZpZyIsInJlcXVlc3RUYWciLCJ0YWciLCJfX2FjY2Vzc0NoZWNrJDYiLCJtZW1iZXIiLCJoYXMiLCJUeXBlRXJyb3IiLCJfX3ByaXZhdGVHZXQkNiIsImdldHRlciIsImNhbGwiLCJnZXQiLCJfX3ByaXZhdGVBZGQkNiIsInZhbHVlIiwiV2Vha1NldCIsImFkZCIsInNldCIsIl9fcHJpdmF0ZVNldCQ2Iiwic2V0dGVyIiwiX2NsaWVudCQ1IiwiX2NsaWVudDIkNSIsIkJhc2VQYXRjaCIsInNlbGVjdGlvbiIsIm9wZXJhdGlvbnMiLCJhdHRycyIsIl9hc3NpZ24iLCJzZXRJZk1pc3NpbmciLCJkaWZmTWF0Y2hQYXRjaCIsInVuc2V0IiwiaW5jIiwiZGVjIiwiaW5zZXJ0IiwiYXBwZW5kIiwicHJlcGVuZCIsInNwbGljZSIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJkZWxBbGwiLCJzdGFydEluZGV4IiwiZGVsQ291bnQiLCJNYXRoIiwibWF4IiwiZGVsUmFuZ2UiLCJyYW5nZVNlbGVjdG9yIiwiaWZSZXZpc2lvbklkIiwicmV2IiwiaWZSZXZpc2lvbklEIiwic2VyaWFsaXplIiwidG9KU09OIiwicmVzZXQiLCJtZXJnZSIsIl9zZXQiLCJfT2JzZXJ2YWJsZVBhdGNoIiwiY2xpZW50IiwiY2xvbmUiLCJjb21taXQiLCJyZXR1cm5GaXJzdCIsIm9wdHMiLCJyZXR1cm5Eb2N1bWVudHMiLCJtdXRhdGUiLCJwYXRjaCIsIldlYWtNYXAiLCJPYnNlcnZhYmxlUGF0Y2giLCJfUGF0Y2giLCJQYXRjaCIsIl9fYWNjZXNzQ2hlY2skNSIsIl9fcHJpdmF0ZUdldCQ1IiwiX19wcml2YXRlQWRkJDUiLCJfX3ByaXZhdGVTZXQkNSIsIl9jbGllbnQkNCIsIl9jbGllbnQyJDQiLCJkZWZhdWx0TXV0YXRlT3B0aW9ucyIsIkJhc2VUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uSWQiLCJ0cnhJZCIsImNyZWF0ZSIsIl9hZGQiLCJjcmVhdGVJZk5vdEV4aXN0cyIsImNyZWF0ZU9yUmVwbGFjZSIsImRlbGV0ZSIsImRvY3VtZW50SWQiLCJtdXQiLCJwdXNoIiwiX1RyYW5zYWN0aW9uIiwicGF0Y2hPckRvY3VtZW50SWQiLCJwYXRjaE9wcyIsImlzQnVpbGRlciIsImlzUGF0Y2giLCJUcmFuc2FjdGlvbiIsIl9PYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJPYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJCQVNFX1VSTCIsImdlbmVyYXRlSGVscFVybCIsInNsdWciLCJvbmNlIiwiZm4iLCJkaWRDYWxsIiwicmV0dXJuVmFsdWUiLCJhcmdzIiwiY3JlYXRlV2FybmluZ1ByaW50ZXIiLCJwcmludENkbldhcm5pbmciLCJwcmludENkblByZXZpZXdEcmFmdHNXYXJuaW5nIiwicHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nIiwicHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nIiwicHJpbnROb0RlZmF1bHRFeHBvcnQiLCJkZWZhdWx0Q2RuSG9zdCIsImRlZmF1bHRDb25maWciLCJhcGlIb3N0IiwiYXBpVmVyc2lvbiIsInVzZVByb2plY3RIb3N0bmFtZSIsInN0ZWdhIiwiZW5hYmxlZCIsIkxPQ0FMSE9TVFMiLCJpc0xvY2FsIiwiaG9zdCIsInZhbGlkYXRlQXBpVmVyc2lvbiIsInZhbGlkYXRlQXBpVmVyc2lvbjIiLCJhcGlEYXRlIiwiRGF0ZSIsImFwaVZlcnNpb25WYWxpZCIsImdldFRpbWUiLCJ2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlIiwidmFsaWRhdGVBcGlQZXJzcGVjdGl2ZTIiLCJwZXJzcGVjdGl2ZSIsImluaXRDb25maWciLCJwcmV2Q29uZmlnIiwic3BlY2lmaWVkQ29uZmlnIiwibmV3Q29uZmlnIiwicHJvamVjdEJhc2VkIiwiUHJvbWlzZSIsImhlbHBVcmwiLCJzdHVkaW9VcmwiLCJpc0Jyb3dzZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiaXNMb2NhbGhvc3QiLCJ0b2tlbiIsImlnbm9yZUJyb3dzZXJUb2tlbldhcm5pbmciLCJ1c2VDZG4iLCJyZXF1ZXN0VGFnUHJlZml4IiwicmVwbGFjZSIsImlzRGVmYXVsdEFwaSIsIndpdGhDcmVkZW50aWFscyIsImhvc3RQYXJ0cyIsInNwbGl0IiwicHJvdG9jb2wiLCJjZG5Ib3N0IiwiY2RuVXJsIiwicHJvamVjdEhlYWRlciIsInJlcXVlc3RPcHRpb25zIiwib3ZlcnJpZGVzIiwiQXV0aG9yaXphdGlvbiIsInVzZUdsb2JhbEFwaSIsInRpbWVvdXQiLCJwcm94eSIsImpzb24iLCJmZXRjaCIsInMiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJmaWxsIiwiU3RyaW5nIiwiZnJvbUNvZGVQb2ludCIsIkUiLCJ0IiwiciIsIm4iLCJjaGFyQ29kZUF0IiwidG9TdHJpbmciLCJwYWRTdGFydCIsIm8iLCJJIiwiTnVtYmVyIiwiaXNOYU4iLCJwYXJzZSIsIngiLCJVUkwiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJyZXZlcnNlIiwiUyIsInZhbHVlcyIsIlJlZ0V4cCIsIlgiLCJjbGVhbmVkIiwiZW5jb2RlZCIsIm1hdGNoIiwidmVyY2VsU3RlZ2FDbGVhbkFsbCIsInJlc3VsdCIsImtleSIsImVuY29kZVF1ZXJ5U3RyaW5nIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiZXhjbHVkZUZhbHNleSIsInBhcmFtIiwiZGVmVmFsdWUiLCJnZXRNdXRhdGlvblF1ZXJ5IiwiZHJ5UnVuIiwicmV0dXJuSWRzIiwidmlzaWJpbGl0eSIsImF1dG9HZW5lcmF0ZUFycmF5S2V5cyIsInNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uIiwiaXNSZXNwb25zZSIsImV2ZW50IiwiZ2V0Qm9keSIsImluZGV4QnkiLCJkb2NzIiwiYXR0ciIsInJlZHVjZSIsImluZGV4ZWQiLCJnZXRRdWVyeVNpemVMaW1pdCIsIl9mZXRjaCIsIl9zdGVnYSIsIl9wYXJhbXMiLCJtYXBSZXNwb25zZSIsImZpbHRlclJlc3BvbnNlIiwiY2FjaGUiLCJuZXh0IiwidXNlQWJvcnRTaWduYWwiLCJzaWduYWwiLCJyZXN1bHRTb3VyY2VNYXAiLCJyZXFPcHRzIiwiJHJlcXVlc3QiLCJfZGF0YVJlcXVlc3QiLCJwaXBlIiwidGhlbiIsInN0ZWdhRW5jb2RlU291cmNlTWFwJDEiLCJzdGVnYUVuY29kZVNvdXJjZU1hcCIsIl9nZXREb2N1bWVudCIsIl9nZXREYXRhVXJsIiwiX3JlcXVlc3RPYnNlcnZhYmxlIiwiZG9jdW1lbnRzIiwiX2dldERvY3VtZW50cyIsImlkcyIsIl9jcmVhdGVJZk5vdEV4aXN0cyIsIl9jcmVhdGUiLCJfY3JlYXRlT3JSZXBsYWNlIiwiX2RlbGV0ZSIsIm11dGF0aW9ucyIsIl9tdXRhdGUiLCJtdXRzIiwiZW5kcG9pbnQiLCJpc011dGF0aW9uIiwic3RyUXVlcnkiLCJ1c2VHZXQiLCJzdHJpbmdRdWVyeSIsInJlcU9wdGlvbnMiLCJjYW5Vc2VDZG4iLCJyZXN1bHRzIiwiZG9jdW1lbnQiLCJtdXRhdGlvbiIsIl9iIiwiX2dldFVybCIsInN1YnNjcmliZXIiLCJzdWJzY3JpYmUiLCJfd2l0aEFib3J0U2lnbmFsIiwiX3JlcXVlc3QiLCJvcGVyYXRpb24iLCJwYXRoIiwiY2F0YWxvZyIsImJhc2VVcmkiLCJiYXNlIiwiaW5wdXQiLCJvYnNlcnZlciIsImFib3J0IiwiX2NyZWF0ZUFib3J0RXJyb3IiLCJhYm9ydGVkIiwic3Vic2NyaXB0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1bnN1YnNjcmliZSIsImlzRG9tRXhjZXB0aW9uU3VwcG9ydGVkIiwiZ2xvYmFsVGhpcyIsIkRPTUV4Y2VwdGlvbiIsInJlYXNvbiIsIl9fYWNjZXNzQ2hlY2skNCIsIl9fcHJpdmF0ZUdldCQ0IiwiX19wcml2YXRlQWRkJDQiLCJfX3ByaXZhdGVTZXQkNCIsIl9jbGllbnQkMyIsIl9odHRwUmVxdWVzdCQ0IiwiX2NsaWVudDIkMyIsIl9odHRwUmVxdWVzdDIkNCIsIk9ic2VydmFibGVBc3NldHNDbGllbnQiLCJ1cGxvYWQiLCJhc3NldFR5cGUiLCJfdXBsb2FkIiwiQXNzZXRzQ2xpZW50IiwibWV0YSIsImV4dHJhY3QiLCJhc3NldEVuZHBvaW50Iiwib3B0aW9uc0Zyb21GaWxlIiwibGFiZWwiLCJ0aXRsZSIsImNyZWRpdExpbmUiLCJmaWxlbmFtZSIsInNvdXJjZSIsInNvdXJjZUlkIiwic291cmNlTmFtZSIsInNvdXJjZVVybCIsImZpbGUiLCJGaWxlIiwicHJlc2VydmVGaWxlbmFtZSIsImRlZmF1bHRzIiwia2V5cyIsInRhcmdldCIsInByb3AiLCJwaWNrIiwiTUFYX1VSTF9MRU5HVEgiLCJwb3NzaWJsZU9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImluY2x1ZGVSZXN1bHQiLCJfbGlzdGVuIiwibGlzdGVuT3B0cyIsInFzIiwibGlzdGVuRm9yIiwiZXZlbnRzIiwic2hvdWxkRW1pdFJlY29ubmVjdCIsImVzT3B0aW9ucyIsImVzIiwiZ2V0RXZlbnRTb3VyY2UiLCJldmVudFNvdXJjZSIsImNhdGNoIiwic3RvcCIsInJlY29ubmVjdFRpbWVyIiwic3RvcHBlZCIsIm9uRXJyb3IiLCJlbWl0UmVjb25uZWN0IiwicmVhZHlTdGF0ZSIsIkNMT1NFRCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvcGVuIiwib25DaGFubmVsRXJyb3IiLCJjb29lcmNlRXJyb3IiLCJvbk1lc3NhZ2UiLCJldnQiLCJwYXJzZUV2ZW50Iiwib25EaXNjb25uZWN0IiwiY29tcGxldGUiLCJjbG9zZSIsImRlZmF1bHQiLCJFdmVudFNvdXJjZSIsImV2cyIsImRhdGEiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwiX19hY2Nlc3NDaGVjayQzIiwiX19wcml2YXRlR2V0JDMiLCJfX3ByaXZhdGVBZGQkMyIsIl9fcHJpdmF0ZVNldCQzIiwiX2NsaWVudCQyIiwiX2h0dHBSZXF1ZXN0JDMiLCJfY2xpZW50MiQyIiwiX2h0dHBSZXF1ZXN0MiQzIiwiT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50IiwiX21vZGlmeSIsImVkaXQiLCJsaXN0IiwiRGF0YXNldHNDbGllbnQiLCJfX2FjY2Vzc0NoZWNrJDIiLCJfX3ByaXZhdGVHZXQkMiIsIl9fcHJpdmF0ZUFkZCQyIiwiX19wcml2YXRlU2V0JDIiLCJfY2xpZW50JDEiLCJfaHR0cFJlcXVlc3QkMiIsIl9jbGllbnQyJDEiLCJfaHR0cFJlcXVlc3QyJDIiLCJPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQiLCJpbmNsdWRlTWVtYmVycyIsImdldEJ5SWQiLCJQcm9qZWN0c0NsaWVudCIsIl9fYWNjZXNzQ2hlY2skMSIsIl9fcHJpdmF0ZUdldCQxIiwiX19wcml2YXRlQWRkJDEiLCJfX3ByaXZhdGVTZXQkMSIsIl9jbGllbnQiLCJfaHR0cFJlcXVlc3QkMSIsIl9jbGllbnQyIiwiX2h0dHBSZXF1ZXN0MiQxIiwiT2JzZXJ2YWJsZVVzZXJzQ2xpZW50IiwiVXNlcnNDbGllbnQiLCJfX2FjY2Vzc0NoZWNrIiwiX19wcml2YXRlR2V0IiwiX19wcml2YXRlQWRkIiwiX19wcml2YXRlU2V0IiwiX2NsaWVudENvbmZpZyIsIl9odHRwUmVxdWVzdCIsIl9jbGllbnRDb25maWcyIiwiX2h0dHBSZXF1ZXN0MiIsIl9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50IiwibGlzdGVuIiwiYXNzZXRzIiwiZGF0YXNldHMiLCJwcm9qZWN0cyIsInVzZXJzIiwiYWxsb3dSZWNvbmZpZ3VyZSIsIndpdGhDb25maWciLCJ0aGlzQ29uZmlnIiwiZ2V0RG9jdW1lbnQiLCJnZXREb2N1bWVudHMiLCJ0cmFuc2FjdGlvbiIsImdldFVybCIsImdldERhdGFVcmwiLCJPYnNlcnZhYmxlU2FuaXR5Q2xpZW50IiwiX1Nhbml0eUNsaWVudCIsImRhdGFSZXF1ZXN0IiwiU2FuaXR5Q2xpZW50IiwiZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyIsIkNsYXNzQ29uc3RydWN0b3IiLCJjcmVhdGVDbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-zDVeirri.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-gZIRaYar.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-gZIRaYar.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeIntoResult: () => (/* binding */ encodeIntoResult),\n/* harmony export */   stegaEncodeSourceMap: () => (/* binding */ stegaEncodeSourceMap),\n/* harmony export */   stegaEncodeSourceMap$1: () => (/* binding */ stegaEncodeSourceMap$1)\n/* harmony export */ });\n/* harmony import */ var _browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browserMiddleware-zDVeirri.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-zDVeirri.js\");\n\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n    if (typeof segment === \"string\") {\n        return reKeySegment.test(segment.trim());\n    }\n    return typeof segment === \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n    if (!Array.isArray(path)) {\n        throw new Error(\"Path is not an array\");\n    }\n    return path.reduce((target, segment, i)=>{\n        const segmentType = typeof segment;\n        if (segmentType === \"number\") {\n            return \"\".concat(target, \"[\").concat(segment, \"]\");\n        }\n        if (segmentType === \"string\") {\n            const separator = i === 0 ? \"\" : \".\";\n            return \"\".concat(target).concat(separator).concat(segment);\n        }\n        if (isKeySegment(segment) && segment._key) {\n            return \"\".concat(target, '[_key==\"').concat(segment._key, '\"]');\n        }\n        if (Array.isArray(segment)) {\n            const [from, to] = segment;\n            return \"\".concat(target, \"[\").concat(from, \":\").concat(to, \"]\");\n        }\n        throw new Error(\"Unsupported path segment `\".concat(JSON.stringify(segment), \"`\"));\n    }, \"\");\n}\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n};\nconst UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": \"\\n\",\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n    return \"$\".concat(path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            const escapedKey = segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"['\".concat(escapedKey, \"']\");\n        }\n        if (typeof segment === \"number\") {\n            return \"[\".concat(segment, \"]\");\n        }\n        if (segment._key !== \"\") {\n            const escapedKey = segment._key.replace(/['\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"[?(@._key=='\".concat(escapedKey, \"')]\");\n        }\n        return \"[\".concat(segment._index, \"]\");\n    }).join(\"\"));\n}\nfunction parseJsonPath(path) {\n    const parsed = [];\n    const parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n    let match;\n    while((match = parseRe.exec(path)) !== null){\n        if (match[1] !== void 0) {\n            const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push(key);\n            continue;\n        }\n        if (match[2] !== void 0) {\n            parsed.push(parseInt(match[2], 10));\n            continue;\n        }\n        if (match[3] !== void 0) {\n            const _key = match[3].replace(/\\\\(\\\\')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push({\n                _key,\n                _index: -1\n            });\n            continue;\n        }\n    }\n    return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._key !== \"\") {\n            return {\n                _key: segment._key\n            };\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction jsonPathToMappingPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction resolveMapping(resultPath, csm) {\n    if (!(csm == null ? void 0 : csm.mappings)) {\n        return void 0;\n    }\n    const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n    if (csm.mappings[resultMappingPath] !== void 0) {\n        return {\n            mapping: csm.mappings[resultMappingPath],\n            matchedPath: resultMappingPath,\n            pathSuffix: \"\"\n        };\n    }\n    const mappings = Object.entries(csm.mappings).filter(([key])=>resultMappingPath.startsWith(key)).sort(([key1], [key2])=>key2.length - key1.length);\n    if (mappings.length == 0) {\n        return void 0;\n    }\n    const [matchedPath, mapping] = mappings[0];\n    const pathSuffix = resultMappingPath.substring(matchedPath.length);\n    return {\n        mapping,\n        matchedPath,\n        pathSuffix\n    };\n}\nfunction isArray(value) {\n    return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value === \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn, path = []) {\n    if (isArray(value)) {\n        return value.map((v, idx)=>{\n            if (isRecord(v)) {\n                const _key = v[\"_key\"];\n                if (typeof _key === \"string\") {\n                    return walkMap(v, mappingFn, path.concat({\n                        _key,\n                        _index: idx\n                    }));\n                }\n            }\n            return walkMap(v, mappingFn, path.concat(idx));\n        });\n    }\n    if (isRecord(value)) {\n        return Object.fromEntries(Object.entries(value).map(([k, v])=>[\n                k,\n                walkMap(v, mappingFn, path.concat(k))\n            ]));\n    }\n    return mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n    return walkMap(result, (value, path)=>{\n        if (typeof value !== \"string\") {\n            return value;\n        }\n        const resolveMappingResult = resolveMapping(path, csm);\n        if (!resolveMappingResult) {\n            return value;\n        }\n        const { mapping, matchedPath } = resolveMappingResult;\n        if (mapping.type !== \"value\") {\n            return value;\n        }\n        if (mapping.source.type !== \"documentValue\") {\n            return value;\n        }\n        const sourceDocument = csm.documents[mapping.source.document];\n        const sourcePath = csm.paths[mapping.source.path];\n        const matchPathSegments = parseJsonPath(matchedPath);\n        const sourcePathSegments = parseJsonPath(sourcePath);\n        const fullSourceSegments = sourcePathSegments.concat(path.slice(matchPathSegments.length));\n        return encoder({\n            sourcePath: fullSourceSegments,\n            sourceDocument,\n            resultPath: path,\n            value\n        });\n    });\n}\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n    if (id.startsWith(DRAFTS_PREFIX)) {\n        return id.slice(DRAFTS_PREFIX.length);\n    }\n    return id;\n}\nfunction createEditUrl(options) {\n    const { baseUrl, workspace: _workspace = \"default\", tool: _tool = \"default\", id: _id, type, path } = options;\n    if (!baseUrl) {\n        throw new Error(\"baseUrl is required\");\n    }\n    if (!path) {\n        throw new Error(\"path is required\");\n    }\n    if (!_id) {\n        throw new Error(\"id is required\");\n    }\n    if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) {\n        throw new Error(\"baseUrl must not end with a slash\");\n    }\n    const workspace = _workspace === \"default\" ? void 0 : _workspace;\n    const tool = _tool === \"default\" ? void 0 : _tool;\n    const id = getPublishedId(_id);\n    const stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path;\n    const searchParams = new URLSearchParams({\n        baseUrl,\n        id,\n        type,\n        path: stringifiedPath\n    });\n    if (workspace) {\n        searchParams.set(\"workspace\", workspace);\n    }\n    if (tool) {\n        searchParams.set(\"tool\", tool);\n    }\n    const segments = [\n        baseUrl === \"/\" ? \"\" : baseUrl\n    ];\n    if (workspace) {\n        segments.push(workspace);\n    }\n    const routerParams = [\n        \"mode=presentation\",\n        \"id=\".concat(id),\n        \"type=\".concat(type),\n        \"path=\".concat(encodeURIComponent(stringifiedPath))\n    ];\n    if (tool) {\n        routerParams.push(\"tool=\".concat(tool));\n    }\n    segments.push(\"intent\", \"edit\", \"\".concat(routerParams.join(\";\"), \"?\").concat(searchParams));\n    return segments.join(\"/\");\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n    let baseUrl = typeof studioUrl === \"string\" ? studioUrl : studioUrl.baseUrl;\n    if (baseUrl !== \"/\") {\n        baseUrl = baseUrl.replace(/\\/$/, \"\");\n    }\n    if (typeof studioUrl === \"string\") {\n        return {\n            baseUrl\n        };\n    }\n    return {\n        ...studioUrl,\n        baseUrl\n    };\n}\nconst filterDefault = ({ sourcePath, value })=>{\n    if (isValidDate(value) || isValidURL(value)) {\n        return false;\n    }\n    const endPath = sourcePath.at(-1);\n    if (sourcePath.at(-2) === \"slug\" && endPath === \"current\") {\n        return false;\n    }\n    if (typeof endPath === \"string\" && endPath.startsWith(\"_\")) {\n        return false;\n    }\n    if (typeof endPath === \"number\" && sourcePath.at(-2) === \"marks\") {\n        return false;\n    }\n    if (endPath === \"href\" && typeof sourcePath.at(-2) === \"number\" && sourcePath.at(-3) === \"markDefs\") {\n        return false;\n    }\n    if (endPath === \"style\" || endPath === \"listItem\") {\n        return false;\n    }\n    if (sourcePath.some((path)=>path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\")) {\n        return false;\n    }\n    if (typeof endPath === \"string\" && denylist.has(endPath)) {\n        return false;\n    }\n    return true;\n};\nconst denylist = /* @__PURE__ */ new Set([\n    \"color\",\n    \"colour\",\n    \"currency\",\n    \"email\",\n    \"format\",\n    \"gid\",\n    \"hex\",\n    \"href\",\n    \"hsl\",\n    \"hsla\",\n    \"icon\",\n    \"id\",\n    \"index\",\n    \"key\",\n    \"language\",\n    \"layout\",\n    \"link\",\n    \"linkAction\",\n    \"locale\",\n    \"lqip\",\n    \"page\",\n    \"path\",\n    \"ref\",\n    \"rgb\",\n    \"rgba\",\n    \"route\",\n    \"secret\",\n    \"slug\",\n    \"status\",\n    \"tag\",\n    \"template\",\n    \"theme\",\n    \"type\",\n    \"unit\",\n    \"url\",\n    \"username\",\n    \"variant\",\n    \"website\"\n]);\nfunction isValidDate(dateString) {\n    return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? Boolean(Date.parse(dateString)) : false;\n}\nfunction isValidURL(url) {\n    try {\n        new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return false;\n    }\n    return true;\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { filter, logger, enabled } = config;\n    if (!enabled) {\n        const msg = \"config.enabled must be true, don't call this function otherwise\";\n        (_a = logger == null ? void 0 : logger.error) == null ? void 0 : _a.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    if (!resultSourceMap) {\n        (_b = logger == null ? void 0 : logger.error) == null ? void 0 : _b.call(logger, \"[@sanity/client/stega]: Missing Content Source Map from response body\", {\n            result,\n            resultSourceMap,\n            config\n        });\n        return result;\n    }\n    if (!config.studioUrl) {\n        const msg = \"config.studioUrl must be defined\";\n        (_c = logger == null ? void 0 : logger.error) == null ? void 0 : _c.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    const report = {\n        encoded: [],\n        skipped: []\n    };\n    const resultWithStega = encodeIntoResult(result, resultSourceMap, ({ sourcePath, sourceDocument, resultPath, value })=>{\n        if ((typeof filter === \"function\" ? filter({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        }) : filterDefault({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        })) === false) {\n            if (logger) {\n                report.skipped.push({\n                    path: prettyPathForLogging(sourcePath),\n                    value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                    length: value.length\n                });\n            }\n            return value;\n        }\n        if (logger) {\n            report.encoded.push({\n                path: prettyPathForLogging(sourcePath),\n                value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                length: value.length\n            });\n        }\n        const { baseUrl, workspace, tool } = resolveStudioBaseRoute(typeof config.studioUrl === \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n        if (!baseUrl) return value;\n        const { _id: id, _type: type } = sourceDocument;\n        return (0,_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.b)(value, {\n            origin: \"sanity.io\",\n            href: createEditUrl({\n                baseUrl,\n                workspace,\n                tool,\n                id,\n                type,\n                path: sourcePath\n            })\n        }, // We use custom logic to determine if we should skip encoding\n        false);\n    });\n    if (logger) {\n        const isSkipping = report.skipped.length;\n        const isEncoding = report.encoded.length;\n        if (isSkipping || isEncoding) {\n            (_d = (logger == null ? void 0 : logger.groupCollapsed) || logger.log) == null ? void 0 : _d(\"[@sanity/client/stega]: Encoding source map into result\");\n            (_e = logger.log) == null ? void 0 : _e.call(logger, \"[@sanity/client/stega]: Paths encoded: \".concat(report.encoded.length, \", skipped: \").concat(report.skipped.length));\n        }\n        if (report.encoded.length > 0) {\n            (_f = logger == null ? void 0 : logger.log) == null ? void 0 : _f.call(logger, \"[@sanity/client/stega]: Table of encoded paths\");\n            (_g = (logger == null ? void 0 : logger.table) || logger.log) == null ? void 0 : _g(report.encoded);\n        }\n        if (report.skipped.length > 0) {\n            const skipped = /* @__PURE__ */ new Set();\n            for (const { path } of report.skipped){\n                skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n            }\n            (_h = logger == null ? void 0 : logger.log) == null ? void 0 : _h.call(logger, \"[@sanity/client/stega]: List of skipped paths\", [\n                ...skipped.values()\n            ]);\n        }\n        if (isSkipping || isEncoding) {\n            (_i = logger == null ? void 0 : logger.groupEnd) == null ? void 0 : _i.call(logger);\n        }\n    }\n    return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n    return toString(jsonPathToStudioPath(path));\n}\nvar stegaEncodeSourceMap$1 = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    stegaEncodeSourceMap: stegaEncodeSourceMap\n});\n //# sourceMappingURL=stegaEncodeSourceMap-gZIRaYar.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL3N0ZWdhRW5jb2RlU291cmNlTWFwLWdaSVJhWWFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0Q7QUFFcEQsTUFBTUMsZUFBZTtBQUNyQixTQUFTQyxhQUFhQyxPQUFPO0lBQzNCLElBQUksT0FBT0EsWUFBWSxVQUFVO1FBQy9CLE9BQU9GLGFBQWFHLElBQUksQ0FBQ0QsUUFBUUUsSUFBSTtJQUN2QztJQUNBLE9BQU8sT0FBT0YsWUFBWSxZQUFZLFVBQVVBO0FBQ2xEO0FBQ0EsU0FBU0csU0FBU0MsSUFBSTtJQUNwQixJQUFJLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0YsT0FBTztRQUN4QixNQUFNLElBQUlHLE1BQU07SUFDbEI7SUFDQSxPQUFPSCxLQUFLSSxNQUFNLENBQUMsQ0FBQ0MsUUFBUVQsU0FBU1U7UUFDbkMsTUFBTUMsY0FBYyxPQUFPWDtRQUMzQixJQUFJVyxnQkFBZ0IsVUFBVTtZQUM1QixPQUFPLEdBQUdDLE1BQU0sQ0FBQ0gsUUFBUSxLQUFLRyxNQUFNLENBQUNaLFNBQVM7UUFDaEQ7UUFDQSxJQUFJVyxnQkFBZ0IsVUFBVTtZQUM1QixNQUFNRSxZQUFZSCxNQUFNLElBQUksS0FBSztZQUNqQyxPQUFPLEdBQUdFLE1BQU0sQ0FBQ0gsUUFBUUcsTUFBTSxDQUFDQyxXQUFXRCxNQUFNLENBQUNaO1FBQ3BEO1FBQ0EsSUFBSUQsYUFBYUMsWUFBWUEsUUFBUWMsSUFBSSxFQUFFO1lBQ3pDLE9BQU8sR0FBR0YsTUFBTSxDQUFDSCxRQUFRLFlBQVlHLE1BQU0sQ0FBQ1osUUFBUWMsSUFBSSxFQUFFO1FBQzVEO1FBQ0EsSUFBSVQsTUFBTUMsT0FBTyxDQUFDTixVQUFVO1lBQzFCLE1BQU0sQ0FBQ2UsTUFBTUMsR0FBRyxHQUFHaEI7WUFDbkIsT0FBTyxHQUFHWSxNQUFNLENBQUNILFFBQVEsS0FBS0csTUFBTSxDQUFDRyxNQUFNLEtBQUtILE1BQU0sQ0FBQ0ksSUFB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QUFDO0lBQ3REQyxXQUFXO0lBQ1hwQyxzQkFBc0JBO0FBQ3hCO0FBRTBFLENBQzFFLHlEQUF5RCIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsX21hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL3N0ZWdhRW5jb2RlU291cmNlTWFwLWdaSVJhWWFyLmpzPzcyNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYiB9IGZyb20gJy4vYnJvd3Nlck1pZGRsZXdhcmUtekRWZWlycmkuanMnO1xuXG5jb25zdCByZUtleVNlZ21lbnQgPSAvX2tleVxccyo9PVxccypbJ1wiXSguKilbJ1wiXS87XG5mdW5jdGlvbiBpc0tleVNlZ21lbnQoc2VnbWVudCkge1xuICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gcmVLZXlTZWdtZW50LnRlc3Qoc2VnbWVudC50cmltKCkpO1xuICB9XG4gIHJldHVybiB0eXBlb2Ygc2VnbWVudCA9PT0gXCJvYmplY3RcIiAmJiBcIl9rZXlcIiBpbiBzZWdtZW50O1xufVxuZnVuY3Rpb24gdG9TdHJpbmcocGF0aCkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkocGF0aCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoIGlzIG5vdCBhbiBhcnJheVwiKTtcbiAgfVxuICByZXR1cm4gcGF0aC5yZWR1Y2UoKHRhcmdldCwgc2VnbWVudCwgaSkgPT4ge1xuICAgIGNvbnN0IHNlZ21lbnRUeXBlID0gdHlwZW9mIHNlZ21lbnQ7XG4gICAgaWYgKHNlZ21lbnRUeXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGFyZ2V0LCBcIltcIikuY29uY2F0KHNlZ21lbnQsIFwiXVwiKTtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnRUeXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBzZXBhcmF0b3IgPSBpID09PSAwID8gXCJcIiA6IFwiLlwiO1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRhcmdldCkuY29uY2F0KHNlcGFyYXRvcikuY29uY2F0KHNlZ21lbnQpO1xuICAgIH1cbiAgICBpZiAoaXNLZXlTZWdtZW50KHNlZ21lbnQpICYmIHNlZ21lbnQuX2tleSkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRhcmdldCwgJ1tfa2V5PT1cIicpLmNvbmNhdChzZWdtZW50Ll9rZXksICdcIl0nKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2VnbWVudCkpIHtcbiAgICAgIGNvbnN0IFtmcm9tLCB0b10gPSBzZWdtZW50O1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRhcmdldCwgXCJbXCIpLmNvbmNhdChmcm9tLCBcIjpcIikuY29uY2F0KHRvLCBcIl1cIik7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHBhdGggc2VnbWVudCBgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpLCBcImBcIikpO1xuICB9LCBcIlwiKTtcbn1cblxuY29uc3QgRVNDQVBFID0ge1xuICBcIlxcZlwiOiBcIlxcXFxmXCIsXG4gIFwiXFxuXCI6IFwiXFxcXG5cIixcbiAgXCJcXHJcIjogXCJcXFxcclwiLFxuICBcIlx0XCI6IFwiXFxcXHRcIixcbiAgXCInXCI6IFwiXFxcXCdcIixcbiAgXCJcXFxcXCI6IFwiXFxcXFxcXFxcIlxufTtcbmNvbnN0IFVORVNDQVBFID0ge1xuICBcIlxcXFxmXCI6IFwiXFxmXCIsXG4gIFwiXFxcXG5cIjogXCJcXG5cIixcbiAgXCJcXFxcclwiOiBcIlxcclwiLFxuICBcIlxcXFx0XCI6IFwiXHRcIixcbiAgXCJcXFxcJ1wiOiBcIidcIixcbiAgXCJcXFxcXFxcXFwiOiBcIlxcXFxcIlxufTtcbmZ1bmN0aW9uIGpzb25QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIFwiJFwiLmNvbmNhdChwYXRoLm1hcCgoc2VnbWVudCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgZXNjYXBlZEtleSA9IHNlZ21lbnQucmVwbGFjZSgvW1xcZlxcblxcclxcdCdcXFxcXS9nLCAobWF0Y2gpID0+IHtcbiAgICAgICAgcmV0dXJuIEVTQ0FQRVttYXRjaF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBcIlsnXCIuY29uY2F0KGVzY2FwZWRLZXksIFwiJ11cIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFwiW1wiLmNvbmNhdChzZWdtZW50LCBcIl1cIik7XG4gICAgfVxuICAgIGlmIChzZWdtZW50Ll9rZXkgIT09IFwiXCIpIHtcbiAgICAgIGNvbnN0IGVzY2FwZWRLZXkgPSBzZWdtZW50Ll9rZXkucmVwbGFjZSgvWydcXFxcXS9nLCAobWF0Y2gpID0+IHtcbiAgICAgICAgcmV0dXJuIEVTQ0FQRVttYXRjaF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBcIls/KEAuX2tleT09J1wiLmNvbmNhdChlc2NhcGVkS2V5LCBcIicpXVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFwiW1wiLmNvbmNhdChzZWdtZW50Ll9pbmRleCwgXCJdXCIpO1xuICB9KS5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIHBhcnNlSnNvblBhdGgocGF0aCkge1xuICBjb25zdCBwYXJzZWQgPSBbXTtcbiAgY29uc3QgcGFyc2VSZSA9IC9cXFsnKC4qPyknXFxdfFxcWyhcXGQrKVxcXXxcXFtcXD9cXChAXFwuX2tleT09JyguKj8pJ1xcKVxcXS9nO1xuICBsZXQgbWF0Y2g7XG4gIHdoaWxlICgobWF0Y2ggPSBwYXJzZVJlLmV4ZWMocGF0aCkpICE9PSBudWxsKSB7XG4gICAgaWYgKG1hdGNoWzFdICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IGtleSA9IG1hdGNoWzFdLnJlcGxhY2UoL1xcXFwoXFxcXHxmfG58cnx0fCcpL2csIChtKSA9PiB7XG4gICAgICAgIHJldHVybiBVTkVTQ0FQRVttXTtcbiAgICAgIH0pO1xuICAgICAgcGFyc2VkLnB1c2goa2V5KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobWF0Y2hbMl0gIT09IHZvaWQgMCkge1xuICAgICAgcGFyc2VkLnB1c2gocGFyc2VJbnQobWF0Y2hbMl0sIDEwKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1hdGNoWzNdICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IF9rZXkgPSBtYXRjaFszXS5yZXBsYWNlKC9cXFxcKFxcXFwnKS9nLCAobSkgPT4ge1xuICAgICAgICByZXR1cm4gVU5FU0NBUEVbbV07XG4gICAgICB9KTtcbiAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgX2tleSxcbiAgICAgICAgX2luZGV4OiAtMVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2tleSAhPT0gXCJcIikge1xuICAgICAgcmV0dXJuIHsgX2tleTogc2VnbWVudC5fa2V5IH07XG4gICAgfVxuICAgIGlmIChzZWdtZW50Ll9pbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBzZWdtZW50Ll9pbmRleDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzZWdtZW50OlwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzZWdtZW50KSkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9NYXBwaW5nUGF0aChwYXRoKSB7XG4gIHJldHVybiBwYXRoLm1hcCgoc2VnbWVudCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuICAgIGlmIChzZWdtZW50Ll9pbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBzZWdtZW50Ll9pbmRleDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzZWdtZW50OlwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzZWdtZW50KSkpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZU1hcHBpbmcocmVzdWx0UGF0aCwgY3NtKSB7XG4gIGlmICghKGNzbSA9PSBudWxsID8gdm9pZCAwIDogY3NtLm1hcHBpbmdzKSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgcmVzdWx0TWFwcGluZ1BhdGggPSBqc29uUGF0aChqc29uUGF0aFRvTWFwcGluZ1BhdGgocmVzdWx0UGF0aCkpO1xuICBpZiAoY3NtLm1hcHBpbmdzW3Jlc3VsdE1hcHBpbmdQYXRoXSAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hcHBpbmc6IGNzbS5tYXBwaW5nc1tyZXN1bHRNYXBwaW5nUGF0aF0sXG4gICAgICBtYXRjaGVkUGF0aDogcmVzdWx0TWFwcGluZ1BhdGgsXG4gICAgICBwYXRoU3VmZml4OiBcIlwiXG4gICAgfTtcbiAgfVxuICBjb25zdCBtYXBwaW5ncyA9IE9iamVjdC5lbnRyaWVzKGNzbS5tYXBwaW5ncykuZmlsdGVyKChba2V5XSkgPT4gcmVzdWx0TWFwcGluZ1BhdGguc3RhcnRzV2l0aChrZXkpKS5zb3J0KChba2V5MV0sIFtrZXkyXSkgPT4ga2V5Mi5sZW5ndGggLSBrZXkxLmxlbmd0aCk7XG4gIGlmIChtYXBwaW5ncy5sZW5ndGggPT0gMCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgW21hdGNoZWRQYXRoLCBtYXBwaW5nXSA9IG1hcHBpbmdzWzBdO1xuICBjb25zdCBwYXRoU3VmZml4ID0gcmVzdWx0TWFwcGluZ1BhdGguc3Vic3RyaW5nKG1hdGNoZWRQYXRoLmxlbmd0aCk7XG4gIHJldHVybiB7IG1hcHBpbmcsIG1hdGNoZWRQYXRoLCBwYXRoU3VmZml4IH07XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBpc1JlY29yZCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiB3YWxrTWFwKHZhbHVlLCBtYXBwaW5nRm4sIHBhdGggPSBbXSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2LCBpZHgpID0+IHtcbiAgICAgIGlmIChpc1JlY29yZCh2KSkge1xuICAgICAgICBjb25zdCBfa2V5ID0gdltcIl9rZXlcIl07XG4gICAgICAgIGlmICh0eXBlb2YgX2tleSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHJldHVybiB3YWxrTWFwKHYsIG1hcHBpbmdGbiwgcGF0aC5jb25jYXQoeyBfa2V5LCBfaW5kZXg6IGlkeCB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB3YWxrTWFwKHYsIG1hcHBpbmdGbiwgcGF0aC5jb25jYXQoaWR4KSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzUmVjb3JkKHZhbHVlKSkge1xuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkubWFwKChbaywgdl0pID0+IFtrLCB3YWxrTWFwKHYsIG1hcHBpbmdGbiwgcGF0aC5jb25jYXQoaykpXSlcbiAgICApO1xuICB9XG4gIHJldHVybiBtYXBwaW5nRm4odmFsdWUsIHBhdGgpO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVJbnRvUmVzdWx0KHJlc3VsdCwgY3NtLCBlbmNvZGVyKSB7XG4gIHJldHVybiB3YWxrTWFwKHJlc3VsdCwgKHZhbHVlLCBwYXRoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlTWFwcGluZ1Jlc3VsdCA9IHJlc29sdmVNYXBwaW5nKHBhdGgsIGNzbSk7XG4gICAgaWYgKCFyZXNvbHZlTWFwcGluZ1Jlc3VsdCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCB7IG1hcHBpbmcsIG1hdGNoZWRQYXRoIH0gPSByZXNvbHZlTWFwcGluZ1Jlc3VsdDtcbiAgICBpZiAobWFwcGluZy50eXBlICE9PSBcInZhbHVlXCIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKG1hcHBpbmcuc291cmNlLnR5cGUgIT09IFwiZG9jdW1lbnRWYWx1ZVwiKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZURvY3VtZW50ID0gY3NtLmRvY3VtZW50c1ttYXBwaW5nLnNvdXJjZS5kb2N1bWVudF07XG4gICAgY29uc3Qgc291cmNlUGF0aCA9IGNzbS5wYXRoc1ttYXBwaW5nLnNvdXJjZS5wYXRoXTtcbiAgICBjb25zdCBtYXRjaFBhdGhTZWdtZW50cyA9IHBhcnNlSnNvblBhdGgobWF0Y2hlZFBhdGgpO1xuICAgIGNvbnN0IHNvdXJjZVBhdGhTZWdtZW50cyA9IHBhcnNlSnNvblBhdGgoc291cmNlUGF0aCk7XG4gICAgY29uc3QgZnVsbFNvdXJjZVNlZ21lbnRzID0gc291cmNlUGF0aFNlZ21lbnRzLmNvbmNhdChwYXRoLnNsaWNlKG1hdGNoUGF0aFNlZ21lbnRzLmxlbmd0aCkpO1xuICAgIHJldHVybiBlbmNvZGVyKHtcbiAgICAgIHNvdXJjZVBhdGg6IGZ1bGxTb3VyY2VTZWdtZW50cyxcbiAgICAgIHNvdXJjZURvY3VtZW50LFxuICAgICAgcmVzdWx0UGF0aDogcGF0aCxcbiAgICAgIHZhbHVlXG4gICAgfSk7XG4gIH0pO1xufVxuXG5jb25zdCBEUkFGVFNfUFJFRklYID0gXCJkcmFmdHMuXCI7XG5mdW5jdGlvbiBnZXRQdWJsaXNoZWRJZChpZCkge1xuICBpZiAoaWQuc3RhcnRzV2l0aChEUkFGVFNfUFJFRklYKSkge1xuICAgIHJldHVybiBpZC5zbGljZShEUkFGVFNfUFJFRklYLmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFZGl0VXJsKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGJhc2VVcmwsXG4gICAgd29ya3NwYWNlOiBfd29ya3NwYWNlID0gXCJkZWZhdWx0XCIsXG4gICAgdG9vbDogX3Rvb2wgPSBcImRlZmF1bHRcIixcbiAgICBpZDogX2lkLFxuICAgIHR5cGUsXG4gICAgcGF0aFxuICB9ID0gb3B0aW9ucztcbiAgaWYgKCFiYXNlVXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmFzZVVybCBpcyByZXF1aXJlZFwiKTtcbiAgfVxuICBpZiAoIXBhdGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXRoIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIGlmICghX2lkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgaXMgcmVxdWlyZWRcIik7XG4gIH1cbiAgaWYgKGJhc2VVcmwgIT09IFwiL1wiICYmIGJhc2VVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmFzZVVybCBtdXN0IG5vdCBlbmQgd2l0aCBhIHNsYXNoXCIpO1xuICB9XG4gIGNvbnN0IHdvcmtzcGFjZSA9IF93b3Jrc3BhY2UgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogX3dvcmtzcGFjZTtcbiAgY29uc3QgdG9vbCA9IF90b29sID09PSBcImRlZmF1bHRcIiA/IHZvaWQgMCA6IF90b29sO1xuICBjb25zdCBpZCA9IGdldFB1Ymxpc2hlZElkKF9pZCk7XG4gIGNvbnN0IHN0cmluZ2lmaWVkUGF0aCA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyB0b1N0cmluZyhqc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSkgOiBwYXRoO1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICBiYXNlVXJsLFxuICAgIGlkLFxuICAgIHR5cGUsXG4gICAgcGF0aDogc3RyaW5naWZpZWRQYXRoXG4gIH0pO1xuICBpZiAod29ya3NwYWNlKSB7XG4gICAgc2VhcmNoUGFyYW1zLnNldChcIndvcmtzcGFjZVwiLCB3b3Jrc3BhY2UpO1xuICB9XG4gIGlmICh0b29sKSB7XG4gICAgc2VhcmNoUGFyYW1zLnNldChcInRvb2xcIiwgdG9vbCk7XG4gIH1cbiAgY29uc3Qgc2VnbWVudHMgPSBbYmFzZVVybCA9PT0gXCIvXCIgPyBcIlwiIDogYmFzZVVybF07XG4gIGlmICh3b3Jrc3BhY2UpIHtcbiAgICBzZWdtZW50cy5wdXNoKHdvcmtzcGFjZSk7XG4gIH1cbiAgY29uc3Qgcm91dGVyUGFyYW1zID0gW1xuICAgIFwibW9kZT1wcmVzZW50YXRpb25cIixcbiAgICBcImlkPVwiLmNvbmNhdChpZCksXG4gICAgXCJ0eXBlPVwiLmNvbmNhdCh0eXBlKSxcbiAgICBcInBhdGg9XCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZmllZFBhdGgpKVxuICBdO1xuICBpZiAodG9vbCkge1xuICAgIHJvdXRlclBhcmFtcy5wdXNoKFwidG9vbD1cIi5jb25jYXQodG9vbCkpO1xuICB9XG4gIHNlZ21lbnRzLnB1c2goXCJpbnRlbnRcIiwgXCJlZGl0XCIsIFwiXCIuY29uY2F0KHJvdXRlclBhcmFtcy5qb2luKFwiO1wiKSwgXCI/XCIpLmNvbmNhdChzZWFyY2hQYXJhbXMpKTtcbiAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oXCIvXCIpO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlU3R1ZGlvQmFzZVJvdXRlKHN0dWRpb1VybCkge1xuICBsZXQgYmFzZVVybCA9IHR5cGVvZiBzdHVkaW9VcmwgPT09IFwic3RyaW5nXCIgPyBzdHVkaW9VcmwgOiBzdHVkaW9VcmwuYmFzZVVybDtcbiAgaWYgKGJhc2VVcmwgIT09IFwiL1wiKSB7XG4gICAgYmFzZVVybCA9IGJhc2VVcmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xuICB9XG4gIGlmICh0eXBlb2Ygc3R1ZGlvVXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHsgYmFzZVVybCB9O1xuICB9XG4gIHJldHVybiB7IC4uLnN0dWRpb1VybCwgYmFzZVVybCB9O1xufVxuXG5jb25zdCBmaWx0ZXJEZWZhdWx0ID0gKHsgc291cmNlUGF0aCwgdmFsdWUgfSkgPT4ge1xuICBpZiAoaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVmFsaWRVUkwodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGVuZFBhdGggPSBzb3VyY2VQYXRoLmF0KC0xKTtcbiAgaWYgKHNvdXJjZVBhdGguYXQoLTIpID09PSBcInNsdWdcIiAmJiBlbmRQYXRoID09PSBcImN1cnJlbnRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGVuZFBhdGggPT09IFwic3RyaW5nXCIgJiYgZW5kUGF0aC5zdGFydHNXaXRoKFwiX1wiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGVuZFBhdGggPT09IFwibnVtYmVyXCIgJiYgc291cmNlUGF0aC5hdCgtMikgPT09IFwibWFya3NcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZW5kUGF0aCA9PT0gXCJocmVmXCIgJiYgdHlwZW9mIHNvdXJjZVBhdGguYXQoLTIpID09PSBcIm51bWJlclwiICYmIHNvdXJjZVBhdGguYXQoLTMpID09PSBcIm1hcmtEZWZzXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGVuZFBhdGggPT09IFwic3R5bGVcIiB8fCBlbmRQYXRoID09PSBcImxpc3RJdGVtXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNvdXJjZVBhdGguc29tZShcbiAgICAocGF0aCkgPT4gcGF0aCA9PT0gXCJtZXRhXCIgfHwgcGF0aCA9PT0gXCJtZXRhZGF0YVwiIHx8IHBhdGggPT09IFwib3BlbkdyYXBoXCIgfHwgcGF0aCA9PT0gXCJzZW9cIlxuICApKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZW5kUGF0aCA9PT0gXCJzdHJpbmdcIiAmJiBkZW55bGlzdC5oYXMoZW5kUGF0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuY29uc3QgZGVueWxpc3QgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwiY29sb3JcIixcbiAgXCJjb2xvdXJcIixcbiAgXCJjdXJyZW5jeVwiLFxuICBcImVtYWlsXCIsXG4gIFwiZm9ybWF0XCIsXG4gIFwiZ2lkXCIsXG4gIFwiaGV4XCIsXG4gIFwiaHJlZlwiLFxuICBcImhzbFwiLFxuICBcImhzbGFcIixcbiAgXCJpY29uXCIsXG4gIFwiaWRcIixcbiAgXCJpbmRleFwiLFxuICBcImtleVwiLFxuICBcImxhbmd1YWdlXCIsXG4gIFwibGF5b3V0XCIsXG4gIFwibGlua1wiLFxuICBcImxpbmtBY3Rpb25cIixcbiAgXCJsb2NhbGVcIixcbiAgXCJscWlwXCIsXG4gIFwicGFnZVwiLFxuICBcInBhdGhcIixcbiAgXCJyZWZcIixcbiAgXCJyZ2JcIixcbiAgXCJyZ2JhXCIsXG4gIFwicm91dGVcIixcbiAgXCJzZWNyZXRcIixcbiAgXCJzbHVnXCIsXG4gIFwic3RhdHVzXCIsXG4gIFwidGFnXCIsXG4gIFwidGVtcGxhdGVcIixcbiAgXCJ0aGVtZVwiLFxuICBcInR5cGVcIixcbiAgXCJ1bml0XCIsXG4gIFwidXJsXCIsXG4gIFwidXNlcm5hbWVcIixcbiAgXCJ2YXJpYW50XCIsXG4gIFwid2Vic2l0ZVwiXG5dKTtcbmZ1bmN0aW9uIGlzVmFsaWREYXRlKGRhdGVTdHJpbmcpIHtcbiAgcmV0dXJuIC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0vLnRlc3QoZGF0ZVN0cmluZykgPyBCb29sZWFuKERhdGUucGFyc2UoZGF0ZVN0cmluZykpIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVVJMKHVybCkge1xuICB0cnkge1xuICAgIG5ldyBVUkwodXJsLCB1cmwuc3RhcnRzV2l0aChcIi9cIikgPyBcImh0dHBzOi8vYWNtZS5jb21cIiA6IHZvaWQgMCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgVFJVTkNBVEVfTEVOR1RIID0gMjA7XG5mdW5jdGlvbiBzdGVnYUVuY29kZVNvdXJjZU1hcChyZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pO1xuICBjb25zdCB7IGZpbHRlciwgbG9nZ2VyLCBlbmFibGVkIH0gPSBjb25maWc7XG4gIGlmICghZW5hYmxlZCkge1xuICAgIGNvbnN0IG1zZyA9IFwiY29uZmlnLmVuYWJsZWQgbXVzdCBiZSB0cnVlLCBkb24ndCBjYWxsIHRoaXMgZnVuY3Rpb24gb3RoZXJ3aXNlXCI7XG4gICAgKF9hID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBcIi5jb25jYXQobXNnKSwgeyByZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnIH0pO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgfVxuICBpZiAoIXJlc3VsdFNvdXJjZU1hcCkge1xuICAgIChfYiA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogTWlzc2luZyBDb250ZW50IFNvdXJjZSBNYXAgZnJvbSByZXNwb25zZSBib2R5XCIsIHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgIGNvbmZpZ1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaWYgKCFjb25maWcuc3R1ZGlvVXJsKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuc3R1ZGlvVXJsIG11c3QgYmUgZGVmaW5lZFwiO1xuICAgIChfYyA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2MuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogXCIuY29uY2F0KG1zZyksIHsgcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIGNvbmZpZyB9KTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG1zZyk7XG4gIH1cbiAgY29uc3QgcmVwb3J0ID0ge1xuICAgIGVuY29kZWQ6IFtdLFxuICAgIHNraXBwZWQ6IFtdXG4gIH07XG4gIGNvbnN0IHJlc3VsdFdpdGhTdGVnYSA9IGVuY29kZUludG9SZXN1bHQoXG4gICAgcmVzdWx0LFxuICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAoeyBzb3VyY2VQYXRoLCBzb3VyY2VEb2N1bWVudCwgcmVzdWx0UGF0aCwgdmFsdWUgfSkgPT4ge1xuICAgICAgaWYgKCh0eXBlb2YgZmlsdGVyID09PSBcImZ1bmN0aW9uXCIgPyBmaWx0ZXIoeyBzb3VyY2VQYXRoLCByZXN1bHRQYXRoLCBmaWx0ZXJEZWZhdWx0LCBzb3VyY2VEb2N1bWVudCwgdmFsdWUgfSkgOiBmaWx0ZXJEZWZhdWx0KHsgc291cmNlUGF0aCwgcmVzdWx0UGF0aCwgZmlsdGVyRGVmYXVsdCwgc291cmNlRG9jdW1lbnQsIHZhbHVlIH0pKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGxvZ2dlcikge1xuICAgICAgICAgIHJlcG9ydC5za2lwcGVkLnB1c2goe1xuICAgICAgICAgICAgcGF0aDogcHJldHR5UGF0aEZvckxvZ2dpbmcoc291cmNlUGF0aCksXG4gICAgICAgICAgICB2YWx1ZTogXCJcIi5jb25jYXQodmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKSkuY29uY2F0KHZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwiKSxcbiAgICAgICAgICAgIGxlbmd0aDogdmFsdWUubGVuZ3RoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGxvZ2dlcikge1xuICAgICAgICByZXBvcnQuZW5jb2RlZC5wdXNoKHtcbiAgICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgICB2YWx1ZTogXCJcIi5jb25jYXQodmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKSkuY29uY2F0KHZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwiKSxcbiAgICAgICAgICBsZW5ndGg6IHZhbHVlLmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgYmFzZVVybCwgd29ya3NwYWNlLCB0b29sIH0gPSByZXNvbHZlU3R1ZGlvQmFzZVJvdXRlKFxuICAgICAgICB0eXBlb2YgY29uZmlnLnN0dWRpb1VybCA9PT0gXCJmdW5jdGlvblwiID8gY29uZmlnLnN0dWRpb1VybChzb3VyY2VEb2N1bWVudCkgOiBjb25maWcuc3R1ZGlvVXJsXG4gICAgICApO1xuICAgICAgaWYgKCFiYXNlVXJsKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICBjb25zdCB7IF9pZDogaWQsIF90eXBlOiB0eXBlIH0gPSBzb3VyY2VEb2N1bWVudDtcbiAgICAgIHJldHVybiBiKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAge1xuICAgICAgICAgIG9yaWdpbjogXCJzYW5pdHkuaW9cIixcbiAgICAgICAgICBocmVmOiBjcmVhdGVFZGl0VXJsKHtcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgICAgICB0b29sLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcGF0aDogc291cmNlUGF0aFxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIHVzZSBjdXN0b20gbG9naWMgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBza2lwIGVuY29kaW5nXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgIH1cbiAgKTtcbiAgaWYgKGxvZ2dlcikge1xuICAgIGNvbnN0IGlzU2tpcHBpbmcgPSByZXBvcnQuc2tpcHBlZC5sZW5ndGg7XG4gICAgY29uc3QgaXNFbmNvZGluZyA9IHJlcG9ydC5lbmNvZGVkLmxlbmd0aDtcbiAgICBpZiAoaXNTa2lwcGluZyB8fCBpc0VuY29kaW5nKSB7XG4gICAgICAoX2QgPSAobG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQpIHx8IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfZChcbiAgICAgICAgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBFbmNvZGluZyBzb3VyY2UgbWFwIGludG8gcmVzdWx0XCJcbiAgICAgICk7XG4gICAgICAoX2UgPSBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2UuY2FsbChcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICBcIltAc2FuaXR5L2NsaWVudC9zdGVnYV06IFBhdGhzIGVuY29kZWQ6IFwiLmNvbmNhdChyZXBvcnQuZW5jb2RlZC5sZW5ndGgsIFwiLCBza2lwcGVkOiBcIikuY29uY2F0KHJlcG9ydC5za2lwcGVkLmxlbmd0aClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChyZXBvcnQuZW5jb2RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAoX2YgPSBsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfZi5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBUYWJsZSBvZiBlbmNvZGVkIHBhdGhzXCIpO1xuICAgICAgKF9nID0gKGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLnRhYmxlKSB8fCBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2cocmVwb3J0LmVuY29kZWQpO1xuICAgIH1cbiAgICBpZiAocmVwb3J0LnNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc2tpcHBlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICBmb3IgKGNvbnN0IHsgcGF0aCB9IG9mIHJlcG9ydC5za2lwcGVkKSB7XG4gICAgICAgIHNraXBwZWQuYWRkKHBhdGgucmVwbGFjZShyZUtleVNlZ21lbnQsIFwiMFwiKS5yZXBsYWNlKC9cXFtcXGQrXFxdL2csIFwiW11cIikpO1xuICAgICAgfVxuICAgICAgKF9oID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2guY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogTGlzdCBvZiBza2lwcGVkIHBhdGhzXCIsIFsuLi5za2lwcGVkLnZhbHVlcygpXSk7XG4gICAgfVxuICAgIGlmIChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpIHtcbiAgICAgIChfaSA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmdyb3VwRW5kKSA9PSBudWxsID8gdm9pZCAwIDogX2kuY2FsbChsb2dnZXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0V2l0aFN0ZWdhO1xufVxuZnVuY3Rpb24gcHJldHR5UGF0aEZvckxvZ2dpbmcocGF0aCkge1xuICByZXR1cm4gdG9TdHJpbmcoanNvblBhdGhUb1N0dWRpb1BhdGgocGF0aCkpO1xufVxuXG52YXIgc3RlZ2FFbmNvZGVTb3VyY2VNYXAkMSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBzdGVnYUVuY29kZVNvdXJjZU1hcDogc3RlZ2FFbmNvZGVTb3VyY2VNYXBcbn0pO1xuXG5leHBvcnQgeyBlbmNvZGVJbnRvUmVzdWx0LCBzdGVnYUVuY29kZVNvdXJjZU1hcCwgc3RlZ2FFbmNvZGVTb3VyY2VNYXAkMSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RlZ2FFbmNvZGVTb3VyY2VNYXAtZ1pJUmFZYXIuanMubWFwXG4iXSwibmFtZXMiOlsiYiIsInJlS2V5U2VnbWVudCIsImlzS2V5U2VnbWVudCIsInNlZ21lbnQiLCJ0ZXN0IiwidHJpbSIsInRvU3RyaW5nIiwicGF0aCIsIkFycmF5IiwiaXNBcnJheSIsIkVycm9yIiwicmVkdWNlIiwidGFyZ2V0IiwiaSIsInNlZ21lbnRUeXBlIiwiY29uY2F0Iiwic2VwYXJhdG9yIiwiX2tleSIsImZyb20iLCJ0byIsIkpTT04iLCJzdHJpbmdpZnkiLCJFU0NBUEUiLCJVTkVTQ0FQRSIsImpzb25QYXRoIiwibWFwIiwiZXNjYXBlZEtleSIsInJlcGxhY2UiLCJtYXRjaCIsIl9pbmRleCIsImpvaW4iLCJwYXJzZUpzb25QYXRoIiwicGFyc2VkIiwicGFyc2VSZSIsImV4ZWMiLCJrZXkiLCJtIiwicHVzaCIsInBhcnNlSW50IiwianNvblBhdGhUb1N0dWRpb1BhdGgiLCJqc29uUGF0aFRvTWFwcGluZ1BhdGgiLCJyZXNvbHZlTWFwcGluZyIsInJlc3VsdFBhdGgiLCJjc20iLCJtYXBwaW5ncyIsInJlc3VsdE1hcHBpbmdQYXRoIiwibWFwcGluZyIsIm1hdGNoZWRQYXRoIiwicGF0aFN1ZmZpeCIsIk9iamVjdCIsImVudHJpZXMiLCJmaWx0ZXIiLCJzdGFydHNXaXRoIiwic29ydCIsImtleTEiLCJrZXkyIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwidmFsdWUiLCJpc1JlY29yZCIsIndhbGtNYXAiLCJtYXBwaW5nRm4iLCJ2IiwiaWR4IiwiZnJvbUVudHJpZXMiLCJrIiwiZW5jb2RlSW50b1Jlc3VsdCIsInJlc3VsdCIsImVuY29kZXIiLCJyZXNvbHZlTWFwcGluZ1Jlc3VsdCIsInR5cGUiLCJzb3VyY2UiLCJzb3VyY2VEb2N1bWVudCIsImRvY3VtZW50cyIsImRvY3VtZW50Iiwic291cmNlUGF0aCIsInBhdGhzIiwibWF0Y2hQYXRoU2VnbWVudHMiLCJzb3VyY2VQYXRoU2VnbWVudHMiLCJmdWxsU291cmNlU2VnbWVudHMiLCJzbGljZSIsIkRSQUZUU19QUkVGSVgiLCJnZXRQdWJsaXNoZWRJZCIsImlkIiwiY3JlYXRlRWRpdFVybCIsIm9wdGlvbnMiLCJiYXNlVXJsIiwid29ya3NwYWNlIiwiX3dvcmtzcGFjZSIsInRvb2wiLCJfdG9vbCIsIl9pZCIsImVuZHNXaXRoIiwic3RyaW5naWZpZWRQYXRoIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2V0Iiwic2VnbWVudHMiLCJyb3V0ZXJQYXJhbXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXNvbHZlU3R1ZGlvQmFzZVJvdXRlIiwic3R1ZGlvVXJsIiwiZmlsdGVyRGVmYXVsdCIsImlzVmFsaWREYXRlIiwiaXNWYWxpZFVSTCIsImVuZFBhdGgiLCJhdCIsInNvbWUiLCJkZW55bGlzdCIsImhhcyIsIlNldCIsImRhdGVTdHJpbmciLCJCb29sZWFuIiwiRGF0ZSIsInBhcnNlIiwidXJsIiwiVVJMIiwiVFJVTkNBVEVfTEVOR1RIIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAiLCJyZXN1bHRTb3VyY2VNYXAiLCJjb25maWciLCJfYSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiX2kiLCJsb2dnZXIiLCJlbmFibGVkIiwibXNnIiwiZXJyb3IiLCJjYWxsIiwiVHlwZUVycm9yIiwicmVwb3J0IiwiZW5jb2RlZCIsInNraXBwZWQiLCJyZXN1bHRXaXRoU3RlZ2EiLCJwcmV0dHlQYXRoRm9yTG9nZ2luZyIsIl90eXBlIiwib3JpZ2luIiwiaHJlZiIsImlzU2tpcHBpbmciLCJpc0VuY29kaW5nIiwiZ3JvdXBDb2xsYXBzZWQiLCJsb2ciLCJ0YWJsZSIsImFkZCIsInZhbHVlcyIsImdyb3VwRW5kIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAkMSIsImZyZWV6ZSIsIl9fcHJvdG9fXyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-gZIRaYar.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/index.browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.browser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.BasePatch),\n/* harmony export */   BaseTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransaction),\n/* harmony export */   ClientError: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.ClientError),\n/* harmony export */   ObservablePatch: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.ObservableTransaction),\n/* harmony export */   Patch: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.Patch),\n/* harmony export */   SanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient),\n/* harmony export */   ServerError: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.ServerError),\n/* harmony export */   Transaction: () => (/* reexport safe */ _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (/* binding */ deprecatedCreateClient),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_1__.adapter),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_1__.environment)\n/* harmony export */ });\n/* harmony import */ var _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_chunks/browserMiddleware-zDVeirri.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-zDVeirri.js\");\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n\n\n\nfunction defineDeprecatedCreateClient(createClient) {\n    return function deprecatedCreateClient(config) {\n        (0,_chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.printNoDefaultExport)();\n        return createClient(config);\n    };\n}\nconst exp = (0,_chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.defineCreateClientExports)(_chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.envMiddleware, _chunks_browserMiddleware_zDVeirri_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient);\nconst requester = exp.requester;\nconst createClient = exp.createClient;\nconst deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\n //# sourceMappingURL=index.browser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVJO0FBQzREO0FBQ3ZHO0FBRTVGLFNBQVNpQiw2QkFBNkJDLFlBQVk7SUFDaEQsT0FBTyxTQUFTQyx1QkFBdUJDLE1BQU07UUFDM0NwQiwyRkFBb0JBO1FBQ3BCLE9BQU9rQixhQUFhRTtJQUN0QjtBQUNGO0FBRUEsTUFBTUMsTUFBTXBCLGdHQUF5QkEsQ0FBQ0UsZ0ZBQWFBLEVBQUVELCtFQUFZQTtBQUNqRSxNQUFNb0IsWUFBWUQsSUFBSUMsU0FBUztBQUMvQixNQUFNSixlQUFlRyxJQUFJSCxZQUFZO0FBQ3JDLE1BQU1DLHlCQUF5QkYsNkJBQTZCQztBQUV3QixDQUNwRix5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob3RlbF9tYW5hZ2VtZW50Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvaW5kZXguYnJvd3Nlci5qcz85OThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaW50Tm9EZWZhdWx0RXhwb3J0LCBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzLCBTYW5pdHlDbGllbnQsIGVudk1pZGRsZXdhcmUgfSBmcm9tICcuL19jaHVua3MvYnJvd3Nlck1pZGRsZXdhcmUtekRWZWlycmkuanMnO1xuZXhwb3J0IHsgQmFzZVBhdGNoLCBCYXNlVHJhbnNhY3Rpb24sIENsaWVudEVycm9yLCBPYnNlcnZhYmxlUGF0Y2gsIE9ic2VydmFibGVTYW5pdHlDbGllbnQsIE9ic2VydmFibGVUcmFuc2FjdGlvbiwgUGF0Y2gsIFNlcnZlckVycm9yLCBUcmFuc2FjdGlvbiB9IGZyb20gJy4vX2NodW5rcy9icm93c2VyTWlkZGxld2FyZS16RFZlaXJyaS5qcyc7XG5leHBvcnQgeyBhZGFwdGVyIGFzIHVuc3RhYmxlX19hZGFwdGVyLCBlbnZpcm9ubWVudCBhcyB1bnN0YWJsZV9fZW52aXJvbm1lbnQgfSBmcm9tICdnZXQtaXQnO1xuXG5mdW5jdGlvbiBkZWZpbmVEZXByZWNhdGVkQ3JlYXRlQ2xpZW50KGNyZWF0ZUNsaWVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gZGVwcmVjYXRlZENyZWF0ZUNsaWVudChjb25maWcpIHtcbiAgICBwcmludE5vRGVmYXVsdEV4cG9ydCgpO1xuICAgIHJldHVybiBjcmVhdGVDbGllbnQoY29uZmlnKTtcbiAgfTtcbn1cblxuY29uc3QgZXhwID0gZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyhlbnZNaWRkbGV3YXJlLCBTYW5pdHlDbGllbnQpO1xuY29uc3QgcmVxdWVzdGVyID0gZXhwLnJlcXVlc3RlcjtcbmNvbnN0IGNyZWF0ZUNsaWVudCA9IGV4cC5jcmVhdGVDbGllbnQ7XG5jb25zdCBkZXByZWNhdGVkQ3JlYXRlQ2xpZW50ID0gZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudChjcmVhdGVDbGllbnQpO1xuXG5leHBvcnQgeyBTYW5pdHlDbGllbnQsIGNyZWF0ZUNsaWVudCwgZGVwcmVjYXRlZENyZWF0ZUNsaWVudCBhcyBkZWZhdWx0LCByZXF1ZXN0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIuanMubWFwXG4iXSwibmFtZXMiOlsicHJpbnROb0RlZmF1bHRFeHBvcnQiLCJkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzIiwiU2FuaXR5Q2xpZW50IiwiZW52TWlkZGxld2FyZSIsIkJhc2VQYXRjaCIsIkJhc2VUcmFuc2FjdGlvbiIsIkNsaWVudEVycm9yIiwiT2JzZXJ2YWJsZVBhdGNoIiwiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsIk9ic2VydmFibGVUcmFuc2FjdGlvbiIsIlBhdGNoIiwiU2VydmVyRXJyb3IiLCJUcmFuc2FjdGlvbiIsImFkYXB0ZXIiLCJ1bnN0YWJsZV9fYWRhcHRlciIsImVudmlyb25tZW50IiwidW5zdGFibGVfX2Vudmlyb25tZW50IiwiZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudCIsImNyZWF0ZUNsaWVudCIsImRlcHJlY2F0ZWRDcmVhdGVDbGllbnQiLCJjb25maWciLCJleHAiLCJyZXF1ZXN0ZXIiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/index.browser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/preview-kit/dist/client/createClient.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@sanity/preview-kit/dist/client/createClient.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ r)\n/* harmony export */ });\n/* harmony import */ var _sanity_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sanity/client */ \"(rsc)/./node_modules/@sanity/client/dist/index.browser.js\");\n\nconst r = (r)=>{\n    var o, a;\n    const { encodeSourceMap: c = t(), encodeSourceMapAtPath: i, studioUrl: u = n(), logger: l, ...s } = r;\n    let p = !0 === c;\n    if (\"auto\" === c && (p = function() {\n        try {\n            return \"preview\" === /* unsupported import.meta.env.VERCEL_ENV */ undefined.VERCEL_ENV;\n        } catch  {}\n        try {\n            return \"preview\" === process.env.VERCEL_ENV;\n        } catch  {}\n        return !1;\n    }()), \"string\" == typeof c && \"auto\" !== c) throw new Error(\"Invalid value for encodeSourceMap: \".concat(c, \". Did you mean 'auto'?\"));\n    try {\n        if (p && !1 !== r.resultSourceMap) return u ? (null == (a = null == l ? void 0 : l.debug) || a.call(l, \"[@sanity/preview-kit]: Creating source map enabled client\"), (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n            ...s,\n            resultSourceMap: r.resultSourceMap ? r.resultSourceMap : \"withKeyArraySelector\",\n            stega: {\n                enabled: !0,\n                studioUrl: u,\n                logger: l,\n                filter: i ? (e)=>i({\n                        path: e.sourcePath,\n                        filterDefault: ()=>e.filterDefault(e)\n                    }) : void 0\n            }\n        })) : (null == (o = null == l ? void 0 : l.error) || o.call(l, \"[@sanity/preview-kit]: Content source map enabled client is enabled, but no studioUrl is provided. Falling back to @sanity/client\"), (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__.createClient)(s));\n    } catch (e) {\n        console.error(\"[@sanity/preview-kit]: Error creating client\", e, \"falling back to non-embedded sourcemap mode\");\n    }\n    return (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__.createClient)(s);\n};\nfunction t() {\n    try {\n        return \"true\" === /* unsupported import.meta.env.SANITY_SOURCE_MAP */ undefined.SANITY_SOURCE_MAP;\n    } catch  {}\n    try {\n        return \"true\" === process.env.SANITY_SOURCE_MAP;\n    } catch  {}\n    return !1;\n}\nfunction n() {\n    try {\n        return /* unsupported import.meta.env.SANITY_STUDIO_URL */ undefined.SANITY_STUDIO_URL;\n    } catch  {}\n    try {\n        return process.env.SANITY_STUDIO_URL;\n    } catch  {}\n}\n //# sourceMappingURL=createClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wcmV2aWV3LWtpdC9kaXN0L2NsaWVudC9jcmVhdGVDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBOEM7QUFBQSxNQUFNRSxJQUFFQSxDQUFBQTtJQUFJLElBQUlDLEdBQUVDO0lBQUUsTUFBSyxFQUFDQyxpQkFBZ0JDLElBQUVDLEdBQUcsRUFBQ0MsdUJBQXNCQyxDQUFDLEVBQUNDLFdBQVVDLElBQUVDLEdBQUcsRUFBQ0MsUUFBT0MsQ0FBQyxFQUFDLEdBQUdDLEdBQUUsR0FBQ2I7SUFBRSxJQUFJYyxJQUFFLENBQUMsTUFBSVY7SUFBRSxJQUFHLFdBQVNBLEtBQUlVLENBQUFBLElBQUU7UUFBVyxJQUFHO1lBQUMsT0FBTSxjQUFZLGlFQUEwQjtRQUFBLEVBQUMsT0FBSyxDQUFDO1FBQUMsSUFBRztZQUFDLE9BQU0sY0FBWUcsUUFBUUYsR0FBRyxDQUFDQyxVQUFVO1FBQUEsRUFBQyxPQUFLLENBQUM7UUFBQyxPQUFNLENBQUM7SUFBQyxHQUFFLEdBQUcsWUFBVSxPQUFPWixLQUFHLFdBQVNBLEdBQUUsTUFBTSxJQUFJYyxNQUFNLHNDQUFzQ0MsTUFBTSxDQUFDZixHQUFFO0lBQTJCLElBQUc7UUFBQyxJQUFHVSxLQUFHLENBQUMsTUFBSWQsRUFBRW9CLGVBQWUsRUFBQyxPQUFPWCxJQUFHLFNBQU9QLENBQUFBLElBQUUsUUFBTVUsSUFBRSxLQUFLLElBQUVBLEVBQUVTLEtBQUssS0FBR25CLEVBQUVvQixJQUFJLENBQUNWLEdBQUUsOERBQTZEYiw0REFBQ0EsQ0FBQztZQUFDLEdBQUdjLENBQUM7WUFBQ08saUJBQWdCcEIsRUFBRW9CLGVBQWUsR0FBQ3BCLEVBQUVvQixlQUFlLEdBQUM7WUFBdUJHLE9BQU07Z0JBQUNDLFNBQVEsQ0FBQztnQkFBRWhCLFdBQVVDO2dCQUFFRSxRQUFPQztnQkFBRWEsUUFBT2xCLElBQUVSLENBQUFBLElBQUdRLEVBQUU7d0JBQUNtQixNQUFLM0IsRUFBRTRCLFVBQVU7d0JBQUNDLGVBQWMsSUFBSTdCLEVBQUU2QixhQUFhLENBQUM3QjtvQkFBRSxLQUFHLEtBQUs7WUFBQztRQUFDLEVBQUMsSUFBSSxTQUFPRSxDQUFBQSxJQUFFLFFBQU1XLElBQUUsS0FBSyxJQUFFQSxFQUFFaUIsS0FBSyxLQUFHNUIsRUFBRXFCLElBQUksQ0FBQ1YsR0FBRSxzSUFBcUliLDREQUFDQSxDQUFDYyxFQUFDO0lBQUUsRUFBQyxPQUFNZCxHQUFFO1FBQUMrQixRQUFRRCxLQUFLLENBQUMsZ0RBQStDOUIsR0FBRTtJQUE4QztJQUFDLE9BQU9BLDREQUFDQSxDQUFDYztBQUFFO0FBQUUsU0FBU1I7SUFBSSxJQUFHO1FBQUMsT0FBTSxXQUFTLCtFQUFpQztJQUFBLEVBQUMsT0FBSyxDQUFDO0lBQUMsSUFBRztRQUFDLE9BQU0sV0FBU1ksUUFBUUYsR0FBRyxDQUFDZ0IsaUJBQWlCO0lBQUEsRUFBQyxPQUFLLENBQUM7SUFBQyxPQUFNLENBQUM7QUFBQztBQUFDLFNBQVNyQjtJQUFJLElBQUc7UUFBQyxPQUFPLCtFQUFpQztJQUFBLEVBQUMsT0FBSyxDQUFDO0lBQUMsSUFBRztRQUFDLE9BQU9PLFFBQVFGLEdBQUcsQ0FBQ2lCLGlCQUFpQjtJQUFBLEVBQUMsT0FBSyxDQUFDO0FBQUM7QUFBMkIsQ0FDcDJDLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2hvdGVsX21hbmFnZW1lbnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wcmV2aWV3LWtpdC9kaXN0L2NsaWVudC9jcmVhdGVDbGllbnQuanM/M2JiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7Y3JlYXRlQ2xpZW50IGFzIGV9ZnJvbVwiQHNhbml0eS9jbGllbnRcIjtjb25zdCByPXI9Pnt2YXIgbyxhO2NvbnN0e2VuY29kZVNvdXJjZU1hcDpjPXQoKSxlbmNvZGVTb3VyY2VNYXBBdFBhdGg6aSxzdHVkaW9Vcmw6dT1uKCksbG9nZ2VyOmwsLi4uc309cjtsZXQgcD0hMD09PWM7aWYoXCJhdXRvXCI9PT1jJiYocD1mdW5jdGlvbigpe3RyeXtyZXR1cm5cInByZXZpZXdcIj09PWltcG9ydC5tZXRhLmVudi5WRVJDRUxfRU5WfWNhdGNoe310cnl7cmV0dXJuXCJwcmV2aWV3XCI9PT1wcm9jZXNzLmVudi5WRVJDRUxfRU5WfWNhdGNoe31yZXR1cm4hMX0oKSksXCJzdHJpbmdcIj09dHlwZW9mIGMmJlwiYXV0b1wiIT09Yyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBlbmNvZGVTb3VyY2VNYXA6IFwiLmNvbmNhdChjLFwiLiBEaWQgeW91IG1lYW4gJ2F1dG8nP1wiKSk7dHJ5e2lmKHAmJiExIT09ci5yZXN1bHRTb3VyY2VNYXApcmV0dXJuIHU/KG51bGw9PShhPW51bGw9PWw/dm9pZCAwOmwuZGVidWcpfHxhLmNhbGwobCxcIltAc2FuaXR5L3ByZXZpZXcta2l0XTogQ3JlYXRpbmcgc291cmNlIG1hcCBlbmFibGVkIGNsaWVudFwiKSxlKHsuLi5zLHJlc3VsdFNvdXJjZU1hcDpyLnJlc3VsdFNvdXJjZU1hcD9yLnJlc3VsdFNvdXJjZU1hcDpcIndpdGhLZXlBcnJheVNlbGVjdG9yXCIsc3RlZ2E6e2VuYWJsZWQ6ITAsc3R1ZGlvVXJsOnUsbG9nZ2VyOmwsZmlsdGVyOmk/ZT0+aSh7cGF0aDplLnNvdXJjZVBhdGgsZmlsdGVyRGVmYXVsdDooKT0+ZS5maWx0ZXJEZWZhdWx0KGUpfSk6dm9pZCAwfX0pKToobnVsbD09KG89bnVsbD09bD92b2lkIDA6bC5lcnJvcil8fG8uY2FsbChsLFwiW0BzYW5pdHkvcHJldmlldy1raXRdOiBDb250ZW50IHNvdXJjZSBtYXAgZW5hYmxlZCBjbGllbnQgaXMgZW5hYmxlZCwgYnV0IG5vIHN0dWRpb1VybCBpcyBwcm92aWRlZC4gRmFsbGluZyBiYWNrIHRvIEBzYW5pdHkvY2xpZW50XCIpLGUocykpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJbQHNhbml0eS9wcmV2aWV3LWtpdF06IEVycm9yIGNyZWF0aW5nIGNsaWVudFwiLGUsXCJmYWxsaW5nIGJhY2sgdG8gbm9uLWVtYmVkZGVkIHNvdXJjZW1hcCBtb2RlXCIpfXJldHVybiBlKHMpfTtmdW5jdGlvbiB0KCl7dHJ5e3JldHVyblwidHJ1ZVwiPT09aW1wb3J0Lm1ldGEuZW52LlNBTklUWV9TT1VSQ0VfTUFQfWNhdGNoe310cnl7cmV0dXJuXCJ0cnVlXCI9PT1wcm9jZXNzLmVudi5TQU5JVFlfU09VUkNFX01BUH1jYXRjaHt9cmV0dXJuITF9ZnVuY3Rpb24gbigpe3RyeXtyZXR1cm4gaW1wb3J0Lm1ldGEuZW52LlNBTklUWV9TVFVESU9fVVJMfWNhdGNoe310cnl7cmV0dXJuIHByb2Nlc3MuZW52LlNBTklUWV9TVFVESU9fVVJMfWNhdGNoe319ZXhwb3J0e3IgYXMgY3JlYXRlQ2xpZW50fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUNsaWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJlIiwiciIsIm8iLCJhIiwiZW5jb2RlU291cmNlTWFwIiwiYyIsInQiLCJlbmNvZGVTb3VyY2VNYXBBdFBhdGgiLCJpIiwic3R1ZGlvVXJsIiwidSIsIm4iLCJsb2dnZXIiLCJsIiwicyIsInAiLCJlbnYiLCJWRVJDRUxfRU5WIiwicHJvY2VzcyIsIkVycm9yIiwiY29uY2F0IiwicmVzdWx0U291cmNlTWFwIiwiZGVidWciLCJjYWxsIiwic3RlZ2EiLCJlbmFibGVkIiwiZmlsdGVyIiwicGF0aCIsInNvdXJjZVBhdGgiLCJmaWx0ZXJEZWZhdWx0IiwiZXJyb3IiLCJjb25zb2xlIiwiU0FOSVRZX1NPVVJDRV9NQVAiLCJTQU5JVFlfU1RVRElPX1VSTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/preview-kit/dist/client/createClient.js\n");

/***/ })

};
;